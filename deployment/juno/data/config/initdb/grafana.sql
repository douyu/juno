-- Adminer 4.8.1 MySQL 5.7.36 dump

SET NAMES utf8;
SET time_zone = '+00:00';
SET foreign_key_checks = 0;
SET sql_mode = 'NO_AUTO_VALUE_ON_ZERO';

DROP DATABASE IF EXISTS `grafana`;
CREATE DATABASE `grafana` /*!40100 DEFAULT CHARACTER SET utf8 */;
USE `grafana`;

SET NAMES utf8mb4;

DROP TABLE IF EXISTS `alert`;
CREATE TABLE `alert` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `version` bigint(20) NOT NULL,
  `dashboard_id` bigint(20) NOT NULL,
  `panel_id` bigint(20) NOT NULL,
  `org_id` bigint(20) NOT NULL,
  `name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `message` text COLLATE utf8mb4_unicode_ci NOT NULL,
  `state` varchar(190) COLLATE utf8mb4_unicode_ci NOT NULL,
  `settings` mediumtext COLLATE utf8mb4_unicode_ci,
  `frequency` bigint(20) NOT NULL,
  `handler` bigint(20) NOT NULL,
  `severity` text COLLATE utf8mb4_unicode_ci NOT NULL,
  `silenced` tinyint(1) NOT NULL,
  `execution_error` text COLLATE utf8mb4_unicode_ci NOT NULL,
  `eval_data` text COLLATE utf8mb4_unicode_ci,
  `eval_date` datetime DEFAULT NULL,
  `new_state_date` datetime NOT NULL,
  `state_changes` int(11) NOT NULL,
  `created` datetime NOT NULL,
  `updated` datetime NOT NULL,
  `for` bigint(20) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `IDX_alert_org_id_id` (`org_id`,`id`),
  KEY `IDX_alert_state` (`state`),
  KEY `IDX_alert_dashboard_id` (`dashboard_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


DROP TABLE IF EXISTS `alert_configuration`;
CREATE TABLE `alert_configuration` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `alertmanager_configuration` mediumtext COLLATE utf8mb4_unicode_ci,
  `configuration_version` varchar(3) COLLATE utf8mb4_unicode_ci NOT NULL,
  `created_at` int(11) NOT NULL,
  `default` tinyint(1) NOT NULL DEFAULT '0',
  `org_id` bigint(20) NOT NULL DEFAULT '0',
  `configuration_hash` varchar(32) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'not-yet-calculated',
  PRIMARY KEY (`id`),
  KEY `IDX_alert_configuration_org_id` (`org_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

INSERT INTO `alert_configuration` (`id`, `alertmanager_configuration`, `configuration_version`, `created_at`, `default`, `org_id`, `configuration_hash`) VALUES
(1,	'{\n	\"alertmanager_config\": {\n		\"route\": {\n			\"receiver\": \"grafana-default-email\",\n			\"group_by\": [\"grafana_folder\", \"alertname\"]\n		},\n		\"receivers\": [{\n			\"name\": \"grafana-default-email\",\n			\"grafana_managed_receiver_configs\": [{\n				\"uid\": \"\",\n				\"name\": \"email receiver\",\n				\"type\": \"email\",\n				\"isDefault\": true,\n				\"settings\": {\n					\"addresses\": \"<example@email.com>\"\n				}\n			}]\n		}]\n	}\n}\n',	'v1',	1676529160,	1,	1,	'e0528a75784033ae7b15c40851d89484');

DROP TABLE IF EXISTS `alert_image`;
CREATE TABLE `alert_image` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `token` varchar(190) COLLATE utf8mb4_unicode_ci NOT NULL,
  `path` varchar(190) COLLATE utf8mb4_unicode_ci NOT NULL,
  `url` varchar(2048) COLLATE utf8mb4_unicode_ci NOT NULL,
  `created_at` datetime NOT NULL,
  `expires_at` datetime NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `UQE_alert_image_token` (`token`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


DROP TABLE IF EXISTS `alert_instance`;
CREATE TABLE `alert_instance` (
  `rule_org_id` bigint(20) NOT NULL,
  `rule_uid` varchar(40) COLLATE utf8mb4_unicode_ci NOT NULL,
  `labels` text COLLATE utf8mb4_unicode_ci NOT NULL,
  `labels_hash` varchar(190) COLLATE utf8mb4_unicode_ci NOT NULL,
  `current_state` varchar(190) COLLATE utf8mb4_unicode_ci NOT NULL,
  `current_state_since` bigint(20) NOT NULL,
  `last_eval_time` bigint(20) NOT NULL,
  `current_state_end` bigint(20) NOT NULL DEFAULT '0',
  `current_reason` varchar(190) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  PRIMARY KEY (`rule_org_id`,`rule_uid`,`labels_hash`),
  KEY `IDX_alert_instance_rule_org_id_rule_uid_current_state` (`rule_org_id`,`rule_uid`,`current_state`),
  KEY `IDX_alert_instance_rule_org_id_current_state` (`rule_org_id`,`current_state`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


DROP TABLE IF EXISTS `alert_notification`;
CREATE TABLE `alert_notification` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `org_id` bigint(20) NOT NULL,
  `name` varchar(190) COLLATE utf8mb4_unicode_ci NOT NULL,
  `type` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `settings` text COLLATE utf8mb4_unicode_ci NOT NULL,
  `created` datetime NOT NULL,
  `updated` datetime NOT NULL,
  `is_default` tinyint(1) NOT NULL DEFAULT '0',
  `frequency` bigint(20) DEFAULT NULL,
  `send_reminder` tinyint(1) DEFAULT '0',
  `disable_resolve_message` tinyint(1) NOT NULL DEFAULT '0',
  `uid` varchar(40) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `secure_settings` text COLLATE utf8mb4_unicode_ci,
  PRIMARY KEY (`id`),
  UNIQUE KEY `UQE_alert_notification_org_id_uid` (`org_id`,`uid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


DROP TABLE IF EXISTS `alert_notification_state`;
CREATE TABLE `alert_notification_state` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `org_id` bigint(20) NOT NULL,
  `alert_id` bigint(20) NOT NULL,
  `notifier_id` bigint(20) NOT NULL,
  `state` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL,
  `version` bigint(20) NOT NULL,
  `updated_at` bigint(20) NOT NULL,
  `alert_rule_state_updated_version` bigint(20) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `UQE_alert_notification_state_org_id_alert_id_notifier_id` (`org_id`,`alert_id`,`notifier_id`),
  KEY `IDX_alert_notification_state_alert_id` (`alert_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


DROP TABLE IF EXISTS `alert_rule`;
CREATE TABLE `alert_rule` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `org_id` bigint(20) NOT NULL,
  `title` varchar(190) COLLATE utf8mb4_unicode_ci NOT NULL,
  `condition` varchar(190) COLLATE utf8mb4_unicode_ci NOT NULL,
  `data` mediumtext COLLATE utf8mb4_unicode_ci,
  `updated` datetime NOT NULL,
  `interval_seconds` bigint(20) NOT NULL DEFAULT '60',
  `version` int(11) NOT NULL DEFAULT '0',
  `uid` varchar(40) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '0',
  `namespace_uid` varchar(40) COLLATE utf8mb4_unicode_ci NOT NULL,
  `rule_group` varchar(190) COLLATE utf8mb4_unicode_ci NOT NULL,
  `no_data_state` varchar(15) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'NoData',
  `exec_err_state` varchar(15) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'Alerting',
  `for` bigint(20) NOT NULL DEFAULT '0',
  `annotations` text COLLATE utf8mb4_unicode_ci,
  `labels` text COLLATE utf8mb4_unicode_ci,
  `dashboard_uid` varchar(40) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `panel_id` bigint(20) DEFAULT NULL,
  `rule_group_idx` int(11) NOT NULL DEFAULT '1',
  PRIMARY KEY (`id`),
  UNIQUE KEY `UQE_alert_rule_org_id_uid` (`org_id`,`uid`),
  UNIQUE KEY `UQE_alert_rule_org_id_namespace_uid_title` (`org_id`,`namespace_uid`,`title`),
  KEY `IDX_alert_rule_org_id_namespace_uid_rule_group` (`org_id`,`namespace_uid`,`rule_group`),
  KEY `IDX_alert_rule_org_id_dashboard_uid_panel_id` (`org_id`,`dashboard_uid`,`panel_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


DROP TABLE IF EXISTS `alert_rule_tag`;
CREATE TABLE `alert_rule_tag` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `alert_id` bigint(20) NOT NULL,
  `tag_id` bigint(20) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `UQE_alert_rule_tag_alert_id_tag_id` (`alert_id`,`tag_id`),
  KEY `IDX_alert_rule_tag_alert_id` (`alert_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


DROP TABLE IF EXISTS `alert_rule_version`;
CREATE TABLE `alert_rule_version` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `rule_org_id` bigint(20) NOT NULL,
  `rule_uid` varchar(40) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '0',
  `rule_namespace_uid` varchar(40) COLLATE utf8mb4_unicode_ci NOT NULL,
  `rule_group` varchar(190) COLLATE utf8mb4_unicode_ci NOT NULL,
  `parent_version` int(11) NOT NULL,
  `restored_from` int(11) NOT NULL,
  `version` int(11) NOT NULL,
  `created` datetime NOT NULL,
  `title` varchar(190) COLLATE utf8mb4_unicode_ci NOT NULL,
  `condition` varchar(190) COLLATE utf8mb4_unicode_ci NOT NULL,
  `data` mediumtext COLLATE utf8mb4_unicode_ci,
  `interval_seconds` bigint(20) NOT NULL,
  `no_data_state` varchar(15) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'NoData',
  `exec_err_state` varchar(15) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'Alerting',
  `for` bigint(20) NOT NULL DEFAULT '0',
  `annotations` text COLLATE utf8mb4_unicode_ci,
  `labels` text COLLATE utf8mb4_unicode_ci,
  `rule_group_idx` int(11) NOT NULL DEFAULT '1',
  PRIMARY KEY (`id`),
  UNIQUE KEY `UQE_alert_rule_version_rule_org_id_rule_uid_version` (`rule_org_id`,`rule_uid`,`version`),
  KEY `IDX_alert_rule_version_rule_org_id_rule_namespace_uid_rule_group` (`rule_org_id`,`rule_namespace_uid`,`rule_group`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


DROP TABLE IF EXISTS `annotation`;
CREATE TABLE `annotation` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `org_id` bigint(20) NOT NULL,
  `alert_id` bigint(20) DEFAULT NULL,
  `user_id` bigint(20) DEFAULT NULL,
  `dashboard_id` bigint(20) DEFAULT NULL,
  `panel_id` bigint(20) DEFAULT NULL,
  `category_id` bigint(20) DEFAULT NULL,
  `type` varchar(25) COLLATE utf8mb4_unicode_ci NOT NULL,
  `title` text COLLATE utf8mb4_unicode_ci NOT NULL,
  `text` text COLLATE utf8mb4_unicode_ci NOT NULL,
  `metric` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `prev_state` varchar(25) COLLATE utf8mb4_unicode_ci NOT NULL,
  `new_state` varchar(25) COLLATE utf8mb4_unicode_ci NOT NULL,
  `data` text COLLATE utf8mb4_unicode_ci NOT NULL,
  `epoch` bigint(20) NOT NULL,
  `region_id` bigint(20) DEFAULT '0',
  `tags` varchar(4096) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `created` bigint(20) DEFAULT '0',
  `updated` bigint(20) DEFAULT '0',
  `epoch_end` bigint(20) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  KEY `IDX_annotation_org_id_alert_id` (`org_id`,`alert_id`),
  KEY `IDX_annotation_org_id_type` (`org_id`,`type`),
  KEY `IDX_annotation_org_id_created` (`org_id`,`created`),
  KEY `IDX_annotation_org_id_updated` (`org_id`,`updated`),
  KEY `IDX_annotation_org_id_dashboard_id_epoch_end_epoch` (`org_id`,`dashboard_id`,`epoch_end`,`epoch`),
  KEY `IDX_annotation_org_id_epoch_end_epoch` (`org_id`,`epoch_end`,`epoch`),
  KEY `IDX_annotation_alert_id` (`alert_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


DROP TABLE IF EXISTS `annotation_tag`;
CREATE TABLE `annotation_tag` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `annotation_id` bigint(20) NOT NULL,
  `tag_id` bigint(20) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `UQE_annotation_tag_annotation_id_tag_id` (`annotation_id`,`tag_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


DROP TABLE IF EXISTS `api_key`;
CREATE TABLE `api_key` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `org_id` bigint(20) NOT NULL,
  `name` varchar(190) COLLATE utf8mb4_unicode_ci NOT NULL,
  `key` varchar(190) COLLATE utf8mb4_unicode_ci NOT NULL,
  `role` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `created` datetime NOT NULL,
  `updated` datetime NOT NULL,
  `expires` bigint(20) DEFAULT NULL,
  `service_account_id` bigint(20) DEFAULT NULL,
  `last_used_at` datetime DEFAULT NULL,
  `is_revoked` tinyint(1) DEFAULT '0',
  PRIMARY KEY (`id`),
  UNIQUE KEY `UQE_api_key_key` (`key`),
  UNIQUE KEY `UQE_api_key_org_id_name` (`org_id`,`name`),
  KEY `IDX_api_key_org_id` (`org_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


DROP TABLE IF EXISTS `builtin_role`;
CREATE TABLE `builtin_role` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `role` varchar(190) COLLATE utf8mb4_unicode_ci NOT NULL,
  `role_id` bigint(20) NOT NULL,
  `created` datetime NOT NULL,
  `updated` datetime NOT NULL,
  `org_id` bigint(20) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  UNIQUE KEY `UQE_builtin_role_org_id_role_id_role` (`org_id`,`role_id`,`role`),
  KEY `IDX_builtin_role_role_id` (`role_id`),
  KEY `IDX_builtin_role_role` (`role`),
  KEY `IDX_builtin_role_org_id` (`org_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

INSERT INTO `builtin_role` (`id`, `role`, `role_id`, `created`, `updated`, `org_id`) VALUES
(1,	'Editor',	2,	'2023-02-16 07:45:32',	'2023-02-16 07:45:32',	1),
(2,	'Viewer',	3,	'2023-02-16 07:45:32',	'2023-02-16 07:45:32',	1);

DROP TABLE IF EXISTS `cache_data`;
CREATE TABLE `cache_data` (
  `cache_key` varchar(168) COLLATE utf8mb4_unicode_ci NOT NULL,
  `data` blob NOT NULL,
  `expires` int(255) NOT NULL,
  `created_at` int(255) NOT NULL,
  PRIMARY KEY (`cache_key`),
  UNIQUE KEY `UQE_cache_data_cache_key` (`cache_key`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

INSERT INTO `cache_data` (`cache_key`, `data`, `expires`, `created_at`) VALUES
('auth-proxy-sync-ttl:324a6bd28d83d94f7081447a94746b34',	' ��\ncachedItem��\0Val\0\0\0��int64\0\0',	3600,	1676533839);

DROP TABLE IF EXISTS `correlation`;
CREATE TABLE `correlation` (
  `uid` varchar(40) COLLATE utf8mb4_unicode_ci NOT NULL,
  `source_uid` varchar(40) COLLATE utf8mb4_unicode_ci NOT NULL,
  `target_uid` varchar(40) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `label` text COLLATE utf8mb4_unicode_ci NOT NULL,
  `description` text COLLATE utf8mb4_unicode_ci NOT NULL,
  `config` text COLLATE utf8mb4_unicode_ci,
  PRIMARY KEY (`uid`,`source_uid`),
  KEY `IDX_correlation_uid` (`uid`),
  KEY `IDX_correlation_source_uid` (`source_uid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


DROP TABLE IF EXISTS `dashboard`;
CREATE TABLE `dashboard` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `version` int(11) NOT NULL,
  `slug` varchar(189) COLLATE utf8mb4_unicode_ci NOT NULL,
  `title` varchar(189) COLLATE utf8mb4_unicode_ci NOT NULL,
  `data` mediumtext COLLATE utf8mb4_unicode_ci NOT NULL,
  `org_id` bigint(20) NOT NULL,
  `created` datetime NOT NULL,
  `updated` datetime NOT NULL,
  `updated_by` int(11) DEFAULT NULL,
  `created_by` int(11) DEFAULT NULL,
  `gnet_id` bigint(20) DEFAULT NULL,
  `plugin_id` varchar(189) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `folder_id` bigint(20) NOT NULL DEFAULT '0',
  `is_folder` tinyint(1) NOT NULL DEFAULT '0',
  `has_acl` tinyint(1) NOT NULL DEFAULT '0',
  `uid` varchar(40) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `is_public` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  UNIQUE KEY `UQE_dashboard_org_id_folder_id_title` (`org_id`,`folder_id`,`title`),
  UNIQUE KEY `UQE_dashboard_org_id_uid` (`org_id`,`uid`),
  KEY `IDX_dashboard_org_id` (`org_id`),
  KEY `IDX_dashboard_gnet_id` (`gnet_id`),
  KEY `IDX_dashboard_org_id_plugin_id` (`org_id`,`plugin_id`),
  KEY `IDX_dashboard_title` (`title`),
  KEY `IDX_dashboard_is_folder` (`is_folder`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

INSERT INTO `dashboard` (`id`, `version`, `slug`, `title`, `data`, `org_id`, `created`, `updated`, `updated_by`, `created_by`, `gnet_id`, `plugin_id`, `folder_id`, `is_folder`, `has_acl`, `uid`, `is_public`) VALUES
(1,	3,	'api',	'API',	'{\"annotations\":{\"list\":[{\"builtIn\":1,\"datasource\":{\"type\":\"datasource\",\"uid\":\"grafana\"},\"enable\":true,\"hide\":true,\"iconColor\":\"rgba(0, 211, 255, 1)\",\"name\":\"Annotations \\u0026 Alerts\",\"target\":{\"limit\":100,\"matchAny\":false,\"tags\":[],\"type\":\"dashboard\"},\"type\":\"dashboard\"}]},\"editable\":true,\"fiscalYearStartMonth\":0,\"graphTooltip\":1,\"id\":1,\"links\":[],\"liveNow\":false,\"panels\":[{\"collapsed\":false,\"datasource\":{\"type\":\"prometheus\",\"uid\":\"xbIDKTJVk\"},\"gridPos\":{\"h\":1,\"w\":24,\"x\":0,\"y\":0},\"id\":1112,\"panels\":[],\"targets\":[{\"datasource\":{\"type\":\"prometheus\",\"uid\":\"xbIDKTJVk\"},\"refId\":\"A\"}],\"title\":\"服务端\",\"type\":\"row\"},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":7,\"w\":6,\"x\":0,\"y\":1},\"hiddenSeries\":false,\"id\":1123,\"legend\":{\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"9.3.6\",\"pointradius\":2,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"datasource\":{\"uid\":\"$datasource\"},\"expr\":\"sum(rate(jupiter_server_handle_total{type=\\\"http\\\",method=~\\\"$method\\\",job=\\\"$appname\\\",code!=\\\"OK\\\"}[1m]))by(code,method,instance)\",\"format\":\"time_series\",\"interval\":\"\",\"intervalFactor\":1,\"legendFormat\":\"{{code}} | {{method}} | {{server}}\",\"refId\":\"A\"}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"HTTP Server错误码分布\",\"tooltip\":{\"shared\":true,\"sort\":2,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"decimals\":0,\"format\":\"short\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":7,\"w\":9,\"x\":6,\"y\":1},\"hiddenSeries\":false,\"id\":1115,\"legend\":{\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[{\"targetBlank\":true,\"title\":\"哈哈\",\"url\":\"http://www.baidu.com\"}],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"9.3.6\",\"pointradius\":2,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"datasource\":{\"uid\":\"$datasource\"},\"expr\":\"sum(irate(jupiter_server_handle_seconds_count{type=\\\"http\\\",job=\\\"$appname\\\", method=~\\\"$method\\\"}[1m]))by(method, instance)\",\"format\":\"time_series\",\"intervalFactor\":1,\"legendFormat\":\"{{method}} | {{instance}}\",\"refId\":\"A\"}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"HTTP Server QPS\",\"tooltip\":{\"shared\":true,\"sort\":2,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"decimals\":0,\"format\":\"short\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":7,\"w\":9,\"x\":15,\"y\":1},\"hiddenSeries\":false,\"id\":1122,\"legend\":{\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null as zero\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"9.3.6\",\"pointradius\":2,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"datasource\":{\"uid\":\"$datasource\"},\"expr\":\"avg(histogram_quantile(0.99,irate(jupiter_server_handle_seconds_bucket{type=\\\"http\\\", job=\\\"$appname\\\", method=~\\\"$method\\\"}[1m])\\u003e0)*1000)by(method,instance)\",\"format\":\"time_series\",\"hide\":false,\"intervalFactor\":1,\"legendFormat\":\"{{method}} | {{instance}}\",\"refId\":\"A\"}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"HTTP Server P99\",\"tooltip\":{\"shared\":true,\"sort\":2,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"decimals\":2,\"format\":\"ms\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":7,\"w\":6,\"x\":0,\"y\":8},\"hiddenSeries\":false,\"id\":1117,\"legend\":{\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"9.3.6\",\"pointradius\":2,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"datasource\":{\"uid\":\"$datasource\"},\"expr\":\"sum(rate(jupiter_server_handle_total{type=\\\"unary\\\",method=~\\\"$method\\\",job=\\\"$appname\\\",code!=\\\"OK\\\"}[1m]))by(code,method,instance)\",\"format\":\"time_series\",\"intervalFactor\":1,\"legendFormat\":\"{{code}} | {{method}} | {{instance}}\",\"refId\":\"A\"}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"GRPC Server状态码分布\",\"tooltip\":{\"shared\":true,\"sort\":2,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"decimals\":0,\"format\":\"short\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":7,\"w\":9,\"x\":6,\"y\":8},\"hiddenSeries\":false,\"id\":1127,\"legend\":{\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"9.3.6\",\"pointradius\":2,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"datasource\":{\"uid\":\"$datasource\"},\"expr\":\"sum(irate(jupiter_server_handle_seconds_count{type=\\\"unary\\\",job=\\\"$appname\\\",method=~\\\"$method\\\"}[1m]))by(method,instance)\",\"format\":\"time_series\",\"intervalFactor\":1,\"legendFormat\":\"{{method}} | {{instance}}\",\"refId\":\"A\"}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"GRPC Server QPS\",\"tooltip\":{\"shared\":true,\"sort\":2,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"decimals\":0,\"format\":\"short\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":7,\"w\":9,\"x\":15,\"y\":8},\"hiddenSeries\":false,\"id\":1116,\"legend\":{\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null as zero\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"9.3.6\",\"pointradius\":2,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"datasource\":{\"uid\":\"$datasource\"},\"expr\":\"avg(histogram_quantile(0.99,irate(jupiter_server_handle_seconds_bucket{type=\\\"unary\\\", job=\\\"$appname\\\",method=~\\\"$method\\\"}[1m])\\u003e0)*1000)by(method,instance)\",\"format\":\"time_series\",\"hide\":false,\"intervalFactor\":1,\"legendFormat\":\"{{method}} | {{instance}}\",\"refId\":\"A\"}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"GRPC Server P99\",\"tooltip\":{\"shared\":true,\"sort\":2,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"decimals\":2,\"format\":\"ms\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}}],\"refresh\":false,\"schemaVersion\":37,\"style\":\"dark\",\"tags\":[],\"templating\":{\"list\":[{\"current\":{\"selected\":false,\"text\":\"dev.cn-wuhan-guanggu-f1.jupiter1.0\",\"value\":\"dev.cn-wuhan-guanggu-f1.jupiter1.0\"},\"hide\":0,\"includeAll\":false,\"label\":\"机房\",\"multi\":false,\"name\":\"datasource\",\"options\":[],\"query\":\"prometheus\",\"queryValue\":\"\",\"refresh\":1,\"regex\":\"\",\"skipUrlSync\":false,\"type\":\"datasource\"},{\"current\":{\"selected\":false,\"text\":\"main\",\"value\":\"main\"},\"datasource\":{\"uid\":\"$datasource\"},\"definition\":\"label_values(go_info{},job)\",\"hide\":0,\"includeAll\":false,\"label\":\"应用名\",\"multi\":false,\"name\":\"appname\",\"options\":[],\"query\":{\"query\":\"label_values(go_info{},job)\",\"refId\":\"prod.zone-one.jupiter1.0-appname-Variable-Query\"},\"refresh\":1,\"regex\":\"\",\"skipUrlSync\":false,\"sort\":0,\"tagValuesQuery\":\"\",\"tagsQuery\":\"\",\"type\":\"query\",\"useTags\":false},{\"current\":{\"selected\":false,\"text\":\"All\",\"value\":\"$__all\"},\"datasource\":{\"uid\":\"$datasource\"},\"definition\":\"label_values(go_info{job=~\'$appname\'},instance)\",\"hide\":0,\"includeAll\":true,\"label\":\"实例\",\"multi\":true,\"name\":\"instance\",\"options\":[],\"query\":{\"query\":\"label_values(go_info{job=~\'$appname\'},instance)\",\"refId\":\"prod.zone-one.jupiter1.0-instance-Variable-Query\"},\"refresh\":1,\"regex\":\"\",\"skipUrlSync\":false,\"sort\":0,\"tagValuesQuery\":\"\",\"tagsQuery\":\"\",\"type\":\"query\",\"useTags\":false},{\"auto\":false,\"auto_count\":30,\"auto_min\":\"10s\",\"current\":{\"selected\":false,\"text\":\"1m\",\"value\":\"1m\"},\"hide\":0,\"name\":\"summarize\",\"options\":[{\"selected\":true,\"text\":\"1m\",\"value\":\"1m\"},{\"selected\":false,\"text\":\"10m\",\"value\":\"10m\"},{\"selected\":false,\"text\":\"30m\",\"value\":\"30m\"},{\"selected\":false,\"text\":\"1h\",\"value\":\"1h\"},{\"selected\":false,\"text\":\"6h\",\"value\":\"6h\"},{\"selected\":false,\"text\":\"12h\",\"value\":\"12h\"},{\"selected\":false,\"text\":\"1d\",\"value\":\"1d\"},{\"selected\":false,\"text\":\"7d\",\"value\":\"7d\"},{\"selected\":false,\"text\":\"14d\",\"value\":\"14d\"},{\"selected\":false,\"text\":\"30d\",\"value\":\"30d\"}],\"query\":\"1m,10m,30m,1h,6h,12h,1d,7d,14d,30d\",\"refresh\":2,\"skipUrlSync\":false,\"type\":\"interval\"},{\"current\":{\"selected\":true,\"text\":[\"All\"],\"value\":[\"$__all\"]},\"datasource\":{\"uid\":\"$datasource\"},\"definition\":\"label_values(jupiter_server_handle_seconds_count{job=~\'$appname\'},method) \",\"hide\":0,\"includeAll\":true,\"label\":\"方法名\",\"multi\":true,\"name\":\"method\",\"options\":[],\"query\":{\"query\":\"label_values(jupiter_server_handle_seconds_count{job=~\'$appname\'},method) \",\"refId\":\"prod.zone-one.jupiter1.0-method-Variable-Query\"},\"refresh\":1,\"regex\":\"\",\"skipUrlSync\":false,\"sort\":0,\"tagValuesQuery\":\"\",\"tagsQuery\":\"\",\"type\":\"query\",\"useTags\":false}]},\"time\":{\"from\":\"now-30m\",\"to\":\"now\"},\"timepicker\":{\"refresh_intervals\":[\"10s\",\"30s\",\"1m\",\"5m\",\"15m\",\"30m\",\"1h\",\"2h\",\"1d\"],\"time_options\":[\"5m\",\"15m\",\"1h\",\"6h\",\"12h\",\"24h\",\"2d\",\"7d\",\"30d\"]},\"timezone\":\"\",\"title\":\"API\",\"uid\":\"api\",\"version\":3,\"weekStart\":\"\"}',	1,	'2023-02-16 07:45:32',	'2023-02-16 08:00:39',	1,	1,	0,	'',	0,	0,	0,	'api',	0),
(2,	1,	'instance',	'Instance',	'{\"annotations\":{\"list\":[{\"builtIn\":1,\"datasource\":\"-- Grafana --\",\"enable\":true,\"hide\":true,\"iconColor\":\"rgba(0, 211, 255, 1)\",\"name\":\"Annotations \\u0026 Alerts\",\"target\":{\"limit\":100,\"matchAny\":false,\"tags\":[],\"type\":\"dashboard\"},\"type\":\"dashboard\"}]},\"editable\":true,\"fiscalYearStartMonth\":0,\"graphTooltip\":1,\"id\":null,\"iteration\":1676533540163,\"links\":[],\"liveNow\":false,\"panels\":[{\"gridPos\":{\"h\":1,\"w\":24,\"x\":0,\"y\":0},\"id\":1135,\"title\":\"概览\",\"type\":\"row\"},{\"datasource\":{\"uid\":\"$datasource\"},\"fieldConfig\":{\"defaults\":{\"color\":{\"mode\":\"thresholds\"},\"mappings\":[{\"options\":{\"from\":0,\"result\":{\"text\":\"严重\"},\"to\":0.9},\"type\":\"range\"},{\"options\":{\"from\":0.9,\"result\":{\"text\":\"警告\"},\"to\":0.99},\"type\":\"range\"},{\"options\":{\"from\":1,\"result\":{\"text\":\"健康\"},\"to\":1},\"type\":\"range\"}],\"thresholds\":{\"mode\":\"absolute\",\"steps\":[{\"color\":\"#E02F44\",\"value\":null},{\"color\":\"#FF780A\",\"value\":0.5},{\"color\":\"#56A64B\",\"value\":1}]},\"unit\":\"none\"},\"overrides\":[]},\"gridPos\":{\"h\":5,\"w\":3,\"x\":0,\"y\":1},\"id\":1133,\"links\":[],\"maxDataPoints\":100,\"options\":{\"colorMode\":\"background\",\"graphMode\":\"none\",\"justifyMode\":\"auto\",\"orientation\":\"horizontal\",\"reduceOptions\":{\"calcs\":[\"lastNotNull\"],\"fields\":\"\",\"values\":false},\"textMode\":\"auto\"},\"pluginVersion\":\"8.3.3\",\"targets\":[{\"alias\":\"\",\"dsType\":\"influxdb\",\"expr\":\"avg(up{job=\\\"$appname\\\",instance=~\\\"$instance\\\"})by(job)\",\"format\":\"time_series\",\"groupBy\":[{\"params\":[\"$interval\"],\"type\":\"time\"},{\"params\":[\"null\"],\"type\":\"fill\"}],\"interval\":\"\",\"intervalFactor\":2,\"legendFormat\":\"{{instance}}\",\"measurement\":\"application.httprequests__active\",\"policy\":\"default\",\"refId\":\"A\",\"resultFormat\":\"time_series\",\"select\":[[{\"params\":[\"value\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"}]],\"step\":10,\"tags\":[{\"key\":\"env\",\"operator\":\"=~\",\"value\":\"/^$environment$/\"},{\"condition\":\"AND\",\"key\":\"app\",\"operator\":\"=~\",\"value\":\"/^$application$/\"}]}],\"type\":\"stat\"},{\"datasource\":{\"uid\":\"$datasource\"},\"fieldConfig\":{\"defaults\":{\"mappings\":[],\"thresholds\":{\"mode\":\"absolute\",\"steps\":[{\"color\":\"green\",\"value\":null},{\"color\":\"red\",\"value\":80}]}},\"overrides\":[]},\"gridPos\":{\"h\":5,\"w\":3,\"x\":3,\"y\":1},\"id\":36,\"links\":[],\"options\":{\"colorMode\":\"value\",\"graphMode\":\"area\",\"justifyMode\":\"auto\",\"orientation\":\"auto\",\"reduceOptions\":{\"calcs\":[\"mean\"],\"fields\":\"\",\"values\":false},\"textMode\":\"auto\"},\"pluginVersion\":\"8.3.3\",\"targets\":[{\"alias\":\"\",\"dsType\":\"influxdb\",\"expr\":\"sum(up{job=\\\"$appname\\\"})\",\"format\":\"time_series\",\"groupBy\":[{\"params\":[\"$interval\"],\"type\":\"time\"},{\"params\":[\"null\"],\"type\":\"fill\"}],\"interval\":\"\",\"intervalFactor\":2,\"legendFormat\":\"{{instance}}\",\"measurement\":\"application.httprequests__active\",\"policy\":\"default\",\"refId\":\"A\",\"resultFormat\":\"time_series\",\"select\":[[{\"params\":[\"value\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"}]],\"step\":10,\"tags\":[{\"key\":\"env\",\"operator\":\"=~\",\"value\":\"/^$environment$/\"},{\"condition\":\"AND\",\"key\":\"app\",\"operator\":\"=~\",\"value\":\"/^$application$/\"}]}],\"title\":\"实例数\",\"type\":\"stat\"},{\"datasource\":{\"uid\":\"$datasource\"},\"fieldConfig\":{\"defaults\":{\"color\":{\"mode\":\"thresholds\"},\"decimals\":2,\"mappings\":[{\"options\":{\"match\":\"null\",\"result\":{\"text\":\"N/A\"}},\"type\":\"special\"}],\"max\":100,\"min\":0,\"thresholds\":{\"mode\":\"absolute\",\"steps\":[{\"color\":\"#299c46\",\"value\":null},{\"color\":\"rgba(237, 129, 40, 0.89)\",\"value\":50},{\"color\":\"#d44a3a\",\"value\":80}]},\"unit\":\"percent\"},\"overrides\":[]},\"gridPos\":{\"h\":5,\"w\":3,\"x\":6,\"y\":1},\"id\":1129,\"links\":[{\"targetBlank\":true,\"title\":\"进程\",\"url\":\"https://xxx.xxx.com/confu/monitor/test/1\"},{\"url\":\"/\"}],\"maxDataPoints\":100,\"options\":{\"orientation\":\"horizontal\",\"reduceOptions\":{\"calcs\":[\"lastNotNull\"],\"fields\":\"\",\"values\":false},\"showThresholdLabels\":false,\"showThresholdMarkers\":true},\"pluginVersion\":\"8.3.3\",\"targets\":[{\"expr\":\"max((irate(process_cpu_seconds_total{instance=~\\\"$instance\\\",job=\\\"$appname\\\"}[1m])  ) * 100)\",\"format\":\"time_series\",\"intervalFactor\":1,\"refId\":\"A\"}],\"title\":\"应用进程最大cpu\",\"type\":\"gauge\"},{\"datasource\":{\"uid\":\"$datasource\"},\"fieldConfig\":{\"defaults\":{\"mappings\":[],\"thresholds\":{\"mode\":\"absolute\",\"steps\":[{\"color\":\"green\",\"value\":null},{\"color\":\"red\",\"value\":80}]},\"unit\":\"bytes\"},\"overrides\":[]},\"gridPos\":{\"h\":5,\"w\":4,\"x\":9,\"y\":1},\"id\":1130,\"links\":[{\"targetBlank\":true,\"title\":\"进程\",\"url\":\"https://xxx.xxx.com/confu/monitor/test/1\"},{\"url\":\"/\"}],\"options\":{\"colorMode\":\"value\",\"graphMode\":\"area\",\"justifyMode\":\"auto\",\"orientation\":\"auto\",\"reduceOptions\":{\"calcs\":[\"mean\"],\"fields\":\"\",\"values\":false},\"textMode\":\"auto\"},\"pluginVersion\":\"8.3.3\",\"targets\":[{\"expr\":\"max(process_resident_memory_bytes{instance=~\\\"$instance\\\",job=\\\"$appname\\\"})\\n\",\"format\":\"time_series\",\"intervalFactor\":1,\"refId\":\"A\"}],\"title\":\"应用进程最大进程驻留内存\",\"type\":\"stat\"},{\"datasource\":{\"uid\":\"$datasource\"},\"fieldConfig\":{\"defaults\":{\"mappings\":[],\"thresholds\":{\"mode\":\"absolute\",\"steps\":[{\"color\":\"green\",\"value\":null},{\"color\":\"red\",\"value\":80}]}},\"overrides\":[]},\"gridPos\":{\"h\":5,\"w\":4,\"x\":13,\"y\":1},\"id\":1131,\"links\":[{\"targetBlank\":true,\"title\":\"进程\",\"url\":\"https://xxx.xxx.com/confu/monitor/test/1\"},{\"url\":\"/\"}],\"options\":{\"colorMode\":\"value\",\"graphMode\":\"area\",\"justifyMode\":\"auto\",\"orientation\":\"auto\",\"reduceOptions\":{\"calcs\":[\"mean\"],\"fields\":\"\",\"values\":false},\"textMode\":\"auto\"},\"pluginVersion\":\"8.3.3\",\"targets\":[{\"expr\":\"max(sum(irate(jupiter_server_handle_seconds_count{job=\\\"$appname\\\",instance=~\\\"$instance\\\"}[1m])) by (instance))\",\"format\":\"time_series\",\"intervalFactor\":1,\"legendFormat\":\"{{$instance}}\",\"refId\":\"A\"}],\"title\":\"单一实例最大QPS\",\"type\":\"stat\"},{\"datasource\":{\"uid\":\"$datasource\"},\"fieldConfig\":{\"defaults\":{\"mappings\":[],\"thresholds\":{\"mode\":\"absolute\",\"steps\":[{\"color\":\"green\",\"value\":null},{\"color\":\"red\",\"value\":80}]}},\"overrides\":[]},\"gridPos\":{\"h\":5,\"w\":4,\"x\":17,\"y\":1},\"id\":1132,\"links\":[{\"targetBlank\":true,\"title\":\"进程\",\"url\":\"https://xxx.xxx.com/confu/monitor/test/1\"},{\"url\":\"/\"}],\"options\":{\"colorMode\":\"value\",\"graphMode\":\"area\",\"justifyMode\":\"auto\",\"orientation\":\"auto\",\"reduceOptions\":{\"calcs\":[\"mean\"],\"fields\":\"\",\"values\":false},\"textMode\":\"auto\"},\"pluginVersion\":\"8.3.3\",\"targets\":[{\"expr\":\"max(sum(irate(jupiter_server_handle_seconds_count{job=\\\"$appname\\\"}[1m])) by (job)) \",\"format\":\"time_series\",\"intervalFactor\":1,\"legendFormat\":\"总 QPS\",\"refId\":\"A\"}],\"title\":\"总 QPS\",\"type\":\"stat\"},{\"datasource\":{\"uid\":\"$datasource\"},\"description\":\"GC 持续时间\",\"fieldConfig\":{\"defaults\":{\"color\":{\"fixedColor\":\"rgb(31, 120, 193)\",\"mode\":\"fixed\"},\"mappings\":[{\"options\":{\"match\":\"null\",\"result\":{\"text\":\"N/A\"}},\"type\":\"special\"}],\"thresholds\":{\"mode\":\"absolute\",\"steps\":[{\"color\":\"green\",\"value\":null},{\"color\":\"red\",\"value\":80}]},\"unit\":\"none\"},\"overrides\":[]},\"gridPos\":{\"h\":5,\"w\":3,\"x\":21,\"y\":1},\"id\":59,\"links\":[],\"maxDataPoints\":100,\"options\":{\"colorMode\":\"none\",\"graphMode\":\"area\",\"justifyMode\":\"auto\",\"orientation\":\"horizontal\",\"reduceOptions\":{\"calcs\":[\"mean\"],\"fields\":\"\",\"values\":false},\"textMode\":\"auto\"},\"pluginVersion\":\"8.3.3\",\"targets\":[{\"expr\":\"max(process_open_fds{job=~\\\"^($appname)$\\\",instance=~\\\"^($instance)$\\\"})by(job)\",\"format\":\"time_series\",\"hide\":false,\"intervalFactor\":1,\"legendFormat\":\"{{instance}}\",\"refId\":\"A\"}],\"title\":\"单一实例最大文件句柄数\",\"type\":\"stat\"},{\"collapsed\":false,\"gridPos\":{\"h\":1,\"w\":24,\"x\":0,\"y\":6},\"id\":32,\"panels\":[],\"title\":\"实例\",\"type\":\"row\"},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"description\":\"GC 持续时间\",\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":5,\"w\":6,\"x\":0,\"y\":7},\"hiddenSeries\":false,\"id\":68,\"legend\":{\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"8.3.3\",\"pointradius\":2,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"expr\":\"max(go_gc_duration_seconds{job=~\\\"^($appname)$\\\",instance=~\\\"^($instance)$\\\"})by(instance)\",\"format\":\"time_series\",\"hide\":false,\"intervalFactor\":1,\"legendFormat\":\"{{instance}}\",\"refId\":\"A\"}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"GC 耗时\",\"tooltip\":{\"shared\":true,\"sort\":0,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"format\":\"ms\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":5,\"w\":9,\"x\":6,\"y\":7},\"hiddenSeries\":false,\"id\":29,\"legend\":{\"alignAsTable\":false,\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"rightSide\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"8.3.3\",\"pointradius\":2,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"alias\":\"$tag_route\",\"dsType\":\"influxdb\",\"expr\":\"sum(irate(jupiter_server_handle_seconds_count{instance=~\\\"$instance\\\",job=~\\\"$appname\\\"}[1m]))by(instance)\",\"format\":\"time_series\",\"groupBy\":[{\"params\":[\"$interval\"],\"type\":\"time\"},{\"params\":[\"route\"],\"type\":\"tag\"},{\"params\":[\"null\"],\"type\":\"fill\"}],\"instant\":false,\"intervalFactor\":2,\"legendFormat\":\"{{instance}}\",\"measurement\":\"application.httprequests__transactions_per_endpoint\",\"policy\":\"default\",\"refId\":\"A\",\"resultFormat\":\"time_series\",\"select\":[[{\"params\":[\"rate1m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"}]],\"step\":2,\"tags\":[{\"key\":\"env\",\"operator\":\"=~\",\"value\":\"/^$environment$/\"},{\"condition\":\"AND\",\"key\":\"app\",\"operator\":\"=~\",\"value\":\"/^$application$/\"}]}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"QPS（多实例）\",\"tooltip\":{\"shared\":true,\"sort\":2,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"format\":\"short\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"editable\":true,\"error\":false,\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":5,\"w\":9,\"x\":15,\"y\":7},\"height\":\"350\",\"hiddenSeries\":false,\"id\":37,\"interval\":\"$summarize\",\"legend\":{\"alignAsTable\":false,\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"rightSide\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"8.3.3\",\"pointradius\":5,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"alias\":\"$tag_route\",\"dsType\":\"influxdb\",\"expr\":\"avg(histogram_quantile(0.99,rate(jupiter_server_handle_seconds_bucket{job=\\\"$appname\\\",instance=~\\\"$instance\\\"}[1m])\\u003e0)*1000)by(instance)\",\"format\":\"time_series\",\"groupBy\":[{\"params\":[\"$interval\"],\"type\":\"time\"},{\"params\":[\"route\"],\"type\":\"tag\"},{\"params\":[\"null\"],\"type\":\"fill\"}],\"interval\":\"\",\"intervalFactor\":2,\"legendFormat\":\"{{instance}}\",\"measurement\":\"application.httprequests__transactions_per_endpoint\",\"policy\":\"default\",\"refId\":\"A\",\"resultFormat\":\"time_series\",\"select\":[[{\"params\":[\"p95\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"95th Percentile\"],\"type\":\"alias\"}]],\"step\":10,\"tags\":[{\"key\":\"env\",\"operator\":\"=~\",\"value\":\"/^$environment$/\"},{\"condition\":\"AND\",\"key\":\"app\",\"operator\":\"=~\",\"value\":\"/^$application$/\"}]}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"P99 耗时（多实例均值）\",\"tooltip\":{\"msResolution\":false,\"shared\":true,\"sort\":2,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"$$hashKey\":\"object:161\",\"decimals\":2,\"format\":\"ms\",\"logBase\":1,\"show\":true},{\"$$hashKey\":\"object:162\",\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"description\":\"文件句柄数线性回归趋势\",\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":5,\"w\":6,\"x\":0,\"y\":12},\"hiddenSeries\":false,\"id\":58,\"legend\":{\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"8.3.3\",\"pointradius\":2,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"expr\":\"deriv(process_open_fds{job=~\\\"^($appname)$\\\",instance=~\\\"^($instance)$\\\"}[30s])\",\"format\":\"time_series\",\"hide\":false,\"intervalFactor\":1,\"legendFormat\":\"{{instance}}\",\"refId\":\"A\"}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"实例文件句柄数 线性回归趋势\",\"tooltip\":{\"shared\":true,\"sort\":0,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"format\":\"none\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"editable\":true,\"error\":false,\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":2,\"fillGradient\":0,\"gridPos\":{\"h\":5,\"w\":9,\"x\":6,\"y\":12},\"hiddenSeries\":false,\"id\":67,\"interval\":\"$summarize\",\"legend\":{\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"8.3.3\",\"pointradius\":5,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"alias\":\"\",\"dsType\":\"influxdb\",\"expr\":\"max(irate(process_cpu_seconds_total{instance=~\\\"$instance\\\",job=\\\"$appname\\\"}[1m])*100)by(instance)\",\"format\":\"time_series\",\"groupBy\":[{\"params\":[\"$interval\"],\"type\":\"time\"},{\"params\":[\"null\"],\"type\":\"fill\"}],\"intervalFactor\":2,\"legendFormat\":\"{{instance}}\",\"measurement\":\"application.httprequests__active\",\"policy\":\"default\",\"refId\":\"A\",\"resultFormat\":\"time_series\",\"select\":[[{\"params\":[\"value\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"}]],\"step\":10,\"tags\":[{\"key\":\"env\",\"operator\":\"=~\",\"value\":\"/^$environment$/\"},{\"condition\":\"AND\",\"key\":\"app\",\"operator\":\"=~\",\"value\":\"/^$application$/\"}]}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"应用进程CPU使用率（多实例）\",\"tooltip\":{\"msResolution\":false,\"shared\":true,\"sort\":2,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"format\":\"percent\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"description\":\"Go程序占用的常驻内存和虚拟内存容量\",\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":5,\"w\":9,\"x\":15,\"y\":12},\"hiddenSeries\":false,\"id\":66,\"legend\":{\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"8.3.3\",\"pointradius\":2,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"expr\":\"sum(go_memstats_alloc_bytes{instance=~\\\"$instance\\\",job=\\\"$appname\\\"})by(instance)\",\"format\":\"time_series\",\"hide\":false,\"intervalFactor\":1,\"legendFormat\":\"memstats_alloc | {{instance}} \",\"refId\":\"A\"},{\"expr\":\"sum(go_memstats_heap_inuse_bytes{job=~\\\"^($appname)$\\\",instance=~\\\"^($instance)$\\\"})by(instance)\",\"format\":\"time_series\",\"hide\":false,\"intervalFactor\":1,\"legendFormat\":\"heap_inuse | {{instance}} \",\"refId\":\"B\"},{\"expr\":\"sum(go_memstats_stack_inuse_bytes{job=~\\\"^($appname)$\\\",instance=~\\\"^($instance)$\\\"})by(instance)\",\"format\":\"time_series\",\"hide\":false,\"intervalFactor\":1,\"legendFormat\":\" stack_inuse | {{instance}}\",\"refId\":\"C\"},{\"expr\":\"sum(go_memstats_sys_bytes{job=~\\\"^($appname)$\\\",instance=~\\\"^($instance)$\\\"})by(instance)\",\"format\":\"time_series\",\"hide\":false,\"intervalFactor\":1,\"legendFormat\":\"memstats_sys | {{instance}} \",\"refId\":\"D\"},{\"expr\":\"sum(process_resident_memory_bytes{job=~\\\"^($appname)$\\\",instance=~\\\"^($instance)$\\\"})by(instance)\",\"format\":\"time_series\",\"intervalFactor\":1,\"legendFormat\":\"总进程驻留内存 | {{instance}}  \",\"refId\":\"E\"}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"应用内存信息（多实例）\",\"tooltip\":{\"shared\":true,\"sort\":2,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"format\":\"decbytes\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":5,\"w\":6,\"x\":0,\"y\":17},\"hiddenSeries\":false,\"id\":44,\"legend\":{\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"8.3.3\",\"pointradius\":2,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"alias\":\"$tag_route\",\"dsType\":\"influxdb\",\"expr\":\"rate(jupiter_server_error_total{instance=~\\\"$instance\\\",job=\\\"$appname\\\"}[1m])\",\"format\":\"time_series\",\"groupBy\":[{\"params\":[\"$interval\"],\"type\":\"time\"},{\"params\":[\"route\"],\"type\":\"tag\"},{\"params\":[\"null\"],\"type\":\"fill\"}],\"intervalFactor\":2,\"legendFormat\":\"{{instance}}\",\"measurement\":\"application.httprequests__one_minute_error_percentage_rate_per_endpoint\",\"policy\":\"default\",\"refId\":\"A\",\"resultFormat\":\"time_series\",\"select\":[[{\"params\":[\"value\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"}]],\"step\":2,\"tags\":[{\"key\":\"app\",\"operator\":\"=~\",\"value\":\"/^$application$/\"},{\"condition\":\"AND\",\"key\":\"env\",\"operator\":\"=~\",\"value\":\"/^$environment$/\"}]}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"各实例错误代码趋势\",\"tooltip\":{\"shared\":true,\"sort\":0,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"field\",\"show\":true,\"values\":[]},\"yaxes\":[{\"format\":\"short\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"editable\":true,\"error\":false,\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":2,\"fillGradient\":0,\"gridPos\":{\"h\":5,\"w\":9,\"x\":6,\"y\":17},\"hiddenSeries\":false,\"id\":42,\"interval\":\"$summarize\",\"legend\":{\"alignAsTable\":false,\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"rightSide\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"8.3.3\",\"pointradius\":5,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"alias\":\"\",\"dsType\":\"influxdb\",\"expr\":\"max(go_goroutines{instance=~\\\"$instance\\\",job=\\\"$appname\\\"})by(instance)\",\"format\":\"time_series\",\"groupBy\":[{\"params\":[\"$interval\"],\"type\":\"time\"},{\"params\":[\"null\"],\"type\":\"fill\"}],\"intervalFactor\":2,\"legendFormat\":\"{{instance}}\",\"measurement\":\"application.httprequests__active\",\"policy\":\"default\",\"refId\":\"A\",\"resultFormat\":\"time_series\",\"select\":[[{\"params\":[\"value\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"}]],\"step\":10,\"tags\":[{\"key\":\"env\",\"operator\":\"=~\",\"value\":\"/^$environment$/\"},{\"condition\":\"AND\",\"key\":\"app\",\"operator\":\"=~\",\"value\":\"/^$application$/\"}]}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"Go Goroutines（多实例）\",\"tooltip\":{\"msResolution\":false,\"shared\":true,\"sort\":0,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"format\":\"short\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"description\":\"文件句柄数\",\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":5,\"w\":9,\"x\":15,\"y\":17},\"hiddenSeries\":false,\"id\":57,\"legend\":{\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"8.3.3\",\"pointradius\":2,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"expr\":\"process_open_fds{job=~\\\"^($appname)$\\\",instance=~\\\"^($instance)$\\\"}\",\"format\":\"time_series\",\"hide\":false,\"intervalFactor\":1,\"legendFormat\":\"{{instance}}\",\"refId\":\"A\"}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"实例文件句柄数（多实例）\",\"tooltip\":{\"shared\":true,\"sort\":0,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"format\":\"none\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"collapsed\":false,\"gridPos\":{\"h\":1,\"w\":24,\"x\":0,\"y\":22},\"id\":1112,\"panels\":[],\"title\":\"服务端\",\"type\":\"row\"},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":7,\"w\":6,\"x\":0,\"y\":23},\"hiddenSeries\":false,\"id\":1123,\"legend\":{\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"8.3.3\",\"pointradius\":2,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"expr\":\"sum(rate(jupiter_server_handle_total{type=\\\"http\\\",instance=~\\\"$instance\\\",job=\\\"$appname\\\",code!=\\\"OK\\\"}[1m]))by(code,method,instance)\",\"format\":\"time_series\",\"intervalFactor\":1,\"legendFormat\":\"{{code}} | {{method}} | {{server}}\",\"refId\":\"A\"}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"HTTP Server错误码分布\",\"tooltip\":{\"shared\":true,\"sort\":2,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"decimals\":0,\"format\":\"short\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":7,\"w\":9,\"x\":6,\"y\":23},\"hiddenSeries\":false,\"id\":1115,\"legend\":{\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[{\"targetBlank\":true,\"title\":\"哈哈\",\"url\":\"http://www.baidu.com\"}],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"8.3.3\",\"pointradius\":2,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"expr\":\"sum(irate(jupiter_server_handle_seconds_count{type=\\\"http\\\",instance=~\\\"$instance\\\",job=\\\"$appname\\\"}[1m]))by(instance)\",\"format\":\"time_series\",\"intervalFactor\":1,\"legendFormat\":\"{{instance}}\",\"refId\":\"A\"}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"HTTP Server QPS\",\"tooltip\":{\"shared\":true,\"sort\":2,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"decimals\":0,\"format\":\"short\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":7,\"w\":9,\"x\":15,\"y\":23},\"hiddenSeries\":false,\"id\":1122,\"legend\":{\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null as zero\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"8.3.3\",\"pointradius\":2,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"expr\":\"avg(histogram_quantile(0.99,irate(jupiter_server_handle_seconds_bucket{type=\\\"http\\\",instance=~\\\"$instance\\\", job=\\\"$appname\\\"}[1m])\\u003e0)*1000)by(instance)\",\"format\":\"time_series\",\"hide\":false,\"intervalFactor\":1,\"legendFormat\":\"{{instance}}\",\"refId\":\"A\"}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"HTTP Server P99\",\"tooltip\":{\"shared\":true,\"sort\":2,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"decimals\":2,\"format\":\"ms\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":7,\"w\":6,\"x\":0,\"y\":30},\"hiddenSeries\":false,\"id\":1117,\"legend\":{\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"8.3.3\",\"pointradius\":2,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"expr\":\"sum(rate(jupiter_server_handle_total{type=\\\"unary\\\",instance=~\\\"$instance\\\",job=\\\"$appname\\\",code!=\\\"OK\\\"}[1m]))by(code,method,instance)\",\"format\":\"time_series\",\"intervalFactor\":1,\"legendFormat\":\"{{code}} | {{method}} | {{instance}}\",\"refId\":\"A\"}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"GRPC Server状态码分布\",\"tooltip\":{\"shared\":true,\"sort\":2,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"decimals\":0,\"format\":\"short\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":7,\"w\":9,\"x\":6,\"y\":30},\"hiddenSeries\":false,\"id\":1127,\"legend\":{\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"8.3.3\",\"pointradius\":2,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"expr\":\"sum(irate(jupiter_server_handle_seconds_count{type=\\\"unary\\\",instance=~\\\"$instance\\\",job=\\\"$appname\\\"}[1m]))by(instance)\",\"format\":\"time_series\",\"intervalFactor\":1,\"legendFormat\":\" {{instance}}\",\"refId\":\"A\"}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"GRPC Server QPS\",\"tooltip\":{\"shared\":true,\"sort\":2,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"decimals\":0,\"format\":\"short\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":7,\"w\":9,\"x\":15,\"y\":30},\"hiddenSeries\":false,\"id\":1116,\"legend\":{\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null as zero\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"8.3.3\",\"pointradius\":2,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"expr\":\"avg(histogram_quantile(0.99,irate(jupiter_server_handle_seconds_bucket{type=\\\"unary\\\",instance=~\\\"$instance\\\", job=\\\"$appname\\\"}[1m])\\u003e0)*1000)by(instance)\",\"format\":\"time_series\",\"hide\":false,\"intervalFactor\":1,\"legendFormat\":\"{{instance}}\",\"refId\":\"A\"}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"GRPC Server P99\",\"tooltip\":{\"shared\":true,\"sort\":2,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"decimals\":2,\"format\":\"ms\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}}],\"refresh\":false,\"schemaVersion\":34,\"style\":\"dark\",\"tags\":[],\"templating\":{\"list\":[{\"current\":{\"selected\":false,\"text\":\"prod.zone-one.jupiter1.0\",\"value\":\"prod.zone-one.jupiter1.0\"},\"hide\":0,\"includeAll\":false,\"label\":\"机房\",\"multi\":false,\"name\":\"datasource\",\"options\":[],\"query\":\"prometheus\",\"queryValue\":\"\",\"refresh\":1,\"regex\":\"\",\"skipUrlSync\":false,\"type\":\"datasource\"},{\"current\":{\"selected\":false,\"text\":\"mwsd-base-srv-ip-go\",\"value\":\"mwsd-base-srv-ip-go\"},\"datasource\":{\"uid\":\"$datasource\"},\"definition\":\"label_values(go_info{},job)\",\"hide\":0,\"includeAll\":false,\"label\":\"应用名\",\"multi\":false,\"name\":\"appname\",\"options\":[],\"query\":{\"query\":\"label_values(go_info{},job)\",\"refId\":\"prod.zone-one.jupiter1.0-appname-Variable-Query\"},\"refresh\":1,\"regex\":\"\",\"skipUrlSync\":false,\"sort\":0,\"tagValuesQuery\":\"\",\"tagsQuery\":\"\",\"type\":\"query\",\"useTags\":false},{\"current\":{\"selected\":false,\"text\":\"All\",\"value\":\"$__all\"},\"datasource\":{\"uid\":\"$datasource\"},\"definition\":\"label_values(go_info{job=~\'$appname\'},instance)\",\"hide\":0,\"includeAll\":true,\"label\":\"实例\",\"multi\":true,\"name\":\"instance\",\"options\":[],\"query\":{\"query\":\"label_values(go_info{job=~\'$appname\'},instance)\",\"refId\":\"prod.zone-one.jupiter1.0-instance-Variable-Query\"},\"refresh\":1,\"regex\":\"\",\"skipUrlSync\":false,\"sort\":0,\"tagValuesQuery\":\"\",\"tagsQuery\":\"\",\"type\":\"query\",\"useTags\":false},{\"auto\":false,\"auto_count\":30,\"auto_min\":\"10s\",\"current\":{\"selected\":false,\"text\":\"1m\",\"value\":\"1m\"},\"hide\":0,\"name\":\"summarize\",\"options\":[{\"selected\":true,\"text\":\"1m\",\"value\":\"1m\"},{\"selected\":false,\"text\":\"10m\",\"value\":\"10m\"},{\"selected\":false,\"text\":\"30m\",\"value\":\"30m\"},{\"selected\":false,\"text\":\"1h\",\"value\":\"1h\"},{\"selected\":false,\"text\":\"6h\",\"value\":\"6h\"},{\"selected\":false,\"text\":\"12h\",\"value\":\"12h\"},{\"selected\":false,\"text\":\"1d\",\"value\":\"1d\"},{\"selected\":false,\"text\":\"7d\",\"value\":\"7d\"},{\"selected\":false,\"text\":\"14d\",\"value\":\"14d\"},{\"selected\":false,\"text\":\"30d\",\"value\":\"30d\"}],\"query\":\"1m,10m,30m,1h,6h,12h,1d,7d,14d,30d\",\"refresh\":2,\"skipUrlSync\":false,\"type\":\"interval\"},{\"current\":{\"selected\":true,\"text\":[\"All\"],\"value\":[\"$__all\"]},\"datasource\":{\"uid\":\"$datasource\"},\"definition\":\"label_values(jupiter_server_handle_seconds_count{job=~\'$appname\'},method) \",\"hide\":0,\"includeAll\":true,\"label\":\"方法名\",\"multi\":true,\"name\":\"method\",\"options\":[],\"query\":{\"query\":\"label_values(jupiter_server_handle_seconds_count{job=~\'$appname\'},method) \",\"refId\":\"prod.zone-one.jupiter1.0-method-Variable-Query\"},\"refresh\":1,\"regex\":\"\",\"skipUrlSync\":false,\"sort\":0,\"tagValuesQuery\":\"\",\"tagsQuery\":\"\",\"type\":\"query\",\"useTags\":false}]},\"time\":{\"from\":\"now-30m\",\"to\":\"now\"},\"timepicker\":{\"refresh_intervals\":[\"10s\",\"30s\",\"1m\",\"5m\",\"15m\",\"30m\",\"1h\",\"2h\",\"1d\"],\"time_options\":[\"5m\",\"15m\",\"1h\",\"6h\",\"12h\",\"24h\",\"2d\",\"7d\",\"30d\"]},\"timezone\":\"\",\"title\":\"Instance\",\"uid\":\"instance\",\"version\":1,\"weekStart\":\"\"}',	1,	'2023-02-16 07:45:54',	'2023-02-16 07:45:54',	1,	1,	0,	'',	0,	0,	0,	'instance',	0),
(3,	3,	'overview',	'Overview',	'{\"annotations\":{\"list\":[{\"builtIn\":1,\"datasource\":{\"type\":\"datasource\",\"uid\":\"grafana\"},\"enable\":true,\"hide\":true,\"iconColor\":\"rgba(0, 211, 255, 1)\",\"name\":\"Annotations \\u0026 Alerts\",\"target\":{\"limit\":100,\"matchAny\":false,\"tags\":[],\"type\":\"dashboard\"},\"type\":\"dashboard\"}]},\"description\":\"\",\"editable\":true,\"fiscalYearStartMonth\":0,\"gnetId\":2204,\"graphTooltip\":1,\"id\":3,\"links\":[],\"liveNow\":false,\"panels\":[{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"editable\":true,\"error\":false,\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":8,\"w\":8,\"x\":0,\"y\":0},\"height\":\"350\",\"hiddenSeries\":false,\"id\":30,\"interval\":\"$summarize\",\"legend\":{\"alignAsTable\":true,\"avg\":true,\"current\":true,\"max\":true,\"min\":true,\"rightSide\":false,\"show\":true,\"total\":false,\"values\":true},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"9.3.6\",\"pointradius\":5,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"alias\":\"$col\",\"datasource\":{\"uid\":\"$datasource\"},\"dsType\":\"influxdb\",\"expr\":\"avg(histogram_quantile(0.75,rate(jupiter_server_handle_seconds_bucket{job=\\\"$appname\\\"}[1m])\\u003e0)*1000)by(job)\",\"format\":\"time_series\",\"groupBy\":[{\"params\":[\"$interval\"],\"type\":\"time\"},{\"params\":[\"null\"],\"type\":\"fill\"}],\"interval\":\"\",\"intervalFactor\":2,\"legendFormat\":\"75th Percentile\",\"measurement\":\"application.httprequests__transactions\",\"metric\":\"\",\"policy\":\"default\",\"refId\":\"A\",\"resultFormat\":\"time_series\",\"select\":[[{\"params\":[\"p95\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"95th Percentile\"],\"type\":\"alias\"}],[{\"params\":[\"p98\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"98th Percentile\"],\"type\":\"alias\"}],[{\"params\":[\"p99\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"99th Percentile\"],\"type\":\"alias\"}]],\"step\":10,\"tags\":[{\"key\":\"env\",\"operator\":\"=~\",\"value\":\"/^$environment$/\"},{\"condition\":\"AND\",\"key\":\"app\",\"operator\":\"=~\",\"value\":\"/^$application$/\"}]},{\"datasource\":{\"uid\":\"$datasource\"},\"expr\":\"avg(histogram_quantile(0.95,rate(jupiter_server_handle_seconds_bucket{job=\\\"$appname\\\"}[1m])\\u003e0)*1000)by(job)\",\"format\":\"time_series\",\"interval\":\"\",\"intervalFactor\":2,\"legendFormat\":\"95th Percentile\",\"refId\":\"B\",\"step\":10},{\"datasource\":{\"uid\":\"$datasource\"},\"expr\":\"avg(histogram_quantile(0.99,rate(jupiter_server_handle_seconds_bucket{job=\\\"$appname\\\"}[1m])\\u003e0)*1000)by(job)\",\"format\":\"time_series\",\"interval\":\"\",\"intervalFactor\":2,\"legendFormat\":\"99th Percentile\",\"refId\":\"C\",\"step\":10}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"SOA 服务响应时间\",\"tooltip\":{\"msResolution\":false,\"shared\":true,\"sort\":2,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"format\":\"ms\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"editable\":true,\"error\":false,\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":8,\"w\":8,\"x\":8,\"y\":0},\"height\":\"350\",\"hiddenSeries\":false,\"id\":26,\"interval\":\"$summarize\",\"legend\":{\"alignAsTable\":false,\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"rightSide\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"9.3.6\",\"pointradius\":5,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"alias\":\"$col\",\"datasource\":{\"uid\":\"$datasource\"},\"dsType\":\"influxdb\",\"expr\":\"sum(irate(jupiter_server_handle_seconds_count{job=\\\"$appname\\\"}[1m]))by(job)\",\"format\":\"time_series\",\"groupBy\":[{\"params\":[\"$interval\"],\"type\":\"time\"},{\"params\":[\"null\"],\"type\":\"fill\"}],\"intervalFactor\":2,\"legendFormat\":\"1 min rate\",\"measurement\":\"application.httprequests__transactions\",\"policy\":\"default\",\"refId\":\"A\",\"resultFormat\":\"time_series\",\"select\":[[{\"params\":[\"rate1m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"1 min rate\"],\"type\":\"alias\"}],[{\"params\":[\"rate5m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"5 min rate\"],\"type\":\"alias\"}],[{\"params\":[\"rate15m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"15 min rate\"],\"type\":\"alias\"}]],\"step\":10,\"tags\":[{\"key\":\"env\",\"operator\":\"=~\",\"value\":\"/^$environment$/\"},{\"condition\":\"AND\",\"key\":\"app\",\"operator\":\"=~\",\"value\":\"/^$application$/\"}]},{\"datasource\":{\"uid\":\"$datasource\"},\"expr\":\"sum(irate(jupiter_server_handle_seconds_count{job=\\\"$appname\\\"}[5m]))by(job)\",\"format\":\"time_series\",\"hide\":false,\"intervalFactor\":2,\"legendFormat\":\"5 min rate\",\"refId\":\"B\",\"step\":10},{\"datasource\":{\"uid\":\"$datasource\"},\"expr\":\"sum(irate(jupiter_server_handle_seconds_count{job=\\\"$appname\\\"}[15m]))by(job)\",\"format\":\"time_series\",\"hide\":false,\"intervalFactor\":2,\"legendFormat\":\"15 min rate\",\"refId\":\"C\",\"step\":10}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"SOA 服务QPS\",\"tooltip\":{\"msResolution\":false,\"shared\":true,\"sort\":0,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"format\":\"short\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"editable\":true,\"error\":false,\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":8,\"w\":8,\"x\":16,\"y\":0},\"height\":\"350\",\"hiddenSeries\":false,\"id\":234,\"interval\":\"$summarize\",\"legend\":{\"alignAsTable\":true,\"avg\":true,\"current\":true,\"max\":true,\"min\":true,\"rightSide\":false,\"show\":true,\"total\":false,\"values\":true},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"9.3.6\",\"pointradius\":5,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"alias\":\"$col\",\"datasource\":{\"uid\":\"$datasource\"},\"dsType\":\"influxdb\",\"expr\":\"sum(rate(jupiter_server_handle_total{code=\\\"OK\\\",job=\\\"$appname\\\"}[1m]))by(job)/sum(rate(jupiter_server_handle_total{job=\\\"$appname\\\"}[1m]))by(job)\",\"format\":\"time_series\",\"groupBy\":[{\"params\":[\"$interval\"],\"type\":\"time\"},{\"params\":[\"null\"],\"type\":\"fill\"}],\"intervalFactor\":2,\"legendFormat\":\"{{job}}\",\"measurement\":\"application.httprequests__transactions\",\"policy\":\"default\",\"refId\":\"A\",\"resultFormat\":\"time_series\",\"select\":[[{\"params\":[\"rate1m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"1 min rate\"],\"type\":\"alias\"}],[{\"params\":[\"rate5m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"5 min rate\"],\"type\":\"alias\"}],[{\"params\":[\"rate15m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"15 min rate\"],\"type\":\"alias\"}]],\"step\":10,\"tags\":[{\"key\":\"env\",\"operator\":\"=~\",\"value\":\"/^$environment$/\"},{\"condition\":\"AND\",\"key\":\"app\",\"operator\":\"=~\",\"value\":\"/^$application$/\"}]}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"SOA 服务成功率\",\"tooltip\":{\"msResolution\":false,\"shared\":true,\"sort\":0,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"format\":\"percentunit\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"editable\":true,\"error\":false,\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":8,\"w\":8,\"x\":0,\"y\":8},\"height\":\"350\",\"hiddenSeries\":false,\"id\":235,\"interval\":\"$summarize\",\"legend\":{\"alignAsTable\":false,\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"rightSide\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"9.3.6\",\"pointradius\":5,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"alias\":\"$col\",\"datasource\":{\"uid\":\"$datasource\"},\"dsType\":\"influxdb\",\"expr\":\"sum(irate(jupiter_server_handle_total{code!=\\\"OK\\\",job=\\\"$appname\\\"}[1m]))by(job)\",\"format\":\"time_series\",\"groupBy\":[{\"params\":[\"$interval\"],\"type\":\"time\"},{\"params\":[\"null\"],\"type\":\"fill\"}],\"intervalFactor\":2,\"legendFormat\":\"1 min rate\",\"measurement\":\"application.httprequests__transactions\",\"policy\":\"default\",\"refId\":\"A\",\"resultFormat\":\"time_series\",\"select\":[[{\"params\":[\"rate1m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"1 min rate\"],\"type\":\"alias\"}],[{\"params\":[\"rate5m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"5 min rate\"],\"type\":\"alias\"}],[{\"params\":[\"rate15m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"15 min rate\"],\"type\":\"alias\"}]],\"step\":10,\"tags\":[{\"key\":\"env\",\"operator\":\"=~\",\"value\":\"/^$environment$/\"},{\"condition\":\"AND\",\"key\":\"app\",\"operator\":\"=~\",\"value\":\"/^$application$/\"}]},{\"datasource\":{\"uid\":\"$datasource\"},\"expr\":\"sum(irate(jupiter_server_handle_total{code!=\\\"OK\\\",job=\\\"$appname\\\"}[5m]))by(job)\",\"format\":\"time_series\",\"hide\":false,\"intervalFactor\":2,\"legendFormat\":\"5 min rate\",\"refId\":\"B\",\"step\":10},{\"datasource\":{\"uid\":\"$datasource\"},\"expr\":\"sum(irate(jupiter_server_handle_total{code!=\\\"OK\\\",job=\\\"$appname\\\"}[15m]))by(job)\",\"format\":\"time_series\",\"hide\":false,\"intervalFactor\":2,\"legendFormat\":\"15 min rate\",\"refId\":\"C\",\"step\":10}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"异常QPS\",\"tooltip\":{\"msResolution\":false,\"shared\":true,\"sort\":0,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"decimals\":2,\"format\":\"short\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"editable\":true,\"error\":false,\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":8,\"w\":8,\"x\":8,\"y\":8},\"height\":\"350\",\"hiddenSeries\":false,\"id\":236,\"interval\":\"$summarize\",\"legend\":{\"alignAsTable\":false,\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"rightSide\":false,\"show\":false,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"9.3.6\",\"pointradius\":5,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"alias\":\"$col\",\"datasource\":{\"uid\":\"$datasource\"},\"dsType\":\"influxdb\",\"expr\":\"sum(irate(jupiter_client_handle_seconds_count{job=\\\"$appname\\\"}[5m]))by(job)\",\"format\":\"time_series\",\"groupBy\":[{\"params\":[\"$interval\"],\"type\":\"time\"},{\"params\":[\"null\"],\"type\":\"fill\"}],\"intervalFactor\":2,\"legendFormat\":\"{{job}}\",\"measurement\":\"application.httprequests__transactions\",\"policy\":\"default\",\"refId\":\"A\",\"resultFormat\":\"time_series\",\"select\":[[{\"params\":[\"rate1m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"1 min rate\"],\"type\":\"alias\"}],[{\"params\":[\"rate5m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"5 min rate\"],\"type\":\"alias\"}],[{\"params\":[\"rate15m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"15 min rate\"],\"type\":\"alias\"}]],\"step\":10,\"tags\":[{\"key\":\"env\",\"operator\":\"=~\",\"value\":\"/^$environment$/\"},{\"condition\":\"AND\",\"key\":\"app\",\"operator\":\"=~\",\"value\":\"/^$application$/\"}]}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"依赖服务QPS\",\"tooltip\":{\"msResolution\":false,\"shared\":true,\"sort\":0,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"decimals\":2,\"format\":\"short\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"editable\":true,\"error\":false,\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":8,\"w\":8,\"x\":16,\"y\":8},\"height\":\"350\",\"hiddenSeries\":false,\"id\":237,\"interval\":\"$summarize\",\"legend\":{\"alignAsTable\":false,\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"rightSide\":false,\"show\":false,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"9.3.6\",\"pointradius\":5,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"alias\":\"$col\",\"datasource\":{\"uid\":\"$datasource\"},\"dsType\":\"influxdb\",\"expr\":\"avg(histogram_quantile(0.99, irate(jupiter_client_handle_seconds_bucket{job=\\\"$appname\\\"}[1m])\\u003e0)*1000)by(job)\",\"format\":\"time_series\",\"groupBy\":[{\"params\":[\"$interval\"],\"type\":\"time\"},{\"params\":[\"null\"],\"type\":\"fill\"}],\"intervalFactor\":2,\"legendFormat\":\"{{job}}\",\"measurement\":\"application.httprequests__transactions\",\"policy\":\"default\",\"refId\":\"A\",\"resultFormat\":\"time_series\",\"select\":[[{\"params\":[\"rate1m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"1 min rate\"],\"type\":\"alias\"}],[{\"params\":[\"rate5m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"5 min rate\"],\"type\":\"alias\"}],[{\"params\":[\"rate15m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"15 min rate\"],\"type\":\"alias\"}]],\"step\":10,\"tags\":[{\"key\":\"env\",\"operator\":\"=~\",\"value\":\"/^$environment$/\"},{\"condition\":\"AND\",\"key\":\"app\",\"operator\":\"=~\",\"value\":\"/^$application$/\"}]}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"依赖服务响应时间\",\"tooltip\":{\"msResolution\":false,\"shared\":true,\"sort\":0,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"decimals\":2,\"format\":\"short\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}}],\"refresh\":false,\"schemaVersion\":37,\"style\":\"dark\",\"tags\":[\"prometheus\"],\"templating\":{\"list\":[{\"current\":{\"selected\":false,\"text\":\"prod.zone-one.jupiter1.0\",\"value\":\"prod.zone-one.jupiter1.0\"},\"hide\":0,\"includeAll\":false,\"label\":\"机房\",\"multi\":false,\"name\":\"datasource\",\"options\":[],\"query\":\"prometheus\",\"refresh\":1,\"regex\":\"\",\"skipUrlSync\":false,\"type\":\"datasource\"},{\"current\":{\"selected\":false,\"text\":\"juno-admin\",\"value\":\"juno-admin\"},\"datasource\":{\"uid\":\"$datasource\"},\"definition\":\"label_values(go_info{},job)\",\"hide\":0,\"includeAll\":false,\"label\":\"应用名\",\"multi\":false,\"name\":\"appname\",\"options\":[],\"query\":{\"query\":\"label_values(go_info{},job)\",\"refId\":\"prod.zone-one.jupiter1.0-appname-Variable-Query\"},\"refresh\":1,\"regex\":\"\",\"skipUrlSync\":false,\"sort\":1,\"type\":\"query\",\"useTags\":false},{\"current\":{\"selected\":false,\"text\":\"All\",\"value\":\"$__all\"},\"datasource\":{\"uid\":\"$datasource\"},\"definition\":\"label_values(go_info{job=~\'$appname\'},instance)\",\"hide\":0,\"includeAll\":true,\"label\":\"实例\",\"multi\":true,\"name\":\"instance\",\"options\":[],\"query\":{\"query\":\"label_values(go_info{job=~\'$appname\'},instance)\",\"refId\":\"prod.zone-one.jupiter1.0-instance-Variable-Query\"},\"refresh\":1,\"regex\":\"\",\"skipUrlSync\":false,\"sort\":0,\"tagValuesQuery\":\"\",\"tagsQuery\":\"\",\"type\":\"query\",\"useTags\":false},{\"auto\":false,\"auto_count\":30,\"auto_min\":\"10s\",\"current\":{\"selected\":false,\"text\":\"5s\",\"value\":\"5s\"},\"hide\":0,\"name\":\"summarize\",\"options\":[{\"selected\":true,\"text\":\"5s\",\"value\":\"5s\"},{\"selected\":false,\"text\":\"10s\",\"value\":\"10s\"},{\"selected\":false,\"text\":\"30s\",\"value\":\"30s\"},{\"selected\":false,\"text\":\"1m\",\"value\":\"1m\"},{\"selected\":false,\"text\":\"10m\",\"value\":\"10m\"},{\"selected\":false,\"text\":\"30m\",\"value\":\"30m\"},{\"selected\":false,\"text\":\"1h\",\"value\":\"1h\"},{\"selected\":false,\"text\":\"6h\",\"value\":\"6h\"},{\"selected\":false,\"text\":\"12h\",\"value\":\"12h\"},{\"selected\":false,\"text\":\"1d\",\"value\":\"1d\"},{\"selected\":false,\"text\":\"7d\",\"value\":\"7d\"},{\"selected\":false,\"text\":\"14d\",\"value\":\"14d\"},{\"selected\":false,\"text\":\"30d\",\"value\":\"30d\"}],\"query\":\"5s,10s,30s,1m,10m,30m,1h,6h,12h,1d,7d,14d,30d\",\"refresh\":2,\"skipUrlSync\":false,\"type\":\"interval\"}]},\"time\":{\"from\":\"now-15m\",\"to\":\"now\"},\"timepicker\":{\"refresh_intervals\":[\"10s\",\"30s\",\"1m\",\"5m\",\"15m\",\"30m\",\"1h\",\"2h\",\"1d\"],\"time_options\":[\"5m\",\"15m\",\"1h\",\"6h\",\"12h\",\"24h\",\"2d\",\"7d\",\"30d\"]},\"timezone\":\"browser\",\"title\":\"Overview\",\"uid\":\"overview\",\"version\":3,\"weekStart\":\"\"}',	1,	'2023-02-16 07:46:21',	'2023-02-16 08:00:58',	1,	1,	2204,	'',	0,	0,	0,	'overview',	0);

DROP TABLE IF EXISTS `dashboard_acl`;
CREATE TABLE `dashboard_acl` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `org_id` bigint(20) NOT NULL,
  `dashboard_id` bigint(20) NOT NULL,
  `user_id` bigint(20) DEFAULT NULL,
  `team_id` bigint(20) DEFAULT NULL,
  `permission` smallint(6) NOT NULL DEFAULT '4',
  `role` varchar(20) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `created` datetime NOT NULL,
  `updated` datetime NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `UQE_dashboard_acl_dashboard_id_user_id` (`dashboard_id`,`user_id`),
  UNIQUE KEY `UQE_dashboard_acl_dashboard_id_team_id` (`dashboard_id`,`team_id`),
  KEY `IDX_dashboard_acl_dashboard_id` (`dashboard_id`),
  KEY `IDX_dashboard_acl_user_id` (`user_id`),
  KEY `IDX_dashboard_acl_team_id` (`team_id`),
  KEY `IDX_dashboard_acl_org_id_role` (`org_id`,`role`),
  KEY `IDX_dashboard_acl_permission` (`permission`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

INSERT INTO `dashboard_acl` (`id`, `org_id`, `dashboard_id`, `user_id`, `team_id`, `permission`, `role`, `created`, `updated`) VALUES
(1,	-1,	-1,	NULL,	NULL,	1,	'Viewer',	'2017-06-20 00:00:00',	'2017-06-20 00:00:00'),
(2,	-1,	-1,	NULL,	NULL,	2,	'Editor',	'2017-06-20 00:00:00',	'2017-06-20 00:00:00');

DROP TABLE IF EXISTS `dashboard_provisioning`;
CREATE TABLE `dashboard_provisioning` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `dashboard_id` bigint(20) DEFAULT NULL,
  `name` varchar(150) COLLATE utf8mb4_unicode_ci NOT NULL,
  `external_id` text COLLATE utf8mb4_unicode_ci NOT NULL,
  `updated` int(11) NOT NULL DEFAULT '0',
  `check_sum` varchar(32) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `IDX_dashboard_provisioning_dashboard_id` (`dashboard_id`),
  KEY `IDX_dashboard_provisioning_dashboard_id_name` (`dashboard_id`,`name`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


DROP TABLE IF EXISTS `dashboard_public`;
CREATE TABLE `dashboard_public` (
  `uid` varchar(40) COLLATE utf8mb4_unicode_ci NOT NULL,
  `dashboard_uid` varchar(40) COLLATE utf8mb4_unicode_ci NOT NULL,
  `org_id` bigint(20) NOT NULL,
  `time_settings` text COLLATE utf8mb4_unicode_ci,
  `template_variables` mediumtext COLLATE utf8mb4_unicode_ci,
  `access_token` varchar(32) COLLATE utf8mb4_unicode_ci NOT NULL,
  `created_by` int(11) NOT NULL,
  `updated_by` int(11) DEFAULT NULL,
  `created_at` datetime NOT NULL,
  `updated_at` datetime DEFAULT NULL,
  `is_enabled` tinyint(1) NOT NULL DEFAULT '0',
  `annotations_enabled` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`uid`),
  UNIQUE KEY `UQE_dashboard_public_config_uid` (`uid`),
  UNIQUE KEY `UQE_dashboard_public_config_access_token` (`access_token`),
  KEY `IDX_dashboard_public_config_org_id_dashboard_uid` (`org_id`,`dashboard_uid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


DROP TABLE IF EXISTS `dashboard_snapshot`;
CREATE TABLE `dashboard_snapshot` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `key` varchar(190) COLLATE utf8mb4_unicode_ci NOT NULL,
  `delete_key` varchar(190) COLLATE utf8mb4_unicode_ci NOT NULL,
  `org_id` bigint(20) NOT NULL,
  `user_id` bigint(20) NOT NULL,
  `external` tinyint(1) NOT NULL,
  `external_url` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `dashboard` mediumtext COLLATE utf8mb4_unicode_ci NOT NULL,
  `expires` datetime NOT NULL,
  `created` datetime NOT NULL,
  `updated` datetime NOT NULL,
  `external_delete_url` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `dashboard_encrypted` mediumblob,
  PRIMARY KEY (`id`),
  UNIQUE KEY `UQE_dashboard_snapshot_key` (`key`),
  UNIQUE KEY `UQE_dashboard_snapshot_delete_key` (`delete_key`),
  KEY `IDX_dashboard_snapshot_user_id` (`user_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


DROP TABLE IF EXISTS `dashboard_tag`;
CREATE TABLE `dashboard_tag` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `dashboard_id` bigint(20) NOT NULL,
  `term` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL,
  PRIMARY KEY (`id`),
  KEY `IDX_dashboard_tag_dashboard_id` (`dashboard_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

INSERT INTO `dashboard_tag` (`id`, `dashboard_id`, `term`) VALUES
(3,	3,	'prometheus');

DROP TABLE IF EXISTS `dashboard_version`;
CREATE TABLE `dashboard_version` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `dashboard_id` bigint(20) NOT NULL,
  `parent_version` int(11) NOT NULL,
  `restored_from` int(11) NOT NULL,
  `version` int(11) NOT NULL,
  `created` datetime NOT NULL,
  `created_by` bigint(20) NOT NULL,
  `message` text COLLATE utf8mb4_unicode_ci NOT NULL,
  `data` mediumtext COLLATE utf8mb4_unicode_ci,
  PRIMARY KEY (`id`),
  UNIQUE KEY `UQE_dashboard_version_dashboard_id_version` (`dashboard_id`,`version`),
  KEY `IDX_dashboard_version_dashboard_id` (`dashboard_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

INSERT INTO `dashboard_version` (`id`, `dashboard_id`, `parent_version`, `restored_from`, `version`, `created`, `created_by`, `message`, `data`) VALUES
(1,	1,	1,	0,	1,	'2023-02-16 07:45:32',	1,	'',	'{\"annotations\":{\"list\":[{\"builtIn\":1,\"datasource\":\"-- Grafana --\",\"enable\":true,\"hide\":true,\"iconColor\":\"rgba(0, 211, 255, 1)\",\"name\":\"Annotations \\u0026 Alerts\",\"target\":{\"limit\":100,\"matchAny\":false,\"tags\":[],\"type\":\"dashboard\"},\"type\":\"dashboard\"}]},\"editable\":true,\"fiscalYearStartMonth\":0,\"graphTooltip\":1,\"id\":null,\"iteration\":1676533499366,\"links\":[],\"liveNow\":false,\"panels\":[{\"collapsed\":false,\"gridPos\":{\"h\":1,\"w\":24,\"x\":0,\"y\":0},\"id\":1112,\"panels\":[],\"title\":\"服务端\",\"type\":\"row\"},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":7,\"w\":6,\"x\":0,\"y\":1},\"hiddenSeries\":false,\"id\":1123,\"legend\":{\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"8.3.3\",\"pointradius\":2,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"expr\":\"sum(rate(jupiter_server_handle_total{type=\\\"http\\\",method=~\\\"$method\\\",job=\\\"$appname\\\",code!=\\\"OK\\\"}[1m]))by(code,method,instance)\",\"format\":\"time_series\",\"interval\":\"\",\"intervalFactor\":1,\"legendFormat\":\"{{code}} | {{method}} | {{server}}\",\"refId\":\"A\"}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"HTTP Server错误码分布\",\"tooltip\":{\"shared\":true,\"sort\":2,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"decimals\":0,\"format\":\"short\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":7,\"w\":9,\"x\":6,\"y\":1},\"hiddenSeries\":false,\"id\":1115,\"legend\":{\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[{\"targetBlank\":true,\"title\":\"哈哈\",\"url\":\"http://www.baidu.com\"}],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"8.3.3\",\"pointradius\":2,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"expr\":\"sum(irate(jupiter_server_handle_seconds_count{type=\\\"http\\\",job=\\\"$appname\\\", method=~\\\"$method\\\"}[1m]))by(method, instance)\",\"format\":\"time_series\",\"intervalFactor\":1,\"legendFormat\":\"{{method}} | {{instance}}\",\"refId\":\"A\"}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"HTTP Server QPS\",\"tooltip\":{\"shared\":true,\"sort\":2,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"decimals\":0,\"format\":\"short\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":7,\"w\":9,\"x\":15,\"y\":1},\"hiddenSeries\":false,\"id\":1122,\"legend\":{\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null as zero\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"8.3.3\",\"pointradius\":2,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"expr\":\"avg(histogram_quantile(0.99,irate(jupiter_server_handle_seconds_bucket{type=\\\"http\\\", job=\\\"$appname\\\", method=~\\\"$method\\\"}[1m])\\u003e0)*1000)by(method,instance)\",\"format\":\"time_series\",\"hide\":false,\"intervalFactor\":1,\"legendFormat\":\"{{method}} | {{instance}}\",\"refId\":\"A\"}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"HTTP Server P99\",\"tooltip\":{\"shared\":true,\"sort\":2,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"decimals\":2,\"format\":\"ms\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":7,\"w\":6,\"x\":0,\"y\":8},\"hiddenSeries\":false,\"id\":1117,\"legend\":{\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"8.3.3\",\"pointradius\":2,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"expr\":\"sum(rate(jupiter_server_handle_total{type=\\\"unary\\\",method=~\\\"$method\\\",job=\\\"$appname\\\",code!=\\\"OK\\\"}[1m]))by(code,method,instance)\",\"format\":\"time_series\",\"intervalFactor\":1,\"legendFormat\":\"{{code}} | {{method}} | {{instance}}\",\"refId\":\"A\"}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"GRPC Server状态码分布\",\"tooltip\":{\"shared\":true,\"sort\":2,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"decimals\":0,\"format\":\"short\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":7,\"w\":9,\"x\":6,\"y\":8},\"hiddenSeries\":false,\"id\":1127,\"legend\":{\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"8.3.3\",\"pointradius\":2,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"expr\":\"sum(irate(jupiter_server_handle_seconds_count{type=\\\"unary\\\",job=\\\"$appname\\\",method=~\\\"$method\\\"}[1m]))by(method,instance)\",\"format\":\"time_series\",\"intervalFactor\":1,\"legendFormat\":\"{{method}} | {{instance}}\",\"refId\":\"A\"}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"GRPC Server QPS\",\"tooltip\":{\"shared\":true,\"sort\":2,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"decimals\":0,\"format\":\"short\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":7,\"w\":9,\"x\":15,\"y\":8},\"hiddenSeries\":false,\"id\":1116,\"legend\":{\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null as zero\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"8.3.3\",\"pointradius\":2,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"expr\":\"avg(histogram_quantile(0.99,irate(jupiter_server_handle_seconds_bucket{type=\\\"unary\\\", job=\\\"$appname\\\",method=~\\\"$method\\\"}[1m])\\u003e0)*1000)by(method,instance)\",\"format\":\"time_series\",\"hide\":false,\"intervalFactor\":1,\"legendFormat\":\"{{method}} | {{instance}}\",\"refId\":\"A\"}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"GRPC Server P99\",\"tooltip\":{\"shared\":true,\"sort\":2,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"decimals\":2,\"format\":\"ms\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}}],\"refresh\":false,\"schemaVersion\":34,\"style\":\"dark\",\"tags\":[],\"templating\":{\"list\":[{\"current\":{\"selected\":false,\"text\":\"prod.zone-one.jupiter1.0\",\"value\":\"prod.zone-one.jupiter1.0\"},\"hide\":0,\"includeAll\":false,\"label\":\"机房\",\"multi\":false,\"name\":\"datasource\",\"options\":[],\"query\":\"prometheus\",\"queryValue\":\"\",\"refresh\":1,\"regex\":\"\",\"skipUrlSync\":false,\"type\":\"datasource\"},{\"current\":{\"selected\":false,\"text\":\"mwsd-base-srv-ip-go\",\"value\":\"mwsd-base-srv-ip-go\"},\"datasource\":{\"uid\":\"$datasource\"},\"definition\":\"label_values(go_info{},job)\",\"hide\":0,\"includeAll\":false,\"label\":\"应用名\",\"multi\":false,\"name\":\"appname\",\"options\":[],\"query\":{\"query\":\"label_values(go_info{},job)\",\"refId\":\"prod.zone-one.jupiter1.0-appname-Variable-Query\"},\"refresh\":1,\"regex\":\"\",\"skipUrlSync\":false,\"sort\":0,\"tagValuesQuery\":\"\",\"tagsQuery\":\"\",\"type\":\"query\",\"useTags\":false},{\"current\":{\"selected\":false,\"text\":\"All\",\"value\":\"$__all\"},\"datasource\":{\"uid\":\"$datasource\"},\"definition\":\"label_values(go_info{job=~\'$appname\'},instance)\",\"hide\":0,\"includeAll\":true,\"label\":\"实例\",\"multi\":true,\"name\":\"instance\",\"options\":[],\"query\":{\"query\":\"label_values(go_info{job=~\'$appname\'},instance)\",\"refId\":\"prod.zone-one.jupiter1.0-instance-Variable-Query\"},\"refresh\":1,\"regex\":\"\",\"skipUrlSync\":false,\"sort\":0,\"tagValuesQuery\":\"\",\"tagsQuery\":\"\",\"type\":\"query\",\"useTags\":false},{\"auto\":false,\"auto_count\":30,\"auto_min\":\"10s\",\"current\":{\"selected\":false,\"text\":\"1m\",\"value\":\"1m\"},\"hide\":0,\"name\":\"summarize\",\"options\":[{\"selected\":true,\"text\":\"1m\",\"value\":\"1m\"},{\"selected\":false,\"text\":\"10m\",\"value\":\"10m\"},{\"selected\":false,\"text\":\"30m\",\"value\":\"30m\"},{\"selected\":false,\"text\":\"1h\",\"value\":\"1h\"},{\"selected\":false,\"text\":\"6h\",\"value\":\"6h\"},{\"selected\":false,\"text\":\"12h\",\"value\":\"12h\"},{\"selected\":false,\"text\":\"1d\",\"value\":\"1d\"},{\"selected\":false,\"text\":\"7d\",\"value\":\"7d\"},{\"selected\":false,\"text\":\"14d\",\"value\":\"14d\"},{\"selected\":false,\"text\":\"30d\",\"value\":\"30d\"}],\"query\":\"1m,10m,30m,1h,6h,12h,1d,7d,14d,30d\",\"refresh\":2,\"skipUrlSync\":false,\"type\":\"interval\"},{\"current\":{\"selected\":true,\"text\":[\"All\"],\"value\":[\"$__all\"]},\"datasource\":{\"uid\":\"$datasource\"},\"definition\":\"label_values(jupiter_server_handle_seconds_count{job=~\'$appname\'},method) \",\"hide\":0,\"includeAll\":true,\"label\":\"方法名\",\"multi\":true,\"name\":\"method\",\"options\":[],\"query\":{\"query\":\"label_values(jupiter_server_handle_seconds_count{job=~\'$appname\'},method) \",\"refId\":\"prod.zone-one.jupiter1.0-method-Variable-Query\"},\"refresh\":1,\"regex\":\"\",\"skipUrlSync\":false,\"sort\":0,\"tagValuesQuery\":\"\",\"tagsQuery\":\"\",\"type\":\"query\",\"useTags\":false}]},\"time\":{\"from\":\"now-30m\",\"to\":\"now\"},\"timepicker\":{\"refresh_intervals\":[\"10s\",\"30s\",\"1m\",\"5m\",\"15m\",\"30m\",\"1h\",\"2h\",\"1d\"],\"time_options\":[\"5m\",\"15m\",\"1h\",\"6h\",\"12h\",\"24h\",\"2d\",\"7d\",\"30d\"]},\"timezone\":\"\",\"title\":\"API\",\"uid\":\"api\",\"version\":1,\"weekStart\":\"\"}'),
(2,	2,	1,	0,	1,	'2023-02-16 07:45:54',	1,	'',	'{\"annotations\":{\"list\":[{\"builtIn\":1,\"datasource\":\"-- Grafana --\",\"enable\":true,\"hide\":true,\"iconColor\":\"rgba(0, 211, 255, 1)\",\"name\":\"Annotations \\u0026 Alerts\",\"target\":{\"limit\":100,\"matchAny\":false,\"tags\":[],\"type\":\"dashboard\"},\"type\":\"dashboard\"}]},\"editable\":true,\"fiscalYearStartMonth\":0,\"graphTooltip\":1,\"id\":null,\"iteration\":1676533540163,\"links\":[],\"liveNow\":false,\"panels\":[{\"gridPos\":{\"h\":1,\"w\":24,\"x\":0,\"y\":0},\"id\":1135,\"title\":\"概览\",\"type\":\"row\"},{\"datasource\":{\"uid\":\"$datasource\"},\"fieldConfig\":{\"defaults\":{\"color\":{\"mode\":\"thresholds\"},\"mappings\":[{\"options\":{\"from\":0,\"result\":{\"text\":\"严重\"},\"to\":0.9},\"type\":\"range\"},{\"options\":{\"from\":0.9,\"result\":{\"text\":\"警告\"},\"to\":0.99},\"type\":\"range\"},{\"options\":{\"from\":1,\"result\":{\"text\":\"健康\"},\"to\":1},\"type\":\"range\"}],\"thresholds\":{\"mode\":\"absolute\",\"steps\":[{\"color\":\"#E02F44\",\"value\":null},{\"color\":\"#FF780A\",\"value\":0.5},{\"color\":\"#56A64B\",\"value\":1}]},\"unit\":\"none\"},\"overrides\":[]},\"gridPos\":{\"h\":5,\"w\":3,\"x\":0,\"y\":1},\"id\":1133,\"links\":[],\"maxDataPoints\":100,\"options\":{\"colorMode\":\"background\",\"graphMode\":\"none\",\"justifyMode\":\"auto\",\"orientation\":\"horizontal\",\"reduceOptions\":{\"calcs\":[\"lastNotNull\"],\"fields\":\"\",\"values\":false},\"textMode\":\"auto\"},\"pluginVersion\":\"8.3.3\",\"targets\":[{\"alias\":\"\",\"dsType\":\"influxdb\",\"expr\":\"avg(up{job=\\\"$appname\\\",instance=~\\\"$instance\\\"})by(job)\",\"format\":\"time_series\",\"groupBy\":[{\"params\":[\"$interval\"],\"type\":\"time\"},{\"params\":[\"null\"],\"type\":\"fill\"}],\"interval\":\"\",\"intervalFactor\":2,\"legendFormat\":\"{{instance}}\",\"measurement\":\"application.httprequests__active\",\"policy\":\"default\",\"refId\":\"A\",\"resultFormat\":\"time_series\",\"select\":[[{\"params\":[\"value\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"}]],\"step\":10,\"tags\":[{\"key\":\"env\",\"operator\":\"=~\",\"value\":\"/^$environment$/\"},{\"condition\":\"AND\",\"key\":\"app\",\"operator\":\"=~\",\"value\":\"/^$application$/\"}]}],\"type\":\"stat\"},{\"datasource\":{\"uid\":\"$datasource\"},\"fieldConfig\":{\"defaults\":{\"mappings\":[],\"thresholds\":{\"mode\":\"absolute\",\"steps\":[{\"color\":\"green\",\"value\":null},{\"color\":\"red\",\"value\":80}]}},\"overrides\":[]},\"gridPos\":{\"h\":5,\"w\":3,\"x\":3,\"y\":1},\"id\":36,\"links\":[],\"options\":{\"colorMode\":\"value\",\"graphMode\":\"area\",\"justifyMode\":\"auto\",\"orientation\":\"auto\",\"reduceOptions\":{\"calcs\":[\"mean\"],\"fields\":\"\",\"values\":false},\"textMode\":\"auto\"},\"pluginVersion\":\"8.3.3\",\"targets\":[{\"alias\":\"\",\"dsType\":\"influxdb\",\"expr\":\"sum(up{job=\\\"$appname\\\"})\",\"format\":\"time_series\",\"groupBy\":[{\"params\":[\"$interval\"],\"type\":\"time\"},{\"params\":[\"null\"],\"type\":\"fill\"}],\"interval\":\"\",\"intervalFactor\":2,\"legendFormat\":\"{{instance}}\",\"measurement\":\"application.httprequests__active\",\"policy\":\"default\",\"refId\":\"A\",\"resultFormat\":\"time_series\",\"select\":[[{\"params\":[\"value\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"}]],\"step\":10,\"tags\":[{\"key\":\"env\",\"operator\":\"=~\",\"value\":\"/^$environment$/\"},{\"condition\":\"AND\",\"key\":\"app\",\"operator\":\"=~\",\"value\":\"/^$application$/\"}]}],\"title\":\"实例数\",\"type\":\"stat\"},{\"datasource\":{\"uid\":\"$datasource\"},\"fieldConfig\":{\"defaults\":{\"color\":{\"mode\":\"thresholds\"},\"decimals\":2,\"mappings\":[{\"options\":{\"match\":\"null\",\"result\":{\"text\":\"N/A\"}},\"type\":\"special\"}],\"max\":100,\"min\":0,\"thresholds\":{\"mode\":\"absolute\",\"steps\":[{\"color\":\"#299c46\",\"value\":null},{\"color\":\"rgba(237, 129, 40, 0.89)\",\"value\":50},{\"color\":\"#d44a3a\",\"value\":80}]},\"unit\":\"percent\"},\"overrides\":[]},\"gridPos\":{\"h\":5,\"w\":3,\"x\":6,\"y\":1},\"id\":1129,\"links\":[{\"targetBlank\":true,\"title\":\"进程\",\"url\":\"https://xxx.xxx.com/confu/monitor/test/1\"},{\"url\":\"/\"}],\"maxDataPoints\":100,\"options\":{\"orientation\":\"horizontal\",\"reduceOptions\":{\"calcs\":[\"lastNotNull\"],\"fields\":\"\",\"values\":false},\"showThresholdLabels\":false,\"showThresholdMarkers\":true},\"pluginVersion\":\"8.3.3\",\"targets\":[{\"expr\":\"max((irate(process_cpu_seconds_total{instance=~\\\"$instance\\\",job=\\\"$appname\\\"}[1m])  ) * 100)\",\"format\":\"time_series\",\"intervalFactor\":1,\"refId\":\"A\"}],\"title\":\"应用进程最大cpu\",\"type\":\"gauge\"},{\"datasource\":{\"uid\":\"$datasource\"},\"fieldConfig\":{\"defaults\":{\"mappings\":[],\"thresholds\":{\"mode\":\"absolute\",\"steps\":[{\"color\":\"green\",\"value\":null},{\"color\":\"red\",\"value\":80}]},\"unit\":\"bytes\"},\"overrides\":[]},\"gridPos\":{\"h\":5,\"w\":4,\"x\":9,\"y\":1},\"id\":1130,\"links\":[{\"targetBlank\":true,\"title\":\"进程\",\"url\":\"https://xxx.xxx.com/confu/monitor/test/1\"},{\"url\":\"/\"}],\"options\":{\"colorMode\":\"value\",\"graphMode\":\"area\",\"justifyMode\":\"auto\",\"orientation\":\"auto\",\"reduceOptions\":{\"calcs\":[\"mean\"],\"fields\":\"\",\"values\":false},\"textMode\":\"auto\"},\"pluginVersion\":\"8.3.3\",\"targets\":[{\"expr\":\"max(process_resident_memory_bytes{instance=~\\\"$instance\\\",job=\\\"$appname\\\"})\\n\",\"format\":\"time_series\",\"intervalFactor\":1,\"refId\":\"A\"}],\"title\":\"应用进程最大进程驻留内存\",\"type\":\"stat\"},{\"datasource\":{\"uid\":\"$datasource\"},\"fieldConfig\":{\"defaults\":{\"mappings\":[],\"thresholds\":{\"mode\":\"absolute\",\"steps\":[{\"color\":\"green\",\"value\":null},{\"color\":\"red\",\"value\":80}]}},\"overrides\":[]},\"gridPos\":{\"h\":5,\"w\":4,\"x\":13,\"y\":1},\"id\":1131,\"links\":[{\"targetBlank\":true,\"title\":\"进程\",\"url\":\"https://xxx.xxx.com/confu/monitor/test/1\"},{\"url\":\"/\"}],\"options\":{\"colorMode\":\"value\",\"graphMode\":\"area\",\"justifyMode\":\"auto\",\"orientation\":\"auto\",\"reduceOptions\":{\"calcs\":[\"mean\"],\"fields\":\"\",\"values\":false},\"textMode\":\"auto\"},\"pluginVersion\":\"8.3.3\",\"targets\":[{\"expr\":\"max(sum(irate(jupiter_server_handle_seconds_count{job=\\\"$appname\\\",instance=~\\\"$instance\\\"}[1m])) by (instance))\",\"format\":\"time_series\",\"intervalFactor\":1,\"legendFormat\":\"{{$instance}}\",\"refId\":\"A\"}],\"title\":\"单一实例最大QPS\",\"type\":\"stat\"},{\"datasource\":{\"uid\":\"$datasource\"},\"fieldConfig\":{\"defaults\":{\"mappings\":[],\"thresholds\":{\"mode\":\"absolute\",\"steps\":[{\"color\":\"green\",\"value\":null},{\"color\":\"red\",\"value\":80}]}},\"overrides\":[]},\"gridPos\":{\"h\":5,\"w\":4,\"x\":17,\"y\":1},\"id\":1132,\"links\":[{\"targetBlank\":true,\"title\":\"进程\",\"url\":\"https://xxx.xxx.com/confu/monitor/test/1\"},{\"url\":\"/\"}],\"options\":{\"colorMode\":\"value\",\"graphMode\":\"area\",\"justifyMode\":\"auto\",\"orientation\":\"auto\",\"reduceOptions\":{\"calcs\":[\"mean\"],\"fields\":\"\",\"values\":false},\"textMode\":\"auto\"},\"pluginVersion\":\"8.3.3\",\"targets\":[{\"expr\":\"max(sum(irate(jupiter_server_handle_seconds_count{job=\\\"$appname\\\"}[1m])) by (job)) \",\"format\":\"time_series\",\"intervalFactor\":1,\"legendFormat\":\"总 QPS\",\"refId\":\"A\"}],\"title\":\"总 QPS\",\"type\":\"stat\"},{\"datasource\":{\"uid\":\"$datasource\"},\"description\":\"GC 持续时间\",\"fieldConfig\":{\"defaults\":{\"color\":{\"fixedColor\":\"rgb(31, 120, 193)\",\"mode\":\"fixed\"},\"mappings\":[{\"options\":{\"match\":\"null\",\"result\":{\"text\":\"N/A\"}},\"type\":\"special\"}],\"thresholds\":{\"mode\":\"absolute\",\"steps\":[{\"color\":\"green\",\"value\":null},{\"color\":\"red\",\"value\":80}]},\"unit\":\"none\"},\"overrides\":[]},\"gridPos\":{\"h\":5,\"w\":3,\"x\":21,\"y\":1},\"id\":59,\"links\":[],\"maxDataPoints\":100,\"options\":{\"colorMode\":\"none\",\"graphMode\":\"area\",\"justifyMode\":\"auto\",\"orientation\":\"horizontal\",\"reduceOptions\":{\"calcs\":[\"mean\"],\"fields\":\"\",\"values\":false},\"textMode\":\"auto\"},\"pluginVersion\":\"8.3.3\",\"targets\":[{\"expr\":\"max(process_open_fds{job=~\\\"^($appname)$\\\",instance=~\\\"^($instance)$\\\"})by(job)\",\"format\":\"time_series\",\"hide\":false,\"intervalFactor\":1,\"legendFormat\":\"{{instance}}\",\"refId\":\"A\"}],\"title\":\"单一实例最大文件句柄数\",\"type\":\"stat\"},{\"collapsed\":false,\"gridPos\":{\"h\":1,\"w\":24,\"x\":0,\"y\":6},\"id\":32,\"panels\":[],\"title\":\"实例\",\"type\":\"row\"},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"description\":\"GC 持续时间\",\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":5,\"w\":6,\"x\":0,\"y\":7},\"hiddenSeries\":false,\"id\":68,\"legend\":{\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"8.3.3\",\"pointradius\":2,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"expr\":\"max(go_gc_duration_seconds{job=~\\\"^($appname)$\\\",instance=~\\\"^($instance)$\\\"})by(instance)\",\"format\":\"time_series\",\"hide\":false,\"intervalFactor\":1,\"legendFormat\":\"{{instance}}\",\"refId\":\"A\"}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"GC 耗时\",\"tooltip\":{\"shared\":true,\"sort\":0,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"format\":\"ms\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":5,\"w\":9,\"x\":6,\"y\":7},\"hiddenSeries\":false,\"id\":29,\"legend\":{\"alignAsTable\":false,\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"rightSide\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"8.3.3\",\"pointradius\":2,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"alias\":\"$tag_route\",\"dsType\":\"influxdb\",\"expr\":\"sum(irate(jupiter_server_handle_seconds_count{instance=~\\\"$instance\\\",job=~\\\"$appname\\\"}[1m]))by(instance)\",\"format\":\"time_series\",\"groupBy\":[{\"params\":[\"$interval\"],\"type\":\"time\"},{\"params\":[\"route\"],\"type\":\"tag\"},{\"params\":[\"null\"],\"type\":\"fill\"}],\"instant\":false,\"intervalFactor\":2,\"legendFormat\":\"{{instance}}\",\"measurement\":\"application.httprequests__transactions_per_endpoint\",\"policy\":\"default\",\"refId\":\"A\",\"resultFormat\":\"time_series\",\"select\":[[{\"params\":[\"rate1m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"}]],\"step\":2,\"tags\":[{\"key\":\"env\",\"operator\":\"=~\",\"value\":\"/^$environment$/\"},{\"condition\":\"AND\",\"key\":\"app\",\"operator\":\"=~\",\"value\":\"/^$application$/\"}]}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"QPS（多实例）\",\"tooltip\":{\"shared\":true,\"sort\":2,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"format\":\"short\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"editable\":true,\"error\":false,\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":5,\"w\":9,\"x\":15,\"y\":7},\"height\":\"350\",\"hiddenSeries\":false,\"id\":37,\"interval\":\"$summarize\",\"legend\":{\"alignAsTable\":false,\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"rightSide\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"8.3.3\",\"pointradius\":5,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"alias\":\"$tag_route\",\"dsType\":\"influxdb\",\"expr\":\"avg(histogram_quantile(0.99,rate(jupiter_server_handle_seconds_bucket{job=\\\"$appname\\\",instance=~\\\"$instance\\\"}[1m])\\u003e0)*1000)by(instance)\",\"format\":\"time_series\",\"groupBy\":[{\"params\":[\"$interval\"],\"type\":\"time\"},{\"params\":[\"route\"],\"type\":\"tag\"},{\"params\":[\"null\"],\"type\":\"fill\"}],\"interval\":\"\",\"intervalFactor\":2,\"legendFormat\":\"{{instance}}\",\"measurement\":\"application.httprequests__transactions_per_endpoint\",\"policy\":\"default\",\"refId\":\"A\",\"resultFormat\":\"time_series\",\"select\":[[{\"params\":[\"p95\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"95th Percentile\"],\"type\":\"alias\"}]],\"step\":10,\"tags\":[{\"key\":\"env\",\"operator\":\"=~\",\"value\":\"/^$environment$/\"},{\"condition\":\"AND\",\"key\":\"app\",\"operator\":\"=~\",\"value\":\"/^$application$/\"}]}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"P99 耗时（多实例均值）\",\"tooltip\":{\"msResolution\":false,\"shared\":true,\"sort\":2,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"$$hashKey\":\"object:161\",\"decimals\":2,\"format\":\"ms\",\"logBase\":1,\"show\":true},{\"$$hashKey\":\"object:162\",\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"description\":\"文件句柄数线性回归趋势\",\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":5,\"w\":6,\"x\":0,\"y\":12},\"hiddenSeries\":false,\"id\":58,\"legend\":{\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"8.3.3\",\"pointradius\":2,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"expr\":\"deriv(process_open_fds{job=~\\\"^($appname)$\\\",instance=~\\\"^($instance)$\\\"}[30s])\",\"format\":\"time_series\",\"hide\":false,\"intervalFactor\":1,\"legendFormat\":\"{{instance}}\",\"refId\":\"A\"}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"实例文件句柄数 线性回归趋势\",\"tooltip\":{\"shared\":true,\"sort\":0,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"format\":\"none\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"editable\":true,\"error\":false,\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":2,\"fillGradient\":0,\"gridPos\":{\"h\":5,\"w\":9,\"x\":6,\"y\":12},\"hiddenSeries\":false,\"id\":67,\"interval\":\"$summarize\",\"legend\":{\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"8.3.3\",\"pointradius\":5,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"alias\":\"\",\"dsType\":\"influxdb\",\"expr\":\"max(irate(process_cpu_seconds_total{instance=~\\\"$instance\\\",job=\\\"$appname\\\"}[1m])*100)by(instance)\",\"format\":\"time_series\",\"groupBy\":[{\"params\":[\"$interval\"],\"type\":\"time\"},{\"params\":[\"null\"],\"type\":\"fill\"}],\"intervalFactor\":2,\"legendFormat\":\"{{instance}}\",\"measurement\":\"application.httprequests__active\",\"policy\":\"default\",\"refId\":\"A\",\"resultFormat\":\"time_series\",\"select\":[[{\"params\":[\"value\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"}]],\"step\":10,\"tags\":[{\"key\":\"env\",\"operator\":\"=~\",\"value\":\"/^$environment$/\"},{\"condition\":\"AND\",\"key\":\"app\",\"operator\":\"=~\",\"value\":\"/^$application$/\"}]}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"应用进程CPU使用率（多实例）\",\"tooltip\":{\"msResolution\":false,\"shared\":true,\"sort\":2,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"format\":\"percent\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"description\":\"Go程序占用的常驻内存和虚拟内存容量\",\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":5,\"w\":9,\"x\":15,\"y\":12},\"hiddenSeries\":false,\"id\":66,\"legend\":{\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"8.3.3\",\"pointradius\":2,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"expr\":\"sum(go_memstats_alloc_bytes{instance=~\\\"$instance\\\",job=\\\"$appname\\\"})by(instance)\",\"format\":\"time_series\",\"hide\":false,\"intervalFactor\":1,\"legendFormat\":\"memstats_alloc | {{instance}} \",\"refId\":\"A\"},{\"expr\":\"sum(go_memstats_heap_inuse_bytes{job=~\\\"^($appname)$\\\",instance=~\\\"^($instance)$\\\"})by(instance)\",\"format\":\"time_series\",\"hide\":false,\"intervalFactor\":1,\"legendFormat\":\"heap_inuse | {{instance}} \",\"refId\":\"B\"},{\"expr\":\"sum(go_memstats_stack_inuse_bytes{job=~\\\"^($appname)$\\\",instance=~\\\"^($instance)$\\\"})by(instance)\",\"format\":\"time_series\",\"hide\":false,\"intervalFactor\":1,\"legendFormat\":\" stack_inuse | {{instance}}\",\"refId\":\"C\"},{\"expr\":\"sum(go_memstats_sys_bytes{job=~\\\"^($appname)$\\\",instance=~\\\"^($instance)$\\\"})by(instance)\",\"format\":\"time_series\",\"hide\":false,\"intervalFactor\":1,\"legendFormat\":\"memstats_sys | {{instance}} \",\"refId\":\"D\"},{\"expr\":\"sum(process_resident_memory_bytes{job=~\\\"^($appname)$\\\",instance=~\\\"^($instance)$\\\"})by(instance)\",\"format\":\"time_series\",\"intervalFactor\":1,\"legendFormat\":\"总进程驻留内存 | {{instance}}  \",\"refId\":\"E\"}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"应用内存信息（多实例）\",\"tooltip\":{\"shared\":true,\"sort\":2,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"format\":\"decbytes\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":5,\"w\":6,\"x\":0,\"y\":17},\"hiddenSeries\":false,\"id\":44,\"legend\":{\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"8.3.3\",\"pointradius\":2,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"alias\":\"$tag_route\",\"dsType\":\"influxdb\",\"expr\":\"rate(jupiter_server_error_total{instance=~\\\"$instance\\\",job=\\\"$appname\\\"}[1m])\",\"format\":\"time_series\",\"groupBy\":[{\"params\":[\"$interval\"],\"type\":\"time\"},{\"params\":[\"route\"],\"type\":\"tag\"},{\"params\":[\"null\"],\"type\":\"fill\"}],\"intervalFactor\":2,\"legendFormat\":\"{{instance}}\",\"measurement\":\"application.httprequests__one_minute_error_percentage_rate_per_endpoint\",\"policy\":\"default\",\"refId\":\"A\",\"resultFormat\":\"time_series\",\"select\":[[{\"params\":[\"value\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"}]],\"step\":2,\"tags\":[{\"key\":\"app\",\"operator\":\"=~\",\"value\":\"/^$application$/\"},{\"condition\":\"AND\",\"key\":\"env\",\"operator\":\"=~\",\"value\":\"/^$environment$/\"}]}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"各实例错误代码趋势\",\"tooltip\":{\"shared\":true,\"sort\":0,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"field\",\"show\":true,\"values\":[]},\"yaxes\":[{\"format\":\"short\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"editable\":true,\"error\":false,\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":2,\"fillGradient\":0,\"gridPos\":{\"h\":5,\"w\":9,\"x\":6,\"y\":17},\"hiddenSeries\":false,\"id\":42,\"interval\":\"$summarize\",\"legend\":{\"alignAsTable\":false,\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"rightSide\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"8.3.3\",\"pointradius\":5,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"alias\":\"\",\"dsType\":\"influxdb\",\"expr\":\"max(go_goroutines{instance=~\\\"$instance\\\",job=\\\"$appname\\\"})by(instance)\",\"format\":\"time_series\",\"groupBy\":[{\"params\":[\"$interval\"],\"type\":\"time\"},{\"params\":[\"null\"],\"type\":\"fill\"}],\"intervalFactor\":2,\"legendFormat\":\"{{instance}}\",\"measurement\":\"application.httprequests__active\",\"policy\":\"default\",\"refId\":\"A\",\"resultFormat\":\"time_series\",\"select\":[[{\"params\":[\"value\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"}]],\"step\":10,\"tags\":[{\"key\":\"env\",\"operator\":\"=~\",\"value\":\"/^$environment$/\"},{\"condition\":\"AND\",\"key\":\"app\",\"operator\":\"=~\",\"value\":\"/^$application$/\"}]}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"Go Goroutines（多实例）\",\"tooltip\":{\"msResolution\":false,\"shared\":true,\"sort\":0,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"format\":\"short\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"description\":\"文件句柄数\",\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":5,\"w\":9,\"x\":15,\"y\":17},\"hiddenSeries\":false,\"id\":57,\"legend\":{\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"8.3.3\",\"pointradius\":2,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"expr\":\"process_open_fds{job=~\\\"^($appname)$\\\",instance=~\\\"^($instance)$\\\"}\",\"format\":\"time_series\",\"hide\":false,\"intervalFactor\":1,\"legendFormat\":\"{{instance}}\",\"refId\":\"A\"}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"实例文件句柄数（多实例）\",\"tooltip\":{\"shared\":true,\"sort\":0,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"format\":\"none\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"collapsed\":false,\"gridPos\":{\"h\":1,\"w\":24,\"x\":0,\"y\":22},\"id\":1112,\"panels\":[],\"title\":\"服务端\",\"type\":\"row\"},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":7,\"w\":6,\"x\":0,\"y\":23},\"hiddenSeries\":false,\"id\":1123,\"legend\":{\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"8.3.3\",\"pointradius\":2,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"expr\":\"sum(rate(jupiter_server_handle_total{type=\\\"http\\\",instance=~\\\"$instance\\\",job=\\\"$appname\\\",code!=\\\"OK\\\"}[1m]))by(code,method,instance)\",\"format\":\"time_series\",\"intervalFactor\":1,\"legendFormat\":\"{{code}} | {{method}} | {{server}}\",\"refId\":\"A\"}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"HTTP Server错误码分布\",\"tooltip\":{\"shared\":true,\"sort\":2,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"decimals\":0,\"format\":\"short\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":7,\"w\":9,\"x\":6,\"y\":23},\"hiddenSeries\":false,\"id\":1115,\"legend\":{\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[{\"targetBlank\":true,\"title\":\"哈哈\",\"url\":\"http://www.baidu.com\"}],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"8.3.3\",\"pointradius\":2,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"expr\":\"sum(irate(jupiter_server_handle_seconds_count{type=\\\"http\\\",instance=~\\\"$instance\\\",job=\\\"$appname\\\"}[1m]))by(instance)\",\"format\":\"time_series\",\"intervalFactor\":1,\"legendFormat\":\"{{instance}}\",\"refId\":\"A\"}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"HTTP Server QPS\",\"tooltip\":{\"shared\":true,\"sort\":2,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"decimals\":0,\"format\":\"short\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":7,\"w\":9,\"x\":15,\"y\":23},\"hiddenSeries\":false,\"id\":1122,\"legend\":{\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null as zero\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"8.3.3\",\"pointradius\":2,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"expr\":\"avg(histogram_quantile(0.99,irate(jupiter_server_handle_seconds_bucket{type=\\\"http\\\",instance=~\\\"$instance\\\", job=\\\"$appname\\\"}[1m])\\u003e0)*1000)by(instance)\",\"format\":\"time_series\",\"hide\":false,\"intervalFactor\":1,\"legendFormat\":\"{{instance}}\",\"refId\":\"A\"}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"HTTP Server P99\",\"tooltip\":{\"shared\":true,\"sort\":2,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"decimals\":2,\"format\":\"ms\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":7,\"w\":6,\"x\":0,\"y\":30},\"hiddenSeries\":false,\"id\":1117,\"legend\":{\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"8.3.3\",\"pointradius\":2,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"expr\":\"sum(rate(jupiter_server_handle_total{type=\\\"unary\\\",instance=~\\\"$instance\\\",job=\\\"$appname\\\",code!=\\\"OK\\\"}[1m]))by(code,method,instance)\",\"format\":\"time_series\",\"intervalFactor\":1,\"legendFormat\":\"{{code}} | {{method}} | {{instance}}\",\"refId\":\"A\"}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"GRPC Server状态码分布\",\"tooltip\":{\"shared\":true,\"sort\":2,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"decimals\":0,\"format\":\"short\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":7,\"w\":9,\"x\":6,\"y\":30},\"hiddenSeries\":false,\"id\":1127,\"legend\":{\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"8.3.3\",\"pointradius\":2,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"expr\":\"sum(irate(jupiter_server_handle_seconds_count{type=\\\"unary\\\",instance=~\\\"$instance\\\",job=\\\"$appname\\\"}[1m]))by(instance)\",\"format\":\"time_series\",\"intervalFactor\":1,\"legendFormat\":\" {{instance}}\",\"refId\":\"A\"}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"GRPC Server QPS\",\"tooltip\":{\"shared\":true,\"sort\":2,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"decimals\":0,\"format\":\"short\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":7,\"w\":9,\"x\":15,\"y\":30},\"hiddenSeries\":false,\"id\":1116,\"legend\":{\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null as zero\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"8.3.3\",\"pointradius\":2,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"expr\":\"avg(histogram_quantile(0.99,irate(jupiter_server_handle_seconds_bucket{type=\\\"unary\\\",instance=~\\\"$instance\\\", job=\\\"$appname\\\"}[1m])\\u003e0)*1000)by(instance)\",\"format\":\"time_series\",\"hide\":false,\"intervalFactor\":1,\"legendFormat\":\"{{instance}}\",\"refId\":\"A\"}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"GRPC Server P99\",\"tooltip\":{\"shared\":true,\"sort\":2,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"decimals\":2,\"format\":\"ms\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}}],\"refresh\":false,\"schemaVersion\":34,\"style\":\"dark\",\"tags\":[],\"templating\":{\"list\":[{\"current\":{\"selected\":false,\"text\":\"prod.zone-one.jupiter1.0\",\"value\":\"prod.zone-one.jupiter1.0\"},\"hide\":0,\"includeAll\":false,\"label\":\"机房\",\"multi\":false,\"name\":\"datasource\",\"options\":[],\"query\":\"prometheus\",\"queryValue\":\"\",\"refresh\":1,\"regex\":\"\",\"skipUrlSync\":false,\"type\":\"datasource\"},{\"current\":{\"selected\":false,\"text\":\"mwsd-base-srv-ip-go\",\"value\":\"mwsd-base-srv-ip-go\"},\"datasource\":{\"uid\":\"$datasource\"},\"definition\":\"label_values(go_info{},job)\",\"hide\":0,\"includeAll\":false,\"label\":\"应用名\",\"multi\":false,\"name\":\"appname\",\"options\":[],\"query\":{\"query\":\"label_values(go_info{},job)\",\"refId\":\"prod.zone-one.jupiter1.0-appname-Variable-Query\"},\"refresh\":1,\"regex\":\"\",\"skipUrlSync\":false,\"sort\":0,\"tagValuesQuery\":\"\",\"tagsQuery\":\"\",\"type\":\"query\",\"useTags\":false},{\"current\":{\"selected\":false,\"text\":\"All\",\"value\":\"$__all\"},\"datasource\":{\"uid\":\"$datasource\"},\"definition\":\"label_values(go_info{job=~\'$appname\'},instance)\",\"hide\":0,\"includeAll\":true,\"label\":\"实例\",\"multi\":true,\"name\":\"instance\",\"options\":[],\"query\":{\"query\":\"label_values(go_info{job=~\'$appname\'},instance)\",\"refId\":\"prod.zone-one.jupiter1.0-instance-Variable-Query\"},\"refresh\":1,\"regex\":\"\",\"skipUrlSync\":false,\"sort\":0,\"tagValuesQuery\":\"\",\"tagsQuery\":\"\",\"type\":\"query\",\"useTags\":false},{\"auto\":false,\"auto_count\":30,\"auto_min\":\"10s\",\"current\":{\"selected\":false,\"text\":\"1m\",\"value\":\"1m\"},\"hide\":0,\"name\":\"summarize\",\"options\":[{\"selected\":true,\"text\":\"1m\",\"value\":\"1m\"},{\"selected\":false,\"text\":\"10m\",\"value\":\"10m\"},{\"selected\":false,\"text\":\"30m\",\"value\":\"30m\"},{\"selected\":false,\"text\":\"1h\",\"value\":\"1h\"},{\"selected\":false,\"text\":\"6h\",\"value\":\"6h\"},{\"selected\":false,\"text\":\"12h\",\"value\":\"12h\"},{\"selected\":false,\"text\":\"1d\",\"value\":\"1d\"},{\"selected\":false,\"text\":\"7d\",\"value\":\"7d\"},{\"selected\":false,\"text\":\"14d\",\"value\":\"14d\"},{\"selected\":false,\"text\":\"30d\",\"value\":\"30d\"}],\"query\":\"1m,10m,30m,1h,6h,12h,1d,7d,14d,30d\",\"refresh\":2,\"skipUrlSync\":false,\"type\":\"interval\"},{\"current\":{\"selected\":true,\"text\":[\"All\"],\"value\":[\"$__all\"]},\"datasource\":{\"uid\":\"$datasource\"},\"definition\":\"label_values(jupiter_server_handle_seconds_count{job=~\'$appname\'},method) \",\"hide\":0,\"includeAll\":true,\"label\":\"方法名\",\"multi\":true,\"name\":\"method\",\"options\":[],\"query\":{\"query\":\"label_values(jupiter_server_handle_seconds_count{job=~\'$appname\'},method) \",\"refId\":\"prod.zone-one.jupiter1.0-method-Variable-Query\"},\"refresh\":1,\"regex\":\"\",\"skipUrlSync\":false,\"sort\":0,\"tagValuesQuery\":\"\",\"tagsQuery\":\"\",\"type\":\"query\",\"useTags\":false}]},\"time\":{\"from\":\"now-30m\",\"to\":\"now\"},\"timepicker\":{\"refresh_intervals\":[\"10s\",\"30s\",\"1m\",\"5m\",\"15m\",\"30m\",\"1h\",\"2h\",\"1d\"],\"time_options\":[\"5m\",\"15m\",\"1h\",\"6h\",\"12h\",\"24h\",\"2d\",\"7d\",\"30d\"]},\"timezone\":\"\",\"title\":\"Instance\",\"uid\":\"instance\",\"version\":1,\"weekStart\":\"\"}'),
(3,	3,	1,	0,	1,	'2023-02-16 07:46:21',	1,	'',	'{\"annotations\":{\"list\":[{\"builtIn\":1,\"datasource\":\"-- Grafana --\",\"enable\":true,\"hide\":true,\"iconColor\":\"rgba(0, 211, 255, 1)\",\"name\":\"Annotations \\u0026 Alerts\",\"target\":{\"limit\":100,\"matchAny\":false,\"tags\":[],\"type\":\"dashboard\"},\"type\":\"dashboard\"}]},\"description\":\"\",\"editable\":true,\"fiscalYearStartMonth\":0,\"gnetId\":2204,\"graphTooltip\":1,\"id\":null,\"iteration\":1676533564732,\"links\":[],\"liveNow\":false,\"panels\":[{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"editable\":true,\"error\":false,\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":8,\"w\":8,\"x\":0,\"y\":0},\"height\":\"350\",\"hiddenSeries\":false,\"id\":30,\"interval\":\"$summarize\",\"legend\":{\"alignAsTable\":true,\"avg\":true,\"current\":true,\"max\":true,\"min\":true,\"rightSide\":false,\"show\":true,\"total\":false,\"values\":true},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"8.3.3\",\"pointradius\":5,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"alias\":\"$col\",\"dsType\":\"influxdb\",\"expr\":\"avg(histogram_quantile(0.75,rate(jupiter_server_handle_seconds_bucket{job=\\\"$appname\\\"}[1m])\\u003e0)*1000)by(job)\",\"format\":\"time_series\",\"groupBy\":[{\"params\":[\"$interval\"],\"type\":\"time\"},{\"params\":[\"null\"],\"type\":\"fill\"}],\"interval\":\"\",\"intervalFactor\":2,\"legendFormat\":\"75th Percentile\",\"measurement\":\"application.httprequests__transactions\",\"metric\":\"\",\"policy\":\"default\",\"refId\":\"A\",\"resultFormat\":\"time_series\",\"select\":[[{\"params\":[\"p95\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"95th Percentile\"],\"type\":\"alias\"}],[{\"params\":[\"p98\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"98th Percentile\"],\"type\":\"alias\"}],[{\"params\":[\"p99\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"99th Percentile\"],\"type\":\"alias\"}]],\"step\":10,\"tags\":[{\"key\":\"env\",\"operator\":\"=~\",\"value\":\"/^$environment$/\"},{\"condition\":\"AND\",\"key\":\"app\",\"operator\":\"=~\",\"value\":\"/^$application$/\"}]},{\"expr\":\"avg(histogram_quantile(0.95,rate(jupiter_server_handle_seconds_bucket{job=\\\"$appname\\\"}[1m])\\u003e0)*1000)by(job)\",\"format\":\"time_series\",\"interval\":\"\",\"intervalFactor\":2,\"legendFormat\":\"95th Percentile\",\"refId\":\"B\",\"step\":10},{\"expr\":\"avg(histogram_quantile(0.99,rate(jupiter_server_handle_seconds_bucket{job=\\\"$appname\\\"}[1m])\\u003e0)*1000)by(job)\",\"format\":\"time_series\",\"interval\":\"\",\"intervalFactor\":2,\"legendFormat\":\"99th Percentile\",\"refId\":\"C\",\"step\":10}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"SOA 服务响应时间\",\"tooltip\":{\"msResolution\":false,\"shared\":true,\"sort\":2,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"format\":\"ms\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"editable\":true,\"error\":false,\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":8,\"w\":8,\"x\":8,\"y\":0},\"height\":\"350\",\"hiddenSeries\":false,\"id\":26,\"interval\":\"$summarize\",\"legend\":{\"alignAsTable\":false,\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"rightSide\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"8.3.3\",\"pointradius\":5,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"alias\":\"$col\",\"dsType\":\"influxdb\",\"expr\":\"sum(irate(jupiter_server_handle_seconds_count{job=\\\"$appname\\\"}[1m]))by(job)\",\"format\":\"time_series\",\"groupBy\":[{\"params\":[\"$interval\"],\"type\":\"time\"},{\"params\":[\"null\"],\"type\":\"fill\"}],\"intervalFactor\":2,\"legendFormat\":\"1 min rate\",\"measurement\":\"application.httprequests__transactions\",\"policy\":\"default\",\"refId\":\"A\",\"resultFormat\":\"time_series\",\"select\":[[{\"params\":[\"rate1m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"1 min rate\"],\"type\":\"alias\"}],[{\"params\":[\"rate5m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"5 min rate\"],\"type\":\"alias\"}],[{\"params\":[\"rate15m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"15 min rate\"],\"type\":\"alias\"}]],\"step\":10,\"tags\":[{\"key\":\"env\",\"operator\":\"=~\",\"value\":\"/^$environment$/\"},{\"condition\":\"AND\",\"key\":\"app\",\"operator\":\"=~\",\"value\":\"/^$application$/\"}]},{\"expr\":\"sum(irate(jupiter_server_handle_seconds_count{job=\\\"$appname\\\"}[5m]))by(job)\",\"format\":\"time_series\",\"hide\":false,\"intervalFactor\":2,\"legendFormat\":\"5 min rate\",\"refId\":\"B\",\"step\":10},{\"expr\":\"sum(irate(jupiter_server_handle_seconds_count{job=\\\"$appname\\\"}[15m]))by(job)\",\"format\":\"time_series\",\"hide\":false,\"intervalFactor\":2,\"legendFormat\":\"15 min rate\",\"refId\":\"C\",\"step\":10}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"SOA 服务QPS\",\"tooltip\":{\"msResolution\":false,\"shared\":true,\"sort\":0,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"format\":\"short\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"editable\":true,\"error\":false,\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":8,\"w\":8,\"x\":16,\"y\":0},\"height\":\"350\",\"hiddenSeries\":false,\"id\":234,\"interval\":\"$summarize\",\"legend\":{\"alignAsTable\":true,\"avg\":true,\"current\":true,\"max\":true,\"min\":true,\"rightSide\":false,\"show\":true,\"total\":false,\"values\":true},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"8.3.3\",\"pointradius\":5,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"alias\":\"$col\",\"dsType\":\"influxdb\",\"expr\":\"sum(rate(jupiter_server_handle_total{code=\\\"OK\\\",job=\\\"$appname\\\"}[1m]))by(job)/sum(rate(jupiter_server_handle_total{job=\\\"$appname\\\"}[1m]))by(job)\",\"format\":\"time_series\",\"groupBy\":[{\"params\":[\"$interval\"],\"type\":\"time\"},{\"params\":[\"null\"],\"type\":\"fill\"}],\"intervalFactor\":2,\"legendFormat\":\"{{job}}\",\"measurement\":\"application.httprequests__transactions\",\"policy\":\"default\",\"refId\":\"A\",\"resultFormat\":\"time_series\",\"select\":[[{\"params\":[\"rate1m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"1 min rate\"],\"type\":\"alias\"}],[{\"params\":[\"rate5m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"5 min rate\"],\"type\":\"alias\"}],[{\"params\":[\"rate15m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"15 min rate\"],\"type\":\"alias\"}]],\"step\":10,\"tags\":[{\"key\":\"env\",\"operator\":\"=~\",\"value\":\"/^$environment$/\"},{\"condition\":\"AND\",\"key\":\"app\",\"operator\":\"=~\",\"value\":\"/^$application$/\"}]}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"SOA 服务成功率\",\"tooltip\":{\"msResolution\":false,\"shared\":true,\"sort\":0,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"format\":\"percentunit\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"editable\":true,\"error\":false,\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":8,\"w\":8,\"x\":0,\"y\":8},\"height\":\"350\",\"hiddenSeries\":false,\"id\":235,\"interval\":\"$summarize\",\"legend\":{\"alignAsTable\":false,\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"rightSide\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"8.3.3\",\"pointradius\":5,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"alias\":\"$col\",\"dsType\":\"influxdb\",\"expr\":\"sum(irate(jupiter_server_handle_total{code!=\\\"OK\\\",job=\\\"$appname\\\"}[1m]))by(job)\",\"format\":\"time_series\",\"groupBy\":[{\"params\":[\"$interval\"],\"type\":\"time\"},{\"params\":[\"null\"],\"type\":\"fill\"}],\"intervalFactor\":2,\"legendFormat\":\"1 min rate\",\"measurement\":\"application.httprequests__transactions\",\"policy\":\"default\",\"refId\":\"A\",\"resultFormat\":\"time_series\",\"select\":[[{\"params\":[\"rate1m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"1 min rate\"],\"type\":\"alias\"}],[{\"params\":[\"rate5m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"5 min rate\"],\"type\":\"alias\"}],[{\"params\":[\"rate15m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"15 min rate\"],\"type\":\"alias\"}]],\"step\":10,\"tags\":[{\"key\":\"env\",\"operator\":\"=~\",\"value\":\"/^$environment$/\"},{\"condition\":\"AND\",\"key\":\"app\",\"operator\":\"=~\",\"value\":\"/^$application$/\"}]},{\"expr\":\"sum(irate(jupiter_server_handle_total{code!=\\\"OK\\\",job=\\\"$appname\\\"}[5m]))by(job)\",\"format\":\"time_series\",\"hide\":false,\"intervalFactor\":2,\"legendFormat\":\"5 min rate\",\"refId\":\"B\",\"step\":10},{\"expr\":\"sum(irate(jupiter_server_handle_total{code!=\\\"OK\\\",job=\\\"$appname\\\"}[15m]))by(job)\",\"format\":\"time_series\",\"hide\":false,\"intervalFactor\":2,\"legendFormat\":\"15 min rate\",\"refId\":\"C\",\"step\":10}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"异常QPS\",\"tooltip\":{\"msResolution\":false,\"shared\":true,\"sort\":0,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"decimals\":2,\"format\":\"short\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"editable\":true,\"error\":false,\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":8,\"w\":8,\"x\":8,\"y\":8},\"height\":\"350\",\"hiddenSeries\":false,\"id\":236,\"interval\":\"$summarize\",\"legend\":{\"alignAsTable\":false,\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"rightSide\":false,\"show\":false,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"8.3.3\",\"pointradius\":5,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"alias\":\"$col\",\"dsType\":\"influxdb\",\"expr\":\"sum(irate(jupiter_client_handle_seconds_count{job=\\\"$appname\\\"}[5m]))by(job)\",\"format\":\"time_series\",\"groupBy\":[{\"params\":[\"$interval\"],\"type\":\"time\"},{\"params\":[\"null\"],\"type\":\"fill\"}],\"intervalFactor\":2,\"legendFormat\":\"{{job}}\",\"measurement\":\"application.httprequests__transactions\",\"policy\":\"default\",\"refId\":\"A\",\"resultFormat\":\"time_series\",\"select\":[[{\"params\":[\"rate1m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"1 min rate\"],\"type\":\"alias\"}],[{\"params\":[\"rate5m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"5 min rate\"],\"type\":\"alias\"}],[{\"params\":[\"rate15m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"15 min rate\"],\"type\":\"alias\"}]],\"step\":10,\"tags\":[{\"key\":\"env\",\"operator\":\"=~\",\"value\":\"/^$environment$/\"},{\"condition\":\"AND\",\"key\":\"app\",\"operator\":\"=~\",\"value\":\"/^$application$/\"}]}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"依赖服务QPS\",\"tooltip\":{\"msResolution\":false,\"shared\":true,\"sort\":0,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"decimals\":2,\"format\":\"short\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"editable\":true,\"error\":false,\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":8,\"w\":8,\"x\":16,\"y\":8},\"height\":\"350\",\"hiddenSeries\":false,\"id\":237,\"interval\":\"$summarize\",\"legend\":{\"alignAsTable\":false,\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"rightSide\":false,\"show\":false,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"8.3.3\",\"pointradius\":5,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"alias\":\"$col\",\"dsType\":\"influxdb\",\"expr\":\"avg(histogram_quantile(0.99, irate(jupiter_client_handle_seconds_bucket{job=\\\"$appname\\\"}[1m])\\u003e0)*1000)by(job)\",\"format\":\"time_series\",\"groupBy\":[{\"params\":[\"$interval\"],\"type\":\"time\"},{\"params\":[\"null\"],\"type\":\"fill\"}],\"intervalFactor\":2,\"legendFormat\":\"{{job}}\",\"measurement\":\"application.httprequests__transactions\",\"policy\":\"default\",\"refId\":\"A\",\"resultFormat\":\"time_series\",\"select\":[[{\"params\":[\"rate1m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"1 min rate\"],\"type\":\"alias\"}],[{\"params\":[\"rate5m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"5 min rate\"],\"type\":\"alias\"}],[{\"params\":[\"rate15m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"15 min rate\"],\"type\":\"alias\"}]],\"step\":10,\"tags\":[{\"key\":\"env\",\"operator\":\"=~\",\"value\":\"/^$environment$/\"},{\"condition\":\"AND\",\"key\":\"app\",\"operator\":\"=~\",\"value\":\"/^$application$/\"}]}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"依赖服务响应时间\",\"tooltip\":{\"msResolution\":false,\"shared\":true,\"sort\":0,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"decimals\":2,\"format\":\"short\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}}],\"refresh\":false,\"schemaVersion\":34,\"style\":\"dark\",\"tags\":[\"prometheus\"],\"templating\":{\"list\":[{\"current\":{\"selected\":false,\"text\":\"prod.zone-one.jupiter1.0\",\"value\":\"prod.zone-one.jupiter1.0\"},\"hide\":0,\"includeAll\":false,\"label\":\"机房\",\"multi\":false,\"name\":\"datasource\",\"options\":[],\"query\":\"prometheus\",\"refresh\":1,\"regex\":\"\",\"skipUrlSync\":false,\"type\":\"datasource\"},{\"current\":{\"selected\":false,\"text\":\"juno-admin\",\"value\":\"juno-admin\"},\"datasource\":{\"uid\":\"$datasource\"},\"definition\":\"label_values(go_info{},job)\",\"hide\":0,\"includeAll\":false,\"label\":\"应用名\",\"multi\":false,\"name\":\"appname\",\"options\":[],\"query\":{\"query\":\"label_values(go_info{},job)\",\"refId\":\"prod.zone-one.jupiter1.0-appname-Variable-Query\"},\"refresh\":1,\"regex\":\"\",\"skipUrlSync\":false,\"sort\":1,\"type\":\"query\",\"useTags\":false},{\"current\":{\"selected\":false,\"text\":\"All\",\"value\":\"$__all\"},\"datasource\":{\"uid\":\"$datasource\"},\"definition\":\"label_values(go_info{job=~\'$appname\'},instance)\",\"hide\":0,\"includeAll\":true,\"label\":\"实例\",\"multi\":true,\"name\":\"instance\",\"options\":[],\"query\":{\"query\":\"label_values(go_info{job=~\'$appname\'},instance)\",\"refId\":\"prod.zone-one.jupiter1.0-instance-Variable-Query\"},\"refresh\":1,\"regex\":\"\",\"skipUrlSync\":false,\"sort\":0,\"tagValuesQuery\":\"\",\"tagsQuery\":\"\",\"type\":\"query\",\"useTags\":false},{\"auto\":false,\"auto_count\":30,\"auto_min\":\"10s\",\"current\":{\"selected\":false,\"text\":\"5s\",\"value\":\"5s\"},\"hide\":0,\"name\":\"summarize\",\"options\":[{\"selected\":true,\"text\":\"5s\",\"value\":\"5s\"},{\"selected\":false,\"text\":\"10s\",\"value\":\"10s\"},{\"selected\":false,\"text\":\"30s\",\"value\":\"30s\"},{\"selected\":false,\"text\":\"1m\",\"value\":\"1m\"},{\"selected\":false,\"text\":\"10m\",\"value\":\"10m\"},{\"selected\":false,\"text\":\"30m\",\"value\":\"30m\"},{\"selected\":false,\"text\":\"1h\",\"value\":\"1h\"},{\"selected\":false,\"text\":\"6h\",\"value\":\"6h\"},{\"selected\":false,\"text\":\"12h\",\"value\":\"12h\"},{\"selected\":false,\"text\":\"1d\",\"value\":\"1d\"},{\"selected\":false,\"text\":\"7d\",\"value\":\"7d\"},{\"selected\":false,\"text\":\"14d\",\"value\":\"14d\"},{\"selected\":false,\"text\":\"30d\",\"value\":\"30d\"}],\"query\":\"5s,10s,30s,1m,10m,30m,1h,6h,12h,1d,7d,14d,30d\",\"refresh\":2,\"skipUrlSync\":false,\"type\":\"interval\"}]},\"time\":{\"from\":\"now-15m\",\"to\":\"now\"},\"timepicker\":{\"refresh_intervals\":[\"10s\",\"30s\",\"1m\",\"5m\",\"15m\",\"30m\",\"1h\",\"2h\",\"1d\"],\"time_options\":[\"5m\",\"15m\",\"1h\",\"6h\",\"12h\",\"24h\",\"2d\",\"7d\",\"30d\"]},\"timezone\":\"browser\",\"title\":\"Overview\",\"uid\":\"overview\",\"version\":1,\"weekStart\":\"\"}'),
(4,	1,	1,	0,	2,	'2023-02-16 07:54:57',	1,	'',	'{\"annotations\":{\"list\":[{\"builtIn\":1,\"datasource\":{\"type\":\"datasource\",\"uid\":\"grafana\"},\"enable\":true,\"hide\":true,\"iconColor\":\"rgba(0, 211, 255, 1)\",\"name\":\"Annotations \\u0026 Alerts\",\"target\":{\"limit\":100,\"matchAny\":false,\"tags\":[],\"type\":\"dashboard\"},\"type\":\"dashboard\"}]},\"editable\":true,\"fiscalYearStartMonth\":0,\"graphTooltip\":1,\"id\":1,\"links\":[],\"liveNow\":false,\"panels\":[{\"collapsed\":false,\"datasource\":{\"type\":\"prometheus\",\"uid\":\"xbIDKTJVk\"},\"gridPos\":{\"h\":1,\"w\":24,\"x\":0,\"y\":0},\"id\":1112,\"panels\":[],\"targets\":[{\"datasource\":{\"type\":\"prometheus\",\"uid\":\"xbIDKTJVk\"},\"refId\":\"A\"}],\"title\":\"服务端\",\"type\":\"row\"},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":7,\"w\":6,\"x\":0,\"y\":1},\"hiddenSeries\":false,\"id\":1123,\"legend\":{\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"9.3.6\",\"pointradius\":2,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"datasource\":{\"uid\":\"$datasource\"},\"expr\":\"sum(rate(jupiter_server_handle_total{type=\\\"http\\\",method=~\\\"$method\\\",job=\\\"$appname\\\",code!=\\\"OK\\\"}[1m]))by(code,method,instance)\",\"format\":\"time_series\",\"interval\":\"\",\"intervalFactor\":1,\"legendFormat\":\"{{code}} | {{method}} | {{server}}\",\"refId\":\"A\"}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"HTTP Server错误码分布\",\"tooltip\":{\"shared\":true,\"sort\":2,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"decimals\":0,\"format\":\"short\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":7,\"w\":9,\"x\":6,\"y\":1},\"hiddenSeries\":false,\"id\":1115,\"legend\":{\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[{\"targetBlank\":true,\"title\":\"哈哈\",\"url\":\"http://www.baidu.com\"}],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"9.3.6\",\"pointradius\":2,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"datasource\":{\"uid\":\"$datasource\"},\"expr\":\"sum(irate(jupiter_server_handle_seconds_count{type=\\\"http\\\",job=\\\"$appname\\\", method=~\\\"$method\\\"}[1m]))by(method, instance)\",\"format\":\"time_series\",\"intervalFactor\":1,\"legendFormat\":\"{{method}} | {{instance}}\",\"refId\":\"A\"}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"HTTP Server QPS\",\"tooltip\":{\"shared\":true,\"sort\":2,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"decimals\":0,\"format\":\"short\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":7,\"w\":9,\"x\":15,\"y\":1},\"hiddenSeries\":false,\"id\":1122,\"legend\":{\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null as zero\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"9.3.6\",\"pointradius\":2,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"datasource\":{\"uid\":\"$datasource\"},\"expr\":\"avg(histogram_quantile(0.99,irate(jupiter_server_handle_seconds_bucket{type=\\\"http\\\", job=\\\"$appname\\\", method=~\\\"$method\\\"}[1m])\\u003e0)*1000)by(method,instance)\",\"format\":\"time_series\",\"hide\":false,\"intervalFactor\":1,\"legendFormat\":\"{{method}} | {{instance}}\",\"refId\":\"A\"}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"HTTP Server P99\",\"tooltip\":{\"shared\":true,\"sort\":2,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"decimals\":2,\"format\":\"ms\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":7,\"w\":6,\"x\":0,\"y\":8},\"hiddenSeries\":false,\"id\":1117,\"legend\":{\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"9.3.6\",\"pointradius\":2,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"datasource\":{\"uid\":\"$datasource\"},\"expr\":\"sum(rate(jupiter_server_handle_total{type=\\\"unary\\\",method=~\\\"$method\\\",job=\\\"$appname\\\",code!=\\\"OK\\\"}[1m]))by(code,method,instance)\",\"format\":\"time_series\",\"intervalFactor\":1,\"legendFormat\":\"{{code}} | {{method}} | {{instance}}\",\"refId\":\"A\"}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"GRPC Server状态码分布\",\"tooltip\":{\"shared\":true,\"sort\":2,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"decimals\":0,\"format\":\"short\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":7,\"w\":9,\"x\":6,\"y\":8},\"hiddenSeries\":false,\"id\":1127,\"legend\":{\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"9.3.6\",\"pointradius\":2,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"datasource\":{\"uid\":\"$datasource\"},\"expr\":\"sum(irate(jupiter_server_handle_seconds_count{type=\\\"unary\\\",job=\\\"$appname\\\",method=~\\\"$method\\\"}[1m]))by(method,instance)\",\"format\":\"time_series\",\"intervalFactor\":1,\"legendFormat\":\"{{method}} | {{instance}}\",\"refId\":\"A\"}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"GRPC Server QPS\",\"tooltip\":{\"shared\":true,\"sort\":2,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"decimals\":0,\"format\":\"short\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":7,\"w\":9,\"x\":15,\"y\":8},\"hiddenSeries\":false,\"id\":1116,\"legend\":{\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null as zero\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"9.3.6\",\"pointradius\":2,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"datasource\":{\"uid\":\"$datasource\"},\"expr\":\"avg(histogram_quantile(0.99,irate(jupiter_server_handle_seconds_bucket{type=\\\"unary\\\", job=\\\"$appname\\\",method=~\\\"$method\\\"}[1m])\\u003e0)*1000)by(method,instance)\",\"format\":\"time_series\",\"hide\":false,\"intervalFactor\":1,\"legendFormat\":\"{{method}} | {{instance}}\",\"refId\":\"A\"}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"GRPC Server P99\",\"tooltip\":{\"shared\":true,\"sort\":2,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"decimals\":2,\"format\":\"ms\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}}],\"refresh\":false,\"schemaVersion\":37,\"style\":\"dark\",\"tags\":[],\"templating\":{\"list\":[{\"current\":{\"selected\":false,\"text\":\"prod.zone-one.jupiter1.0\",\"value\":\"prod.zone-one.jupiter1.0\"},\"hide\":0,\"includeAll\":false,\"label\":\"机房\",\"multi\":false,\"name\":\"datasource\",\"options\":[],\"query\":\"prometheus\",\"queryValue\":\"\",\"refresh\":1,\"regex\":\"\",\"skipUrlSync\":false,\"type\":\"datasource\"},{\"current\":{\"selected\":false,\"text\":\"mwsd-base-srv-ip-go\",\"value\":\"mwsd-base-srv-ip-go\"},\"datasource\":{\"uid\":\"$datasource\"},\"definition\":\"label_values(go_info{},job)\",\"hide\":2,\"includeAll\":false,\"label\":\"应用名\",\"multi\":false,\"name\":\"appname\",\"options\":[],\"query\":{\"query\":\"label_values(go_info{},job)\",\"refId\":\"prod.zone-one.jupiter1.0-appname-Variable-Query\"},\"refresh\":1,\"regex\":\"\",\"skipUrlSync\":false,\"sort\":0,\"tagValuesQuery\":\"\",\"tagsQuery\":\"\",\"type\":\"query\",\"useTags\":false},{\"current\":{\"selected\":false,\"text\":\"All\",\"value\":\"$__all\"},\"datasource\":{\"uid\":\"$datasource\"},\"definition\":\"label_values(go_info{job=~\'$appname\'},instance)\",\"hide\":0,\"includeAll\":true,\"label\":\"实例\",\"multi\":true,\"name\":\"instance\",\"options\":[],\"query\":{\"query\":\"label_values(go_info{job=~\'$appname\'},instance)\",\"refId\":\"prod.zone-one.jupiter1.0-instance-Variable-Query\"},\"refresh\":1,\"regex\":\"\",\"skipUrlSync\":false,\"sort\":0,\"tagValuesQuery\":\"\",\"tagsQuery\":\"\",\"type\":\"query\",\"useTags\":false},{\"auto\":false,\"auto_count\":30,\"auto_min\":\"10s\",\"current\":{\"selected\":false,\"text\":\"1m\",\"value\":\"1m\"},\"hide\":0,\"name\":\"summarize\",\"options\":[{\"selected\":true,\"text\":\"1m\",\"value\":\"1m\"},{\"selected\":false,\"text\":\"10m\",\"value\":\"10m\"},{\"selected\":false,\"text\":\"30m\",\"value\":\"30m\"},{\"selected\":false,\"text\":\"1h\",\"value\":\"1h\"},{\"selected\":false,\"text\":\"6h\",\"value\":\"6h\"},{\"selected\":false,\"text\":\"12h\",\"value\":\"12h\"},{\"selected\":false,\"text\":\"1d\",\"value\":\"1d\"},{\"selected\":false,\"text\":\"7d\",\"value\":\"7d\"},{\"selected\":false,\"text\":\"14d\",\"value\":\"14d\"},{\"selected\":false,\"text\":\"30d\",\"value\":\"30d\"}],\"query\":\"1m,10m,30m,1h,6h,12h,1d,7d,14d,30d\",\"refresh\":2,\"skipUrlSync\":false,\"type\":\"interval\"},{\"current\":{\"selected\":true,\"text\":[\"All\"],\"value\":[\"$__all\"]},\"datasource\":{\"uid\":\"$datasource\"},\"definition\":\"label_values(jupiter_server_handle_seconds_count{job=~\'$appname\'},method) \",\"hide\":0,\"includeAll\":true,\"label\":\"方法名\",\"multi\":true,\"name\":\"method\",\"options\":[],\"query\":{\"query\":\"label_values(jupiter_server_handle_seconds_count{job=~\'$appname\'},method) \",\"refId\":\"prod.zone-one.jupiter1.0-method-Variable-Query\"},\"refresh\":1,\"regex\":\"\",\"skipUrlSync\":false,\"sort\":0,\"tagValuesQuery\":\"\",\"tagsQuery\":\"\",\"type\":\"query\",\"useTags\":false}]},\"time\":{\"from\":\"now-30m\",\"to\":\"now\"},\"timepicker\":{\"refresh_intervals\":[\"10s\",\"30s\",\"1m\",\"5m\",\"15m\",\"30m\",\"1h\",\"2h\",\"1d\"],\"time_options\":[\"5m\",\"15m\",\"1h\",\"6h\",\"12h\",\"24h\",\"2d\",\"7d\",\"30d\"]},\"timezone\":\"\",\"title\":\"API\",\"uid\":\"api\",\"version\":2,\"weekStart\":\"\"}'),
(5,	3,	1,	0,	2,	'2023-02-16 07:55:49',	1,	'',	'{\"annotations\":{\"list\":[{\"builtIn\":1,\"datasource\":{\"type\":\"datasource\",\"uid\":\"grafana\"},\"enable\":true,\"hide\":true,\"iconColor\":\"rgba(0, 211, 255, 1)\",\"name\":\"Annotations \\u0026 Alerts\",\"target\":{\"limit\":100,\"matchAny\":false,\"tags\":[],\"type\":\"dashboard\"},\"type\":\"dashboard\"}]},\"description\":\"\",\"editable\":true,\"fiscalYearStartMonth\":0,\"gnetId\":2204,\"graphTooltip\":1,\"id\":3,\"links\":[],\"liveNow\":false,\"panels\":[{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"editable\":true,\"error\":false,\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":8,\"w\":8,\"x\":0,\"y\":0},\"height\":\"350\",\"hiddenSeries\":false,\"id\":30,\"interval\":\"$summarize\",\"legend\":{\"alignAsTable\":true,\"avg\":true,\"current\":true,\"max\":true,\"min\":true,\"rightSide\":false,\"show\":true,\"total\":false,\"values\":true},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"9.3.6\",\"pointradius\":5,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"alias\":\"$col\",\"datasource\":{\"uid\":\"$datasource\"},\"dsType\":\"influxdb\",\"expr\":\"avg(histogram_quantile(0.75,rate(jupiter_server_handle_seconds_bucket{job=\\\"$appname\\\"}[1m])\\u003e0)*1000)by(job)\",\"format\":\"time_series\",\"groupBy\":[{\"params\":[\"$interval\"],\"type\":\"time\"},{\"params\":[\"null\"],\"type\":\"fill\"}],\"interval\":\"\",\"intervalFactor\":2,\"legendFormat\":\"75th Percentile\",\"measurement\":\"application.httprequests__transactions\",\"metric\":\"\",\"policy\":\"default\",\"refId\":\"A\",\"resultFormat\":\"time_series\",\"select\":[[{\"params\":[\"p95\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"95th Percentile\"],\"type\":\"alias\"}],[{\"params\":[\"p98\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"98th Percentile\"],\"type\":\"alias\"}],[{\"params\":[\"p99\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"99th Percentile\"],\"type\":\"alias\"}]],\"step\":10,\"tags\":[{\"key\":\"env\",\"operator\":\"=~\",\"value\":\"/^$environment$/\"},{\"condition\":\"AND\",\"key\":\"app\",\"operator\":\"=~\",\"value\":\"/^$application$/\"}]},{\"datasource\":{\"uid\":\"$datasource\"},\"expr\":\"avg(histogram_quantile(0.95,rate(jupiter_server_handle_seconds_bucket{job=\\\"$appname\\\"}[1m])\\u003e0)*1000)by(job)\",\"format\":\"time_series\",\"interval\":\"\",\"intervalFactor\":2,\"legendFormat\":\"95th Percentile\",\"refId\":\"B\",\"step\":10},{\"datasource\":{\"uid\":\"$datasource\"},\"expr\":\"avg(histogram_quantile(0.99,rate(jupiter_server_handle_seconds_bucket{job=\\\"$appname\\\"}[1m])\\u003e0)*1000)by(job)\",\"format\":\"time_series\",\"interval\":\"\",\"intervalFactor\":2,\"legendFormat\":\"99th Percentile\",\"refId\":\"C\",\"step\":10}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"SOA 服务响应时间\",\"tooltip\":{\"msResolution\":false,\"shared\":true,\"sort\":2,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"format\":\"ms\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"editable\":true,\"error\":false,\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":8,\"w\":8,\"x\":8,\"y\":0},\"height\":\"350\",\"hiddenSeries\":false,\"id\":26,\"interval\":\"$summarize\",\"legend\":{\"alignAsTable\":false,\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"rightSide\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"9.3.6\",\"pointradius\":5,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"alias\":\"$col\",\"datasource\":{\"uid\":\"$datasource\"},\"dsType\":\"influxdb\",\"expr\":\"sum(irate(jupiter_server_handle_seconds_count{job=\\\"$appname\\\"}[1m]))by(job)\",\"format\":\"time_series\",\"groupBy\":[{\"params\":[\"$interval\"],\"type\":\"time\"},{\"params\":[\"null\"],\"type\":\"fill\"}],\"intervalFactor\":2,\"legendFormat\":\"1 min rate\",\"measurement\":\"application.httprequests__transactions\",\"policy\":\"default\",\"refId\":\"A\",\"resultFormat\":\"time_series\",\"select\":[[{\"params\":[\"rate1m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"1 min rate\"],\"type\":\"alias\"}],[{\"params\":[\"rate5m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"5 min rate\"],\"type\":\"alias\"}],[{\"params\":[\"rate15m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"15 min rate\"],\"type\":\"alias\"}]],\"step\":10,\"tags\":[{\"key\":\"env\",\"operator\":\"=~\",\"value\":\"/^$environment$/\"},{\"condition\":\"AND\",\"key\":\"app\",\"operator\":\"=~\",\"value\":\"/^$application$/\"}]},{\"datasource\":{\"uid\":\"$datasource\"},\"expr\":\"sum(irate(jupiter_server_handle_seconds_count{job=\\\"$appname\\\"}[5m]))by(job)\",\"format\":\"time_series\",\"hide\":false,\"intervalFactor\":2,\"legendFormat\":\"5 min rate\",\"refId\":\"B\",\"step\":10},{\"datasource\":{\"uid\":\"$datasource\"},\"expr\":\"sum(irate(jupiter_server_handle_seconds_count{job=\\\"$appname\\\"}[15m]))by(job)\",\"format\":\"time_series\",\"hide\":false,\"intervalFactor\":2,\"legendFormat\":\"15 min rate\",\"refId\":\"C\",\"step\":10}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"SOA 服务QPS\",\"tooltip\":{\"msResolution\":false,\"shared\":true,\"sort\":0,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"format\":\"short\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"editable\":true,\"error\":false,\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":8,\"w\":8,\"x\":16,\"y\":0},\"height\":\"350\",\"hiddenSeries\":false,\"id\":234,\"interval\":\"$summarize\",\"legend\":{\"alignAsTable\":true,\"avg\":true,\"current\":true,\"max\":true,\"min\":true,\"rightSide\":false,\"show\":true,\"total\":false,\"values\":true},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"9.3.6\",\"pointradius\":5,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"alias\":\"$col\",\"datasource\":{\"uid\":\"$datasource\"},\"dsType\":\"influxdb\",\"expr\":\"sum(rate(jupiter_server_handle_total{code=\\\"OK\\\",job=\\\"$appname\\\"}[1m]))by(job)/sum(rate(jupiter_server_handle_total{job=\\\"$appname\\\"}[1m]))by(job)\",\"format\":\"time_series\",\"groupBy\":[{\"params\":[\"$interval\"],\"type\":\"time\"},{\"params\":[\"null\"],\"type\":\"fill\"}],\"intervalFactor\":2,\"legendFormat\":\"{{job}}\",\"measurement\":\"application.httprequests__transactions\",\"policy\":\"default\",\"refId\":\"A\",\"resultFormat\":\"time_series\",\"select\":[[{\"params\":[\"rate1m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"1 min rate\"],\"type\":\"alias\"}],[{\"params\":[\"rate5m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"5 min rate\"],\"type\":\"alias\"}],[{\"params\":[\"rate15m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"15 min rate\"],\"type\":\"alias\"}]],\"step\":10,\"tags\":[{\"key\":\"env\",\"operator\":\"=~\",\"value\":\"/^$environment$/\"},{\"condition\":\"AND\",\"key\":\"app\",\"operator\":\"=~\",\"value\":\"/^$application$/\"}]}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"SOA 服务成功率\",\"tooltip\":{\"msResolution\":false,\"shared\":true,\"sort\":0,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"format\":\"percentunit\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"editable\":true,\"error\":false,\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":8,\"w\":8,\"x\":0,\"y\":8},\"height\":\"350\",\"hiddenSeries\":false,\"id\":235,\"interval\":\"$summarize\",\"legend\":{\"alignAsTable\":false,\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"rightSide\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"9.3.6\",\"pointradius\":5,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"alias\":\"$col\",\"datasource\":{\"uid\":\"$datasource\"},\"dsType\":\"influxdb\",\"expr\":\"sum(irate(jupiter_server_handle_total{code!=\\\"OK\\\",job=\\\"$appname\\\"}[1m]))by(job)\",\"format\":\"time_series\",\"groupBy\":[{\"params\":[\"$interval\"],\"type\":\"time\"},{\"params\":[\"null\"],\"type\":\"fill\"}],\"intervalFactor\":2,\"legendFormat\":\"1 min rate\",\"measurement\":\"application.httprequests__transactions\",\"policy\":\"default\",\"refId\":\"A\",\"resultFormat\":\"time_series\",\"select\":[[{\"params\":[\"rate1m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"1 min rate\"],\"type\":\"alias\"}],[{\"params\":[\"rate5m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"5 min rate\"],\"type\":\"alias\"}],[{\"params\":[\"rate15m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"15 min rate\"],\"type\":\"alias\"}]],\"step\":10,\"tags\":[{\"key\":\"env\",\"operator\":\"=~\",\"value\":\"/^$environment$/\"},{\"condition\":\"AND\",\"key\":\"app\",\"operator\":\"=~\",\"value\":\"/^$application$/\"}]},{\"datasource\":{\"uid\":\"$datasource\"},\"expr\":\"sum(irate(jupiter_server_handle_total{code!=\\\"OK\\\",job=\\\"$appname\\\"}[5m]))by(job)\",\"format\":\"time_series\",\"hide\":false,\"intervalFactor\":2,\"legendFormat\":\"5 min rate\",\"refId\":\"B\",\"step\":10},{\"datasource\":{\"uid\":\"$datasource\"},\"expr\":\"sum(irate(jupiter_server_handle_total{code!=\\\"OK\\\",job=\\\"$appname\\\"}[15m]))by(job)\",\"format\":\"time_series\",\"hide\":false,\"intervalFactor\":2,\"legendFormat\":\"15 min rate\",\"refId\":\"C\",\"step\":10}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"异常QPS\",\"tooltip\":{\"msResolution\":false,\"shared\":true,\"sort\":0,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"decimals\":2,\"format\":\"short\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"editable\":true,\"error\":false,\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":8,\"w\":8,\"x\":8,\"y\":8},\"height\":\"350\",\"hiddenSeries\":false,\"id\":236,\"interval\":\"$summarize\",\"legend\":{\"alignAsTable\":false,\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"rightSide\":false,\"show\":false,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"9.3.6\",\"pointradius\":5,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"alias\":\"$col\",\"datasource\":{\"uid\":\"$datasource\"},\"dsType\":\"influxdb\",\"expr\":\"sum(irate(jupiter_client_handle_seconds_count{job=\\\"$appname\\\"}[5m]))by(job)\",\"format\":\"time_series\",\"groupBy\":[{\"params\":[\"$interval\"],\"type\":\"time\"},{\"params\":[\"null\"],\"type\":\"fill\"}],\"intervalFactor\":2,\"legendFormat\":\"{{job}}\",\"measurement\":\"application.httprequests__transactions\",\"policy\":\"default\",\"refId\":\"A\",\"resultFormat\":\"time_series\",\"select\":[[{\"params\":[\"rate1m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"1 min rate\"],\"type\":\"alias\"}],[{\"params\":[\"rate5m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"5 min rate\"],\"type\":\"alias\"}],[{\"params\":[\"rate15m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"15 min rate\"],\"type\":\"alias\"}]],\"step\":10,\"tags\":[{\"key\":\"env\",\"operator\":\"=~\",\"value\":\"/^$environment$/\"},{\"condition\":\"AND\",\"key\":\"app\",\"operator\":\"=~\",\"value\":\"/^$application$/\"}]}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"依赖服务QPS\",\"tooltip\":{\"msResolution\":false,\"shared\":true,\"sort\":0,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"decimals\":2,\"format\":\"short\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"editable\":true,\"error\":false,\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":8,\"w\":8,\"x\":16,\"y\":8},\"height\":\"350\",\"hiddenSeries\":false,\"id\":237,\"interval\":\"$summarize\",\"legend\":{\"alignAsTable\":false,\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"rightSide\":false,\"show\":false,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"9.3.6\",\"pointradius\":5,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"alias\":\"$col\",\"datasource\":{\"uid\":\"$datasource\"},\"dsType\":\"influxdb\",\"expr\":\"avg(histogram_quantile(0.99, irate(jupiter_client_handle_seconds_bucket{job=\\\"$appname\\\"}[1m])\\u003e0)*1000)by(job)\",\"format\":\"time_series\",\"groupBy\":[{\"params\":[\"$interval\"],\"type\":\"time\"},{\"params\":[\"null\"],\"type\":\"fill\"}],\"intervalFactor\":2,\"legendFormat\":\"{{job}}\",\"measurement\":\"application.httprequests__transactions\",\"policy\":\"default\",\"refId\":\"A\",\"resultFormat\":\"time_series\",\"select\":[[{\"params\":[\"rate1m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"1 min rate\"],\"type\":\"alias\"}],[{\"params\":[\"rate5m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"5 min rate\"],\"type\":\"alias\"}],[{\"params\":[\"rate15m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"15 min rate\"],\"type\":\"alias\"}]],\"step\":10,\"tags\":[{\"key\":\"env\",\"operator\":\"=~\",\"value\":\"/^$environment$/\"},{\"condition\":\"AND\",\"key\":\"app\",\"operator\":\"=~\",\"value\":\"/^$application$/\"}]}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"依赖服务响应时间\",\"tooltip\":{\"msResolution\":false,\"shared\":true,\"sort\":0,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"decimals\":2,\"format\":\"short\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}}],\"refresh\":false,\"schemaVersion\":37,\"style\":\"dark\",\"tags\":[\"prometheus\"],\"templating\":{\"list\":[{\"current\":{\"selected\":false,\"text\":\"prod.zone-one.jupiter1.0\",\"value\":\"prod.zone-one.jupiter1.0\"},\"hide\":0,\"includeAll\":false,\"label\":\"机房\",\"multi\":false,\"name\":\"datasource\",\"options\":[],\"query\":\"prometheus\",\"refresh\":1,\"regex\":\"\",\"skipUrlSync\":false,\"type\":\"datasource\"},{\"current\":{\"selected\":false,\"text\":\"juno-admin\",\"value\":\"juno-admin\"},\"datasource\":{\"uid\":\"$datasource\"},\"definition\":\"label_values(go_info{},job)\",\"hide\":2,\"includeAll\":false,\"label\":\"应用名\",\"multi\":false,\"name\":\"appname\",\"options\":[],\"query\":{\"query\":\"label_values(go_info{},job)\",\"refId\":\"prod.zone-one.jupiter1.0-appname-Variable-Query\"},\"refresh\":1,\"regex\":\"\",\"skipUrlSync\":false,\"sort\":1,\"type\":\"query\",\"useTags\":false},{\"current\":{\"selected\":false,\"text\":\"All\",\"value\":\"$__all\"},\"datasource\":{\"uid\":\"$datasource\"},\"definition\":\"label_values(go_info{job=~\'$appname\'},instance)\",\"hide\":0,\"includeAll\":true,\"label\":\"实例\",\"multi\":true,\"name\":\"instance\",\"options\":[],\"query\":{\"query\":\"label_values(go_info{job=~\'$appname\'},instance)\",\"refId\":\"prod.zone-one.jupiter1.0-instance-Variable-Query\"},\"refresh\":1,\"regex\":\"\",\"skipUrlSync\":false,\"sort\":0,\"tagValuesQuery\":\"\",\"tagsQuery\":\"\",\"type\":\"query\",\"useTags\":false},{\"auto\":false,\"auto_count\":30,\"auto_min\":\"10s\",\"current\":{\"selected\":false,\"text\":\"5s\",\"value\":\"5s\"},\"hide\":0,\"name\":\"summarize\",\"options\":[{\"selected\":true,\"text\":\"5s\",\"value\":\"5s\"},{\"selected\":false,\"text\":\"10s\",\"value\":\"10s\"},{\"selected\":false,\"text\":\"30s\",\"value\":\"30s\"},{\"selected\":false,\"text\":\"1m\",\"value\":\"1m\"},{\"selected\":false,\"text\":\"10m\",\"value\":\"10m\"},{\"selected\":false,\"text\":\"30m\",\"value\":\"30m\"},{\"selected\":false,\"text\":\"1h\",\"value\":\"1h\"},{\"selected\":false,\"text\":\"6h\",\"value\":\"6h\"},{\"selected\":false,\"text\":\"12h\",\"value\":\"12h\"},{\"selected\":false,\"text\":\"1d\",\"value\":\"1d\"},{\"selected\":false,\"text\":\"7d\",\"value\":\"7d\"},{\"selected\":false,\"text\":\"14d\",\"value\":\"14d\"},{\"selected\":false,\"text\":\"30d\",\"value\":\"30d\"}],\"query\":\"5s,10s,30s,1m,10m,30m,1h,6h,12h,1d,7d,14d,30d\",\"refresh\":2,\"skipUrlSync\":false,\"type\":\"interval\"}]},\"time\":{\"from\":\"now-15m\",\"to\":\"now\"},\"timepicker\":{\"refresh_intervals\":[\"10s\",\"30s\",\"1m\",\"5m\",\"15m\",\"30m\",\"1h\",\"2h\",\"1d\"],\"time_options\":[\"5m\",\"15m\",\"1h\",\"6h\",\"12h\",\"24h\",\"2d\",\"7d\",\"30d\"]},\"timezone\":\"browser\",\"title\":\"Overview\",\"uid\":\"overview\",\"version\":2,\"weekStart\":\"\"}'),
(6,	1,	2,	0,	3,	'2023-02-16 08:00:39',	1,	'',	'{\"annotations\":{\"list\":[{\"builtIn\":1,\"datasource\":{\"type\":\"datasource\",\"uid\":\"grafana\"},\"enable\":true,\"hide\":true,\"iconColor\":\"rgba(0, 211, 255, 1)\",\"name\":\"Annotations \\u0026 Alerts\",\"target\":{\"limit\":100,\"matchAny\":false,\"tags\":[],\"type\":\"dashboard\"},\"type\":\"dashboard\"}]},\"editable\":true,\"fiscalYearStartMonth\":0,\"graphTooltip\":1,\"id\":1,\"links\":[],\"liveNow\":false,\"panels\":[{\"collapsed\":false,\"datasource\":{\"type\":\"prometheus\",\"uid\":\"xbIDKTJVk\"},\"gridPos\":{\"h\":1,\"w\":24,\"x\":0,\"y\":0},\"id\":1112,\"panels\":[],\"targets\":[{\"datasource\":{\"type\":\"prometheus\",\"uid\":\"xbIDKTJVk\"},\"refId\":\"A\"}],\"title\":\"服务端\",\"type\":\"row\"},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":7,\"w\":6,\"x\":0,\"y\":1},\"hiddenSeries\":false,\"id\":1123,\"legend\":{\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"9.3.6\",\"pointradius\":2,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"datasource\":{\"uid\":\"$datasource\"},\"expr\":\"sum(rate(jupiter_server_handle_total{type=\\\"http\\\",method=~\\\"$method\\\",job=\\\"$appname\\\",code!=\\\"OK\\\"}[1m]))by(code,method,instance)\",\"format\":\"time_series\",\"interval\":\"\",\"intervalFactor\":1,\"legendFormat\":\"{{code}} | {{method}} | {{server}}\",\"refId\":\"A\"}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"HTTP Server错误码分布\",\"tooltip\":{\"shared\":true,\"sort\":2,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"decimals\":0,\"format\":\"short\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":7,\"w\":9,\"x\":6,\"y\":1},\"hiddenSeries\":false,\"id\":1115,\"legend\":{\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[{\"targetBlank\":true,\"title\":\"哈哈\",\"url\":\"http://www.baidu.com\"}],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"9.3.6\",\"pointradius\":2,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"datasource\":{\"uid\":\"$datasource\"},\"expr\":\"sum(irate(jupiter_server_handle_seconds_count{type=\\\"http\\\",job=\\\"$appname\\\", method=~\\\"$method\\\"}[1m]))by(method, instance)\",\"format\":\"time_series\",\"intervalFactor\":1,\"legendFormat\":\"{{method}} | {{instance}}\",\"refId\":\"A\"}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"HTTP Server QPS\",\"tooltip\":{\"shared\":true,\"sort\":2,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"decimals\":0,\"format\":\"short\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":7,\"w\":9,\"x\":15,\"y\":1},\"hiddenSeries\":false,\"id\":1122,\"legend\":{\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null as zero\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"9.3.6\",\"pointradius\":2,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"datasource\":{\"uid\":\"$datasource\"},\"expr\":\"avg(histogram_quantile(0.99,irate(jupiter_server_handle_seconds_bucket{type=\\\"http\\\", job=\\\"$appname\\\", method=~\\\"$method\\\"}[1m])\\u003e0)*1000)by(method,instance)\",\"format\":\"time_series\",\"hide\":false,\"intervalFactor\":1,\"legendFormat\":\"{{method}} | {{instance}}\",\"refId\":\"A\"}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"HTTP Server P99\",\"tooltip\":{\"shared\":true,\"sort\":2,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"decimals\":2,\"format\":\"ms\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":7,\"w\":6,\"x\":0,\"y\":8},\"hiddenSeries\":false,\"id\":1117,\"legend\":{\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"9.3.6\",\"pointradius\":2,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"datasource\":{\"uid\":\"$datasource\"},\"expr\":\"sum(rate(jupiter_server_handle_total{type=\\\"unary\\\",method=~\\\"$method\\\",job=\\\"$appname\\\",code!=\\\"OK\\\"}[1m]))by(code,method,instance)\",\"format\":\"time_series\",\"intervalFactor\":1,\"legendFormat\":\"{{code}} | {{method}} | {{instance}}\",\"refId\":\"A\"}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"GRPC Server状态码分布\",\"tooltip\":{\"shared\":true,\"sort\":2,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"decimals\":0,\"format\":\"short\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":7,\"w\":9,\"x\":6,\"y\":8},\"hiddenSeries\":false,\"id\":1127,\"legend\":{\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"9.3.6\",\"pointradius\":2,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"datasource\":{\"uid\":\"$datasource\"},\"expr\":\"sum(irate(jupiter_server_handle_seconds_count{type=\\\"unary\\\",job=\\\"$appname\\\",method=~\\\"$method\\\"}[1m]))by(method,instance)\",\"format\":\"time_series\",\"intervalFactor\":1,\"legendFormat\":\"{{method}} | {{instance}}\",\"refId\":\"A\"}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"GRPC Server QPS\",\"tooltip\":{\"shared\":true,\"sort\":2,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"decimals\":0,\"format\":\"short\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":7,\"w\":9,\"x\":15,\"y\":8},\"hiddenSeries\":false,\"id\":1116,\"legend\":{\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null as zero\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"9.3.6\",\"pointradius\":2,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"datasource\":{\"uid\":\"$datasource\"},\"expr\":\"avg(histogram_quantile(0.99,irate(jupiter_server_handle_seconds_bucket{type=\\\"unary\\\", job=\\\"$appname\\\",method=~\\\"$method\\\"}[1m])\\u003e0)*1000)by(method,instance)\",\"format\":\"time_series\",\"hide\":false,\"intervalFactor\":1,\"legendFormat\":\"{{method}} | {{instance}}\",\"refId\":\"A\"}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"GRPC Server P99\",\"tooltip\":{\"shared\":true,\"sort\":2,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"decimals\":2,\"format\":\"ms\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}}],\"refresh\":false,\"schemaVersion\":37,\"style\":\"dark\",\"tags\":[],\"templating\":{\"list\":[{\"current\":{\"selected\":false,\"text\":\"dev.cn-wuhan-guanggu-f1.jupiter1.0\",\"value\":\"dev.cn-wuhan-guanggu-f1.jupiter1.0\"},\"hide\":0,\"includeAll\":false,\"label\":\"机房\",\"multi\":false,\"name\":\"datasource\",\"options\":[],\"query\":\"prometheus\",\"queryValue\":\"\",\"refresh\":1,\"regex\":\"\",\"skipUrlSync\":false,\"type\":\"datasource\"},{\"current\":{\"selected\":false,\"text\":\"main\",\"value\":\"main\"},\"datasource\":{\"uid\":\"$datasource\"},\"definition\":\"label_values(go_info{},job)\",\"hide\":0,\"includeAll\":false,\"label\":\"应用名\",\"multi\":false,\"name\":\"appname\",\"options\":[],\"query\":{\"query\":\"label_values(go_info{},job)\",\"refId\":\"prod.zone-one.jupiter1.0-appname-Variable-Query\"},\"refresh\":1,\"regex\":\"\",\"skipUrlSync\":false,\"sort\":0,\"tagValuesQuery\":\"\",\"tagsQuery\":\"\",\"type\":\"query\",\"useTags\":false},{\"current\":{\"selected\":false,\"text\":\"All\",\"value\":\"$__all\"},\"datasource\":{\"uid\":\"$datasource\"},\"definition\":\"label_values(go_info{job=~\'$appname\'},instance)\",\"hide\":0,\"includeAll\":true,\"label\":\"实例\",\"multi\":true,\"name\":\"instance\",\"options\":[],\"query\":{\"query\":\"label_values(go_info{job=~\'$appname\'},instance)\",\"refId\":\"prod.zone-one.jupiter1.0-instance-Variable-Query\"},\"refresh\":1,\"regex\":\"\",\"skipUrlSync\":false,\"sort\":0,\"tagValuesQuery\":\"\",\"tagsQuery\":\"\",\"type\":\"query\",\"useTags\":false},{\"auto\":false,\"auto_count\":30,\"auto_min\":\"10s\",\"current\":{\"selected\":false,\"text\":\"1m\",\"value\":\"1m\"},\"hide\":0,\"name\":\"summarize\",\"options\":[{\"selected\":true,\"text\":\"1m\",\"value\":\"1m\"},{\"selected\":false,\"text\":\"10m\",\"value\":\"10m\"},{\"selected\":false,\"text\":\"30m\",\"value\":\"30m\"},{\"selected\":false,\"text\":\"1h\",\"value\":\"1h\"},{\"selected\":false,\"text\":\"6h\",\"value\":\"6h\"},{\"selected\":false,\"text\":\"12h\",\"value\":\"12h\"},{\"selected\":false,\"text\":\"1d\",\"value\":\"1d\"},{\"selected\":false,\"text\":\"7d\",\"value\":\"7d\"},{\"selected\":false,\"text\":\"14d\",\"value\":\"14d\"},{\"selected\":false,\"text\":\"30d\",\"value\":\"30d\"}],\"query\":\"1m,10m,30m,1h,6h,12h,1d,7d,14d,30d\",\"refresh\":2,\"skipUrlSync\":false,\"type\":\"interval\"},{\"current\":{\"selected\":true,\"text\":[\"All\"],\"value\":[\"$__all\"]},\"datasource\":{\"uid\":\"$datasource\"},\"definition\":\"label_values(jupiter_server_handle_seconds_count{job=~\'$appname\'},method) \",\"hide\":0,\"includeAll\":true,\"label\":\"方法名\",\"multi\":true,\"name\":\"method\",\"options\":[],\"query\":{\"query\":\"label_values(jupiter_server_handle_seconds_count{job=~\'$appname\'},method) \",\"refId\":\"prod.zone-one.jupiter1.0-method-Variable-Query\"},\"refresh\":1,\"regex\":\"\",\"skipUrlSync\":false,\"sort\":0,\"tagValuesQuery\":\"\",\"tagsQuery\":\"\",\"type\":\"query\",\"useTags\":false}]},\"time\":{\"from\":\"now-30m\",\"to\":\"now\"},\"timepicker\":{\"refresh_intervals\":[\"10s\",\"30s\",\"1m\",\"5m\",\"15m\",\"30m\",\"1h\",\"2h\",\"1d\"],\"time_options\":[\"5m\",\"15m\",\"1h\",\"6h\",\"12h\",\"24h\",\"2d\",\"7d\",\"30d\"]},\"timezone\":\"\",\"title\":\"API\",\"uid\":\"api\",\"version\":3,\"weekStart\":\"\"}'),
(7,	3,	2,	0,	3,	'2023-02-16 08:00:58',	1,	'',	'{\"annotations\":{\"list\":[{\"builtIn\":1,\"datasource\":{\"type\":\"datasource\",\"uid\":\"grafana\"},\"enable\":true,\"hide\":true,\"iconColor\":\"rgba(0, 211, 255, 1)\",\"name\":\"Annotations \\u0026 Alerts\",\"target\":{\"limit\":100,\"matchAny\":false,\"tags\":[],\"type\":\"dashboard\"},\"type\":\"dashboard\"}]},\"description\":\"\",\"editable\":true,\"fiscalYearStartMonth\":0,\"gnetId\":2204,\"graphTooltip\":1,\"id\":3,\"links\":[],\"liveNow\":false,\"panels\":[{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"editable\":true,\"error\":false,\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":8,\"w\":8,\"x\":0,\"y\":0},\"height\":\"350\",\"hiddenSeries\":false,\"id\":30,\"interval\":\"$summarize\",\"legend\":{\"alignAsTable\":true,\"avg\":true,\"current\":true,\"max\":true,\"min\":true,\"rightSide\":false,\"show\":true,\"total\":false,\"values\":true},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"9.3.6\",\"pointradius\":5,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"alias\":\"$col\",\"datasource\":{\"uid\":\"$datasource\"},\"dsType\":\"influxdb\",\"expr\":\"avg(histogram_quantile(0.75,rate(jupiter_server_handle_seconds_bucket{job=\\\"$appname\\\"}[1m])\\u003e0)*1000)by(job)\",\"format\":\"time_series\",\"groupBy\":[{\"params\":[\"$interval\"],\"type\":\"time\"},{\"params\":[\"null\"],\"type\":\"fill\"}],\"interval\":\"\",\"intervalFactor\":2,\"legendFormat\":\"75th Percentile\",\"measurement\":\"application.httprequests__transactions\",\"metric\":\"\",\"policy\":\"default\",\"refId\":\"A\",\"resultFormat\":\"time_series\",\"select\":[[{\"params\":[\"p95\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"95th Percentile\"],\"type\":\"alias\"}],[{\"params\":[\"p98\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"98th Percentile\"],\"type\":\"alias\"}],[{\"params\":[\"p99\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"99th Percentile\"],\"type\":\"alias\"}]],\"step\":10,\"tags\":[{\"key\":\"env\",\"operator\":\"=~\",\"value\":\"/^$environment$/\"},{\"condition\":\"AND\",\"key\":\"app\",\"operator\":\"=~\",\"value\":\"/^$application$/\"}]},{\"datasource\":{\"uid\":\"$datasource\"},\"expr\":\"avg(histogram_quantile(0.95,rate(jupiter_server_handle_seconds_bucket{job=\\\"$appname\\\"}[1m])\\u003e0)*1000)by(job)\",\"format\":\"time_series\",\"interval\":\"\",\"intervalFactor\":2,\"legendFormat\":\"95th Percentile\",\"refId\":\"B\",\"step\":10},{\"datasource\":{\"uid\":\"$datasource\"},\"expr\":\"avg(histogram_quantile(0.99,rate(jupiter_server_handle_seconds_bucket{job=\\\"$appname\\\"}[1m])\\u003e0)*1000)by(job)\",\"format\":\"time_series\",\"interval\":\"\",\"intervalFactor\":2,\"legendFormat\":\"99th Percentile\",\"refId\":\"C\",\"step\":10}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"SOA 服务响应时间\",\"tooltip\":{\"msResolution\":false,\"shared\":true,\"sort\":2,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"format\":\"ms\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"editable\":true,\"error\":false,\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":8,\"w\":8,\"x\":8,\"y\":0},\"height\":\"350\",\"hiddenSeries\":false,\"id\":26,\"interval\":\"$summarize\",\"legend\":{\"alignAsTable\":false,\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"rightSide\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"9.3.6\",\"pointradius\":5,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"alias\":\"$col\",\"datasource\":{\"uid\":\"$datasource\"},\"dsType\":\"influxdb\",\"expr\":\"sum(irate(jupiter_server_handle_seconds_count{job=\\\"$appname\\\"}[1m]))by(job)\",\"format\":\"time_series\",\"groupBy\":[{\"params\":[\"$interval\"],\"type\":\"time\"},{\"params\":[\"null\"],\"type\":\"fill\"}],\"intervalFactor\":2,\"legendFormat\":\"1 min rate\",\"measurement\":\"application.httprequests__transactions\",\"policy\":\"default\",\"refId\":\"A\",\"resultFormat\":\"time_series\",\"select\":[[{\"params\":[\"rate1m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"1 min rate\"],\"type\":\"alias\"}],[{\"params\":[\"rate5m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"5 min rate\"],\"type\":\"alias\"}],[{\"params\":[\"rate15m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"15 min rate\"],\"type\":\"alias\"}]],\"step\":10,\"tags\":[{\"key\":\"env\",\"operator\":\"=~\",\"value\":\"/^$environment$/\"},{\"condition\":\"AND\",\"key\":\"app\",\"operator\":\"=~\",\"value\":\"/^$application$/\"}]},{\"datasource\":{\"uid\":\"$datasource\"},\"expr\":\"sum(irate(jupiter_server_handle_seconds_count{job=\\\"$appname\\\"}[5m]))by(job)\",\"format\":\"time_series\",\"hide\":false,\"intervalFactor\":2,\"legendFormat\":\"5 min rate\",\"refId\":\"B\",\"step\":10},{\"datasource\":{\"uid\":\"$datasource\"},\"expr\":\"sum(irate(jupiter_server_handle_seconds_count{job=\\\"$appname\\\"}[15m]))by(job)\",\"format\":\"time_series\",\"hide\":false,\"intervalFactor\":2,\"legendFormat\":\"15 min rate\",\"refId\":\"C\",\"step\":10}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"SOA 服务QPS\",\"tooltip\":{\"msResolution\":false,\"shared\":true,\"sort\":0,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"format\":\"short\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"editable\":true,\"error\":false,\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":8,\"w\":8,\"x\":16,\"y\":0},\"height\":\"350\",\"hiddenSeries\":false,\"id\":234,\"interval\":\"$summarize\",\"legend\":{\"alignAsTable\":true,\"avg\":true,\"current\":true,\"max\":true,\"min\":true,\"rightSide\":false,\"show\":true,\"total\":false,\"values\":true},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"9.3.6\",\"pointradius\":5,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"alias\":\"$col\",\"datasource\":{\"uid\":\"$datasource\"},\"dsType\":\"influxdb\",\"expr\":\"sum(rate(jupiter_server_handle_total{code=\\\"OK\\\",job=\\\"$appname\\\"}[1m]))by(job)/sum(rate(jupiter_server_handle_total{job=\\\"$appname\\\"}[1m]))by(job)\",\"format\":\"time_series\",\"groupBy\":[{\"params\":[\"$interval\"],\"type\":\"time\"},{\"params\":[\"null\"],\"type\":\"fill\"}],\"intervalFactor\":2,\"legendFormat\":\"{{job}}\",\"measurement\":\"application.httprequests__transactions\",\"policy\":\"default\",\"refId\":\"A\",\"resultFormat\":\"time_series\",\"select\":[[{\"params\":[\"rate1m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"1 min rate\"],\"type\":\"alias\"}],[{\"params\":[\"rate5m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"5 min rate\"],\"type\":\"alias\"}],[{\"params\":[\"rate15m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"15 min rate\"],\"type\":\"alias\"}]],\"step\":10,\"tags\":[{\"key\":\"env\",\"operator\":\"=~\",\"value\":\"/^$environment$/\"},{\"condition\":\"AND\",\"key\":\"app\",\"operator\":\"=~\",\"value\":\"/^$application$/\"}]}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"SOA 服务成功率\",\"tooltip\":{\"msResolution\":false,\"shared\":true,\"sort\":0,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"format\":\"percentunit\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"editable\":true,\"error\":false,\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":8,\"w\":8,\"x\":0,\"y\":8},\"height\":\"350\",\"hiddenSeries\":false,\"id\":235,\"interval\":\"$summarize\",\"legend\":{\"alignAsTable\":false,\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"rightSide\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"9.3.6\",\"pointradius\":5,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"alias\":\"$col\",\"datasource\":{\"uid\":\"$datasource\"},\"dsType\":\"influxdb\",\"expr\":\"sum(irate(jupiter_server_handle_total{code!=\\\"OK\\\",job=\\\"$appname\\\"}[1m]))by(job)\",\"format\":\"time_series\",\"groupBy\":[{\"params\":[\"$interval\"],\"type\":\"time\"},{\"params\":[\"null\"],\"type\":\"fill\"}],\"intervalFactor\":2,\"legendFormat\":\"1 min rate\",\"measurement\":\"application.httprequests__transactions\",\"policy\":\"default\",\"refId\":\"A\",\"resultFormat\":\"time_series\",\"select\":[[{\"params\":[\"rate1m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"1 min rate\"],\"type\":\"alias\"}],[{\"params\":[\"rate5m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"5 min rate\"],\"type\":\"alias\"}],[{\"params\":[\"rate15m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"15 min rate\"],\"type\":\"alias\"}]],\"step\":10,\"tags\":[{\"key\":\"env\",\"operator\":\"=~\",\"value\":\"/^$environment$/\"},{\"condition\":\"AND\",\"key\":\"app\",\"operator\":\"=~\",\"value\":\"/^$application$/\"}]},{\"datasource\":{\"uid\":\"$datasource\"},\"expr\":\"sum(irate(jupiter_server_handle_total{code!=\\\"OK\\\",job=\\\"$appname\\\"}[5m]))by(job)\",\"format\":\"time_series\",\"hide\":false,\"intervalFactor\":2,\"legendFormat\":\"5 min rate\",\"refId\":\"B\",\"step\":10},{\"datasource\":{\"uid\":\"$datasource\"},\"expr\":\"sum(irate(jupiter_server_handle_total{code!=\\\"OK\\\",job=\\\"$appname\\\"}[15m]))by(job)\",\"format\":\"time_series\",\"hide\":false,\"intervalFactor\":2,\"legendFormat\":\"15 min rate\",\"refId\":\"C\",\"step\":10}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"异常QPS\",\"tooltip\":{\"msResolution\":false,\"shared\":true,\"sort\":0,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"decimals\":2,\"format\":\"short\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"editable\":true,\"error\":false,\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":8,\"w\":8,\"x\":8,\"y\":8},\"height\":\"350\",\"hiddenSeries\":false,\"id\":236,\"interval\":\"$summarize\",\"legend\":{\"alignAsTable\":false,\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"rightSide\":false,\"show\":false,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"9.3.6\",\"pointradius\":5,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"alias\":\"$col\",\"datasource\":{\"uid\":\"$datasource\"},\"dsType\":\"influxdb\",\"expr\":\"sum(irate(jupiter_client_handle_seconds_count{job=\\\"$appname\\\"}[5m]))by(job)\",\"format\":\"time_series\",\"groupBy\":[{\"params\":[\"$interval\"],\"type\":\"time\"},{\"params\":[\"null\"],\"type\":\"fill\"}],\"intervalFactor\":2,\"legendFormat\":\"{{job}}\",\"measurement\":\"application.httprequests__transactions\",\"policy\":\"default\",\"refId\":\"A\",\"resultFormat\":\"time_series\",\"select\":[[{\"params\":[\"rate1m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"1 min rate\"],\"type\":\"alias\"}],[{\"params\":[\"rate5m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"5 min rate\"],\"type\":\"alias\"}],[{\"params\":[\"rate15m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"15 min rate\"],\"type\":\"alias\"}]],\"step\":10,\"tags\":[{\"key\":\"env\",\"operator\":\"=~\",\"value\":\"/^$environment$/\"},{\"condition\":\"AND\",\"key\":\"app\",\"operator\":\"=~\",\"value\":\"/^$application$/\"}]}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"依赖服务QPS\",\"tooltip\":{\"msResolution\":false,\"shared\":true,\"sort\":0,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"decimals\":2,\"format\":\"short\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":{\"uid\":\"$datasource\"},\"editable\":true,\"error\":false,\"fieldConfig\":{\"defaults\":{\"links\":[]},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":8,\"w\":8,\"x\":16,\"y\":8},\"height\":\"350\",\"hiddenSeries\":false,\"id\":237,\"interval\":\"$summarize\",\"legend\":{\"alignAsTable\":false,\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"rightSide\":false,\"show\":false,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"links\":[],\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"9.3.6\",\"pointradius\":5,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"alias\":\"$col\",\"datasource\":{\"uid\":\"$datasource\"},\"dsType\":\"influxdb\",\"expr\":\"avg(histogram_quantile(0.99, irate(jupiter_client_handle_seconds_bucket{job=\\\"$appname\\\"}[1m])\\u003e0)*1000)by(job)\",\"format\":\"time_series\",\"groupBy\":[{\"params\":[\"$interval\"],\"type\":\"time\"},{\"params\":[\"null\"],\"type\":\"fill\"}],\"intervalFactor\":2,\"legendFormat\":\"{{job}}\",\"measurement\":\"application.httprequests__transactions\",\"policy\":\"default\",\"refId\":\"A\",\"resultFormat\":\"time_series\",\"select\":[[{\"params\":[\"rate1m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"1 min rate\"],\"type\":\"alias\"}],[{\"params\":[\"rate5m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"5 min rate\"],\"type\":\"alias\"}],[{\"params\":[\"rate15m\"],\"type\":\"field\"},{\"params\":[],\"type\":\"last\"},{\"params\":[\"15 min rate\"],\"type\":\"alias\"}]],\"step\":10,\"tags\":[{\"key\":\"env\",\"operator\":\"=~\",\"value\":\"/^$environment$/\"},{\"condition\":\"AND\",\"key\":\"app\",\"operator\":\"=~\",\"value\":\"/^$application$/\"}]}],\"thresholds\":[],\"timeRegions\":[],\"title\":\"依赖服务响应时间\",\"tooltip\":{\"msResolution\":false,\"shared\":true,\"sort\":0,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"mode\":\"time\",\"show\":true,\"values\":[]},\"yaxes\":[{\"decimals\":2,\"format\":\"short\",\"logBase\":1,\"show\":true},{\"format\":\"short\",\"logBase\":1,\"show\":true}],\"yaxis\":{\"align\":false}}],\"refresh\":false,\"schemaVersion\":37,\"style\":\"dark\",\"tags\":[\"prometheus\"],\"templating\":{\"list\":[{\"current\":{\"selected\":false,\"text\":\"prod.zone-one.jupiter1.0\",\"value\":\"prod.zone-one.jupiter1.0\"},\"hide\":0,\"includeAll\":false,\"label\":\"机房\",\"multi\":false,\"name\":\"datasource\",\"options\":[],\"query\":\"prometheus\",\"refresh\":1,\"regex\":\"\",\"skipUrlSync\":false,\"type\":\"datasource\"},{\"current\":{\"selected\":false,\"text\":\"juno-admin\",\"value\":\"juno-admin\"},\"datasource\":{\"uid\":\"$datasource\"},\"definition\":\"label_values(go_info{},job)\",\"hide\":0,\"includeAll\":false,\"label\":\"应用名\",\"multi\":false,\"name\":\"appname\",\"options\":[],\"query\":{\"query\":\"label_values(go_info{},job)\",\"refId\":\"prod.zone-one.jupiter1.0-appname-Variable-Query\"},\"refresh\":1,\"regex\":\"\",\"skipUrlSync\":false,\"sort\":1,\"type\":\"query\",\"useTags\":false},{\"current\":{\"selected\":false,\"text\":\"All\",\"value\":\"$__all\"},\"datasource\":{\"uid\":\"$datasource\"},\"definition\":\"label_values(go_info{job=~\'$appname\'},instance)\",\"hide\":0,\"includeAll\":true,\"label\":\"实例\",\"multi\":true,\"name\":\"instance\",\"options\":[],\"query\":{\"query\":\"label_values(go_info{job=~\'$appname\'},instance)\",\"refId\":\"prod.zone-one.jupiter1.0-instance-Variable-Query\"},\"refresh\":1,\"regex\":\"\",\"skipUrlSync\":false,\"sort\":0,\"tagValuesQuery\":\"\",\"tagsQuery\":\"\",\"type\":\"query\",\"useTags\":false},{\"auto\":false,\"auto_count\":30,\"auto_min\":\"10s\",\"current\":{\"selected\":false,\"text\":\"5s\",\"value\":\"5s\"},\"hide\":0,\"name\":\"summarize\",\"options\":[{\"selected\":true,\"text\":\"5s\",\"value\":\"5s\"},{\"selected\":false,\"text\":\"10s\",\"value\":\"10s\"},{\"selected\":false,\"text\":\"30s\",\"value\":\"30s\"},{\"selected\":false,\"text\":\"1m\",\"value\":\"1m\"},{\"selected\":false,\"text\":\"10m\",\"value\":\"10m\"},{\"selected\":false,\"text\":\"30m\",\"value\":\"30m\"},{\"selected\":false,\"text\":\"1h\",\"value\":\"1h\"},{\"selected\":false,\"text\":\"6h\",\"value\":\"6h\"},{\"selected\":false,\"text\":\"12h\",\"value\":\"12h\"},{\"selected\":false,\"text\":\"1d\",\"value\":\"1d\"},{\"selected\":false,\"text\":\"7d\",\"value\":\"7d\"},{\"selected\":false,\"text\":\"14d\",\"value\":\"14d\"},{\"selected\":false,\"text\":\"30d\",\"value\":\"30d\"}],\"query\":\"5s,10s,30s,1m,10m,30m,1h,6h,12h,1d,7d,14d,30d\",\"refresh\":2,\"skipUrlSync\":false,\"type\":\"interval\"}]},\"time\":{\"from\":\"now-15m\",\"to\":\"now\"},\"timepicker\":{\"refresh_intervals\":[\"10s\",\"30s\",\"1m\",\"5m\",\"15m\",\"30m\",\"1h\",\"2h\",\"1d\"],\"time_options\":[\"5m\",\"15m\",\"1h\",\"6h\",\"12h\",\"24h\",\"2d\",\"7d\",\"30d\"]},\"timezone\":\"browser\",\"title\":\"Overview\",\"uid\":\"overview\",\"version\":3,\"weekStart\":\"\"}');

DROP TABLE IF EXISTS `data_keys`;
CREATE TABLE `data_keys` (
  `name` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL,
  `active` tinyint(1) NOT NULL,
  `scope` varchar(30) COLLATE utf8mb4_unicode_ci NOT NULL,
  `provider` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL,
  `encrypted_data` blob NOT NULL,
  `created` datetime NOT NULL,
  `updated` datetime NOT NULL,
  `label` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  PRIMARY KEY (`name`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

INSERT INTO `data_keys` (`name`, `active`, `scope`, `provider`, `encrypted_data`, `created`, `updated`, `label`) VALUES
('yxSDKTJVz',	1,	'root',	'secretKey.v1',	'*YWVzLWNmYg*yzOfhYhY���KOC~�����	q�6��d\Z\'d����',	'2023-02-16 07:46:34',	'2023-02-16 07:46:34',	'2023-02-16/root@secretKey.v1');

DROP TABLE IF EXISTS `data_source`;
CREATE TABLE `data_source` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `org_id` bigint(20) NOT NULL,
  `version` int(11) NOT NULL,
  `type` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `name` varchar(190) COLLATE utf8mb4_unicode_ci NOT NULL,
  `access` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `url` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `password` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `user` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `database` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `basic_auth` tinyint(1) NOT NULL,
  `basic_auth_user` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `basic_auth_password` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `is_default` tinyint(1) NOT NULL,
  `json_data` text COLLATE utf8mb4_unicode_ci,
  `created` datetime NOT NULL,
  `updated` datetime NOT NULL,
  `with_credentials` tinyint(1) NOT NULL DEFAULT '0',
  `secure_json_data` text COLLATE utf8mb4_unicode_ci,
  `read_only` tinyint(1) DEFAULT NULL,
  `uid` varchar(40) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  UNIQUE KEY `UQE_data_source_org_id_name` (`org_id`,`name`),
  UNIQUE KEY `UQE_data_source_org_id_uid` (`org_id`,`uid`),
  KEY `IDX_data_source_org_id` (`org_id`),
  KEY `IDX_data_source_org_id_is_default` (`org_id`,`is_default`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

INSERT INTO `data_source` (`id`, `org_id`, `version`, `type`, `name`, `access`, `url`, `password`, `user`, `database`, `basic_auth`, `basic_auth_user`, `basic_auth_password`, `is_default`, `json_data`, `created`, `updated`, `with_credentials`, `secure_json_data`, `read_only`, `uid`) VALUES
(1,	1,	1,	'prometheus',	'Prometheus',	'proxy',	'',	'',	'',	'',	0,	'',	'',	1,	'{}',	'2023-02-16 07:46:34',	'2023-02-16 07:46:34',	0,	'{}',	0,	'xbIDKTJVk'),
(2,	1,	3,	'prometheus',	'dev.cn-wuhan-guanggu-f1.jupiter1.0',	'proxy',	'http://prometheus:9090',	'',	'',	'',	0,	'',	'',	0,	'{\"httpMethod\":\"POST\"}',	'2023-02-16 07:46:38',	'2023-02-16 07:47:55',	0,	'{}',	0,	'S7FvKoJVz');

DROP TABLE IF EXISTS `entity_event`;
CREATE TABLE `entity_event` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `entity_id` varchar(1024) COLLATE utf8mb4_unicode_ci NOT NULL,
  `event_type` varchar(8) COLLATE utf8mb4_unicode_ci NOT NULL,
  `created` bigint(20) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


DROP TABLE IF EXISTS `file`;
CREATE TABLE `file` (
  `path` varchar(1024) COLLATE utf8mb4_unicode_ci NOT NULL,
  `path_hash` varchar(64) COLLATE utf8mb4_unicode_ci NOT NULL,
  `parent_folder_path_hash` varchar(64) COLLATE utf8mb4_unicode_ci NOT NULL,
  `contents` blob NOT NULL,
  `etag` varchar(32) COLLATE utf8mb4_unicode_ci NOT NULL,
  `cache_control` varchar(128) COLLATE utf8mb4_unicode_ci NOT NULL,
  `content_disposition` varchar(128) COLLATE utf8mb4_unicode_ci NOT NULL,
  `updated` datetime NOT NULL,
  `created` datetime NOT NULL,
  `size` bigint(20) NOT NULL,
  `mime_type` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  UNIQUE KEY `UQE_file_path_hash` (`path_hash`),
  KEY `IDX_file_parent_folder_path_hash` (`parent_folder_path_hash`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


DROP TABLE IF EXISTS `file_meta`;
CREATE TABLE `file_meta` (
  `path_hash` varchar(64) COLLATE utf8mb4_unicode_ci NOT NULL,
  `key` varchar(191) COLLATE utf8mb4_unicode_ci NOT NULL,
  `value` varchar(1024) COLLATE utf8mb4_unicode_ci NOT NULL,
  UNIQUE KEY `UQE_file_meta_path_hash_key` (`path_hash`,`key`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


DROP TABLE IF EXISTS `kv_store`;
CREATE TABLE `kv_store` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `org_id` bigint(20) NOT NULL,
  `namespace` varchar(190) COLLATE utf8mb4_unicode_ci NOT NULL,
  `key` varchar(190) COLLATE utf8mb4_unicode_ci NOT NULL,
  `value` mediumtext COLLATE utf8mb4_unicode_ci NOT NULL,
  `created` datetime NOT NULL,
  `updated` datetime NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `UQE_kv_store_org_id_namespace_key` (`org_id`,`namespace`,`key`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

INSERT INTO `kv_store` (`id`, `org_id`, `namespace`, `key`, `value`, `created`, `updated`) VALUES
(1,	0,	'datasource',	'secretMigrationStatus',	'compatible',	'2023-02-16 06:32:40',	'2023-02-16 06:32:40'),
(2,	1,	'alertmanager',	'silences',	'',	'2023-02-16 06:47:40',	'2023-02-16 06:47:40'),
(3,	1,	'alertmanager',	'notifications',	'',	'2023-02-16 06:47:40',	'2023-02-16 06:47:40');

DROP TABLE IF EXISTS `library_element`;
CREATE TABLE `library_element` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `org_id` bigint(20) NOT NULL,
  `folder_id` bigint(20) NOT NULL,
  `uid` varchar(40) COLLATE utf8mb4_unicode_ci NOT NULL,
  `name` varchar(150) COLLATE utf8mb4_unicode_ci NOT NULL,
  `kind` bigint(20) NOT NULL,
  `type` varchar(40) COLLATE utf8mb4_unicode_ci NOT NULL,
  `description` varchar(2048) COLLATE utf8mb4_unicode_ci NOT NULL,
  `model` text COLLATE utf8mb4_unicode_ci NOT NULL,
  `created` datetime NOT NULL,
  `created_by` bigint(20) NOT NULL,
  `updated` datetime NOT NULL,
  `updated_by` bigint(20) NOT NULL,
  `version` bigint(20) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `UQE_library_element_org_id_folder_id_name_kind` (`org_id`,`folder_id`,`name`,`kind`),
  UNIQUE KEY `UQE_library_element_org_id_uid` (`org_id`,`uid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


DROP TABLE IF EXISTS `library_element_connection`;
CREATE TABLE `library_element_connection` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `element_id` bigint(20) NOT NULL,
  `kind` bigint(20) NOT NULL,
  `connection_id` bigint(20) NOT NULL,
  `created` datetime NOT NULL,
  `created_by` bigint(20) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `UQE_library_element_connection_element_id_kind_connection_id` (`element_id`,`kind`,`connection_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


DROP TABLE IF EXISTS `login_attempt`;
CREATE TABLE `login_attempt` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `username` varchar(190) COLLATE utf8mb4_unicode_ci NOT NULL,
  `ip_address` varchar(30) COLLATE utf8mb4_unicode_ci NOT NULL,
  `created` int(11) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  KEY `IDX_login_attempt_username` (`username`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


DROP TABLE IF EXISTS `migration_log`;
CREATE TABLE `migration_log` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `migration_id` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `sql` text COLLATE utf8mb4_unicode_ci NOT NULL,
  `success` tinyint(1) NOT NULL,
  `error` text COLLATE utf8mb4_unicode_ci NOT NULL,
  `timestamp` datetime NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

INSERT INTO `migration_log` (`id`, `migration_id`, `sql`, `success`, `error`, `timestamp`) VALUES
(1,	'create migration_log table',	'CREATE TABLE IF NOT EXISTS `migration_log` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `migration_id` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `sql` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `success` TINYINT(1) NOT NULL\n, `error` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `timestamp` DATETIME NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:37'),
(2,	'create user table',	'CREATE TABLE IF NOT EXISTS `user` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `version` INT NOT NULL\n, `login` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `email` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `name` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL\n, `password` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL\n, `salt` VARCHAR(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL\n, `rands` VARCHAR(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL\n, `company` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL\n, `account_id` BIGINT(20) NOT NULL\n, `is_admin` TINYINT(1) NOT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:37'),
(3,	'add unique index user.login',	'CREATE UNIQUE INDEX `UQE_user_login` ON `user` (`login`);',	1,	'',	'2023-02-16 06:32:37'),
(4,	'add unique index user.email',	'CREATE UNIQUE INDEX `UQE_user_email` ON `user` (`email`);',	1,	'',	'2023-02-16 06:32:37'),
(5,	'drop index UQE_user_login - v1',	'DROP INDEX `UQE_user_login` ON `user`',	1,	'',	'2023-02-16 06:32:37'),
(6,	'drop index UQE_user_email - v1',	'DROP INDEX `UQE_user_email` ON `user`',	1,	'',	'2023-02-16 06:32:37'),
(7,	'Rename table user to user_v1 - v1',	'ALTER TABLE `user` RENAME TO `user_v1`',	1,	'',	'2023-02-16 06:32:37'),
(8,	'create user table v2',	'CREATE TABLE IF NOT EXISTS `user` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `version` INT NOT NULL\n, `login` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `email` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `name` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL\n, `password` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL\n, `salt` VARCHAR(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL\n, `rands` VARCHAR(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL\n, `company` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL\n, `org_id` BIGINT(20) NOT NULL\n, `is_admin` TINYINT(1) NOT NULL\n, `email_verified` TINYINT(1) NULL\n, `theme` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:37'),
(9,	'create index UQE_user_login - v2',	'CREATE UNIQUE INDEX `UQE_user_login` ON `user` (`login`);',	1,	'',	'2023-02-16 06:32:37'),
(10,	'create index UQE_user_email - v2',	'CREATE UNIQUE INDEX `UQE_user_email` ON `user` (`email`);',	1,	'',	'2023-02-16 06:32:37'),
(11,	'copy data_source v1 to v2',	'INSERT INTO `user` (`email`\n, `name`\n, `password`\n, `rands`\n, `updated`\n, `id`\n, `version`\n, `login`\n, `is_admin`\n, `created`\n, `salt`\n, `company`\n, `org_id`) SELECT `email`\n, `name`\n, `password`\n, `rands`\n, `updated`\n, `id`\n, `version`\n, `login`\n, `is_admin`\n, `created`\n, `salt`\n, `company`\n, `account_id` FROM `user_v1`',	1,	'',	'2023-02-16 06:32:37'),
(12,	'Drop old table user_v1',	'DROP TABLE IF EXISTS `user_v1`',	1,	'',	'2023-02-16 06:32:37'),
(13,	'Add column help_flags1 to user table',	'alter table `user` ADD COLUMN `help_flags1` BIGINT(20) NOT NULL DEFAULT 0 ',	1,	'',	'2023-02-16 06:32:37'),
(14,	'Update user table charset',	'ALTER TABLE `user` DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci, MODIFY `login` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL , MODIFY `email` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL , MODIFY `name` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL , MODIFY `password` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL , MODIFY `salt` VARCHAR(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL , MODIFY `rands` VARCHAR(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL , MODIFY `company` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL , MODIFY `theme` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL ;',	1,	'',	'2023-02-16 06:32:37'),
(15,	'Add last_seen_at column to user',	'alter table `user` ADD COLUMN `last_seen_at` DATETIME NULL ',	1,	'',	'2023-02-16 06:32:37'),
(16,	'Add missing user data',	'code migration',	1,	'',	'2023-02-16 06:32:37'),
(17,	'Add is_disabled column to user',	'alter table `user` ADD COLUMN `is_disabled` TINYINT(1) NOT NULL DEFAULT 0 ',	1,	'',	'2023-02-16 06:32:37'),
(18,	'Add index user.login/user.email',	'CREATE INDEX `IDX_user_login_email` ON `user` (`login`,`email`);',	1,	'',	'2023-02-16 06:32:37'),
(19,	'Add is_service_account column to user',	'alter table `user` ADD COLUMN `is_service_account` TINYINT(1) NOT NULL DEFAULT 0 ',	1,	'',	'2023-02-16 06:32:37'),
(20,	'Update is_service_account column to nullable',	'ALTER TABLE user MODIFY is_service_account BOOLEAN DEFAULT 0;',	1,	'',	'2023-02-16 06:32:37'),
(21,	'create temp user table v1-7',	'CREATE TABLE IF NOT EXISTS `temp_user` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `org_id` BIGINT(20) NOT NULL\n, `version` INT NOT NULL\n, `email` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `name` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL\n, `role` VARCHAR(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL\n, `code` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `status` VARCHAR(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `invited_by_user_id` BIGINT(20) NULL\n, `email_sent` TINYINT(1) NOT NULL\n, `email_sent_on` DATETIME NULL\n, `remote_addr` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:37'),
(22,	'create index IDX_temp_user_email - v1-7',	'CREATE INDEX `IDX_temp_user_email` ON `temp_user` (`email`);',	1,	'',	'2023-02-16 06:32:37'),
(23,	'create index IDX_temp_user_org_id - v1-7',	'CREATE INDEX `IDX_temp_user_org_id` ON `temp_user` (`org_id`);',	1,	'',	'2023-02-16 06:32:37'),
(24,	'create index IDX_temp_user_code - v1-7',	'CREATE INDEX `IDX_temp_user_code` ON `temp_user` (`code`);',	1,	'',	'2023-02-16 06:32:37'),
(25,	'create index IDX_temp_user_status - v1-7',	'CREATE INDEX `IDX_temp_user_status` ON `temp_user` (`status`);',	1,	'',	'2023-02-16 06:32:37'),
(26,	'Update temp_user table charset',	'ALTER TABLE `temp_user` DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci, MODIFY `email` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL , MODIFY `name` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL , MODIFY `role` VARCHAR(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL , MODIFY `code` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL , MODIFY `status` VARCHAR(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL , MODIFY `remote_addr` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL ;',	1,	'',	'2023-02-16 06:32:37'),
(27,	'drop index IDX_temp_user_email - v1',	'DROP INDEX `IDX_temp_user_email` ON `temp_user`',	1,	'',	'2023-02-16 06:32:37'),
(28,	'drop index IDX_temp_user_org_id - v1',	'DROP INDEX `IDX_temp_user_org_id` ON `temp_user`',	1,	'',	'2023-02-16 06:32:37'),
(29,	'drop index IDX_temp_user_code - v1',	'DROP INDEX `IDX_temp_user_code` ON `temp_user`',	1,	'',	'2023-02-16 06:32:37'),
(30,	'drop index IDX_temp_user_status - v1',	'DROP INDEX `IDX_temp_user_status` ON `temp_user`',	1,	'',	'2023-02-16 06:32:37'),
(31,	'Rename table temp_user to temp_user_tmp_qwerty - v1',	'ALTER TABLE `temp_user` RENAME TO `temp_user_tmp_qwerty`',	1,	'',	'2023-02-16 06:32:37'),
(32,	'create temp_user v2',	'CREATE TABLE IF NOT EXISTS `temp_user` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `org_id` BIGINT(20) NOT NULL\n, `version` INT NOT NULL\n, `email` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `name` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL\n, `role` VARCHAR(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL\n, `code` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `status` VARCHAR(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `invited_by_user_id` BIGINT(20) NULL\n, `email_sent` TINYINT(1) NOT NULL\n, `email_sent_on` DATETIME NULL\n, `remote_addr` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL\n, `created` INT NOT NULL DEFAULT 0\n, `updated` INT NOT NULL DEFAULT 0\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:37'),
(33,	'create index IDX_temp_user_email - v2',	'CREATE INDEX `IDX_temp_user_email` ON `temp_user` (`email`);',	1,	'',	'2023-02-16 06:32:37'),
(34,	'create index IDX_temp_user_org_id - v2',	'CREATE INDEX `IDX_temp_user_org_id` ON `temp_user` (`org_id`);',	1,	'',	'2023-02-16 06:32:37'),
(35,	'create index IDX_temp_user_code - v2',	'CREATE INDEX `IDX_temp_user_code` ON `temp_user` (`code`);',	1,	'',	'2023-02-16 06:32:37'),
(36,	'create index IDX_temp_user_status - v2',	'CREATE INDEX `IDX_temp_user_status` ON `temp_user` (`status`);',	1,	'',	'2023-02-16 06:32:37'),
(37,	'copy temp_user v1 to v2',	'INSERT INTO `temp_user` (`remote_addr`\n, `id`\n, `org_id`\n, `version`\n, `email`\n, `role`\n, `code`\n, `status`\n, `name`\n, `invited_by_user_id`\n, `email_sent`\n, `email_sent_on`) SELECT `remote_addr`\n, `id`\n, `org_id`\n, `version`\n, `email`\n, `role`\n, `code`\n, `status`\n, `name`\n, `invited_by_user_id`\n, `email_sent`\n, `email_sent_on` FROM `temp_user_tmp_qwerty`',	1,	'',	'2023-02-16 06:32:37'),
(38,	'drop temp_user_tmp_qwerty',	'DROP TABLE IF EXISTS `temp_user_tmp_qwerty`',	1,	'',	'2023-02-16 06:32:37'),
(39,	'Set created for temp users that will otherwise prematurely expire',	'code migration',	1,	'',	'2023-02-16 06:32:37'),
(40,	'create star table',	'CREATE TABLE IF NOT EXISTS `star` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `user_id` BIGINT(20) NOT NULL\n, `dashboard_id` BIGINT(20) NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:37'),
(41,	'add unique index star.user_id_dashboard_id',	'CREATE UNIQUE INDEX `UQE_star_user_id_dashboard_id` ON `star` (`user_id`,`dashboard_id`);',	1,	'',	'2023-02-16 06:32:37'),
(42,	'create org table v1',	'CREATE TABLE IF NOT EXISTS `org` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `version` INT NOT NULL\n, `name` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `address1` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL\n, `address2` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL\n, `city` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL\n, `state` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL\n, `zip_code` VARCHAR(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL\n, `country` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL\n, `billing_email` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:37'),
(43,	'create index UQE_org_name - v1',	'CREATE UNIQUE INDEX `UQE_org_name` ON `org` (`name`);',	1,	'',	'2023-02-16 06:32:37'),
(44,	'create org_user table v1',	'CREATE TABLE IF NOT EXISTS `org_user` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `org_id` BIGINT(20) NOT NULL\n, `user_id` BIGINT(20) NOT NULL\n, `role` VARCHAR(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:37'),
(45,	'create index IDX_org_user_org_id - v1',	'CREATE INDEX `IDX_org_user_org_id` ON `org_user` (`org_id`);',	1,	'',	'2023-02-16 06:32:37'),
(46,	'create index UQE_org_user_org_id_user_id - v1',	'CREATE UNIQUE INDEX `UQE_org_user_org_id_user_id` ON `org_user` (`org_id`,`user_id`);',	1,	'',	'2023-02-16 06:32:37'),
(47,	'create index IDX_org_user_user_id - v1',	'CREATE INDEX `IDX_org_user_user_id` ON `org_user` (`user_id`);',	1,	'',	'2023-02-16 06:32:37'),
(48,	'Update org table charset',	'ALTER TABLE `org` DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci, MODIFY `name` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL , MODIFY `address1` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL , MODIFY `address2` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL , MODIFY `city` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL , MODIFY `state` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL , MODIFY `zip_code` VARCHAR(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL , MODIFY `country` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL , MODIFY `billing_email` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL ;',	1,	'',	'2023-02-16 06:32:37'),
(49,	'Update org_user table charset',	'ALTER TABLE `org_user` DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci, MODIFY `role` VARCHAR(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL ;',	1,	'',	'2023-02-16 06:32:37'),
(50,	'Migrate all Read Only Viewers to Viewers',	'UPDATE org_user SET role = \'Viewer\' WHERE role = \'Read Only Editor\'',	1,	'',	'2023-02-16 06:32:37'),
(51,	'create dashboard table',	'CREATE TABLE IF NOT EXISTS `dashboard` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `version` INT NOT NULL\n, `slug` VARCHAR(189) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `title` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `data` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `account_id` BIGINT(20) NOT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:37'),
(52,	'add index dashboard.account_id',	'CREATE INDEX `IDX_dashboard_account_id` ON `dashboard` (`account_id`);',	1,	'',	'2023-02-16 06:32:37'),
(53,	'add unique index dashboard_account_id_slug',	'CREATE UNIQUE INDEX `UQE_dashboard_account_id_slug` ON `dashboard` (`account_id`,`slug`);',	1,	'',	'2023-02-16 06:32:37'),
(54,	'create dashboard_tag table',	'CREATE TABLE IF NOT EXISTS `dashboard_tag` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `dashboard_id` BIGINT(20) NOT NULL\n, `term` VARCHAR(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:37'),
(55,	'add unique index dashboard_tag.dasboard_id_term',	'CREATE UNIQUE INDEX `UQE_dashboard_tag_dashboard_id_term` ON `dashboard_tag` (`dashboard_id`,`term`);',	1,	'',	'2023-02-16 06:32:37'),
(56,	'drop index UQE_dashboard_tag_dashboard_id_term - v1',	'DROP INDEX `UQE_dashboard_tag_dashboard_id_term` ON `dashboard_tag`',	1,	'',	'2023-02-16 06:32:37'),
(57,	'Rename table dashboard to dashboard_v1 - v1',	'ALTER TABLE `dashboard` RENAME TO `dashboard_v1`',	1,	'',	'2023-02-16 06:32:37'),
(58,	'create dashboard v2',	'CREATE TABLE IF NOT EXISTS `dashboard` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `version` INT NOT NULL\n, `slug` VARCHAR(189) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `title` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `data` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `org_id` BIGINT(20) NOT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:37'),
(59,	'create index IDX_dashboard_org_id - v2',	'CREATE INDEX `IDX_dashboard_org_id` ON `dashboard` (`org_id`);',	1,	'',	'2023-02-16 06:32:37'),
(60,	'create index UQE_dashboard_org_id_slug - v2',	'CREATE UNIQUE INDEX `UQE_dashboard_org_id_slug` ON `dashboard` (`org_id`,`slug`);',	1,	'',	'2023-02-16 06:32:37'),
(61,	'copy dashboard v1 to v2',	'INSERT INTO `dashboard` (`org_id`\n, `created`\n, `updated`\n, `id`\n, `version`\n, `slug`\n, `title`\n, `data`) SELECT `account_id`\n, `created`\n, `updated`\n, `id`\n, `version`\n, `slug`\n, `title`\n, `data` FROM `dashboard_v1`',	1,	'',	'2023-02-16 06:32:37'),
(62,	'drop table dashboard_v1',	'DROP TABLE IF EXISTS `dashboard_v1`',	1,	'',	'2023-02-16 06:32:37'),
(63,	'alter dashboard.data to mediumtext v1',	'ALTER TABLE dashboard MODIFY data MEDIUMTEXT;',	1,	'',	'2023-02-16 06:32:37'),
(64,	'Add column updated_by in dashboard - v2',	'alter table `dashboard` ADD COLUMN `updated_by` INT NULL ',	1,	'',	'2023-02-16 06:32:37'),
(65,	'Add column created_by in dashboard - v2',	'alter table `dashboard` ADD COLUMN `created_by` INT NULL ',	1,	'',	'2023-02-16 06:32:37'),
(66,	'Add column gnetId in dashboard',	'alter table `dashboard` ADD COLUMN `gnet_id` BIGINT(20) NULL ',	1,	'',	'2023-02-16 06:32:37'),
(67,	'Add index for gnetId in dashboard',	'CREATE INDEX `IDX_dashboard_gnet_id` ON `dashboard` (`gnet_id`);',	1,	'',	'2023-02-16 06:32:37'),
(68,	'Add column plugin_id in dashboard',	'alter table `dashboard` ADD COLUMN `plugin_id` VARCHAR(189) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL ',	1,	'',	'2023-02-16 06:32:37'),
(69,	'Add index for plugin_id in dashboard',	'CREATE INDEX `IDX_dashboard_org_id_plugin_id` ON `dashboard` (`org_id`,`plugin_id`);',	1,	'',	'2023-02-16 06:32:37'),
(70,	'Add index for dashboard_id in dashboard_tag',	'CREATE INDEX `IDX_dashboard_tag_dashboard_id` ON `dashboard_tag` (`dashboard_id`);',	1,	'',	'2023-02-16 06:32:37'),
(71,	'Update dashboard table charset',	'ALTER TABLE `dashboard` DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci, MODIFY `slug` VARCHAR(189) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL , MODIFY `title` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL , MODIFY `plugin_id` VARCHAR(189) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL , MODIFY `data` MEDIUMTEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL ;',	1,	'',	'2023-02-16 06:32:37'),
(72,	'Update dashboard_tag table charset',	'ALTER TABLE `dashboard_tag` DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci, MODIFY `term` VARCHAR(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL ;',	1,	'',	'2023-02-16 06:32:37'),
(73,	'Add column folder_id in dashboard',	'alter table `dashboard` ADD COLUMN `folder_id` BIGINT(20) NOT NULL DEFAULT 0 ',	1,	'',	'2023-02-16 06:32:37'),
(74,	'Add column isFolder in dashboard',	'alter table `dashboard` ADD COLUMN `is_folder` TINYINT(1) NOT NULL DEFAULT 0 ',	1,	'',	'2023-02-16 06:32:37'),
(75,	'Add column has_acl in dashboard',	'alter table `dashboard` ADD COLUMN `has_acl` TINYINT(1) NOT NULL DEFAULT 0 ',	1,	'',	'2023-02-16 06:32:37'),
(76,	'Add column uid in dashboard',	'alter table `dashboard` ADD COLUMN `uid` VARCHAR(40) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL ',	1,	'',	'2023-02-16 06:32:37'),
(77,	'Update uid column values in dashboard',	'UPDATE dashboard SET uid=lpad(id,9,\'0\') WHERE uid IS NULL;',	1,	'',	'2023-02-16 06:32:37'),
(78,	'Add unique index dashboard_org_id_uid',	'CREATE UNIQUE INDEX `UQE_dashboard_org_id_uid` ON `dashboard` (`org_id`,`uid`);',	1,	'',	'2023-02-16 06:32:37'),
(79,	'Remove unique index org_id_slug',	'DROP INDEX `UQE_dashboard_org_id_slug` ON `dashboard`',	1,	'',	'2023-02-16 06:32:37'),
(80,	'Update dashboard title length',	'ALTER TABLE `dashboard` DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci, MODIFY `title` VARCHAR(189) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL ;',	1,	'',	'2023-02-16 06:32:37'),
(81,	'Add unique index for dashboard_org_id_title_folder_id',	'CREATE UNIQUE INDEX `UQE_dashboard_org_id_folder_id_title` ON `dashboard` (`org_id`,`folder_id`,`title`);',	1,	'',	'2023-02-16 06:32:37'),
(82,	'create dashboard_provisioning',	'CREATE TABLE IF NOT EXISTS `dashboard_provisioning` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `dashboard_id` BIGINT(20) NULL\n, `name` VARCHAR(150) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `external_id` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `updated` DATETIME NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:37'),
(83,	'Rename table dashboard_provisioning to dashboard_provisioning_tmp_qwerty - v1',	'ALTER TABLE `dashboard_provisioning` RENAME TO `dashboard_provisioning_tmp_qwerty`',	1,	'',	'2023-02-16 06:32:37'),
(84,	'create dashboard_provisioning v2',	'CREATE TABLE IF NOT EXISTS `dashboard_provisioning` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `dashboard_id` BIGINT(20) NULL\n, `name` VARCHAR(150) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `external_id` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `updated` INT NOT NULL DEFAULT 0\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:37'),
(85,	'create index IDX_dashboard_provisioning_dashboard_id - v2',	'CREATE INDEX `IDX_dashboard_provisioning_dashboard_id` ON `dashboard_provisioning` (`dashboard_id`);',	1,	'',	'2023-02-16 06:32:37'),
(86,	'create index IDX_dashboard_provisioning_dashboard_id_name - v2',	'CREATE INDEX `IDX_dashboard_provisioning_dashboard_id_name` ON `dashboard_provisioning` (`dashboard_id`,`name`);',	1,	'',	'2023-02-16 06:32:37'),
(87,	'copy dashboard_provisioning v1 to v2',	'INSERT INTO `dashboard_provisioning` (`id`\n, `dashboard_id`\n, `name`\n, `external_id`) SELECT `id`\n, `dashboard_id`\n, `name`\n, `external_id` FROM `dashboard_provisioning_tmp_qwerty`',	1,	'',	'2023-02-16 06:32:37'),
(88,	'drop dashboard_provisioning_tmp_qwerty',	'DROP TABLE IF EXISTS `dashboard_provisioning_tmp_qwerty`',	1,	'',	'2023-02-16 06:32:37'),
(89,	'Add check_sum column',	'alter table `dashboard_provisioning` ADD COLUMN `check_sum` VARCHAR(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL ',	1,	'',	'2023-02-16 06:32:37'),
(90,	'Add index for dashboard_title',	'CREATE INDEX `IDX_dashboard_title` ON `dashboard` (`title`);',	1,	'',	'2023-02-16 06:32:37'),
(91,	'delete tags for deleted dashboards',	'DELETE FROM dashboard_tag WHERE dashboard_id NOT IN (SELECT id FROM dashboard)',	1,	'',	'2023-02-16 06:32:37'),
(92,	'delete stars for deleted dashboards',	'DELETE FROM star WHERE dashboard_id NOT IN (SELECT id FROM dashboard)',	1,	'',	'2023-02-16 06:32:37'),
(93,	'Add index for dashboard_is_folder',	'CREATE INDEX `IDX_dashboard_is_folder` ON `dashboard` (`is_folder`);',	1,	'',	'2023-02-16 06:32:37'),
(94,	'Add isPublic for dashboard',	'alter table `dashboard` ADD COLUMN `is_public` TINYINT(1) NOT NULL DEFAULT 0 ',	1,	'',	'2023-02-16 06:32:37'),
(95,	'create data_source table',	'CREATE TABLE IF NOT EXISTS `data_source` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `account_id` BIGINT(20) NOT NULL\n, `version` INT NOT NULL\n, `type` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `name` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `access` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `url` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `password` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL\n, `user` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL\n, `database` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL\n, `basic_auth` TINYINT(1) NOT NULL\n, `basic_auth_user` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL\n, `basic_auth_password` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL\n, `is_default` TINYINT(1) NOT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:37'),
(96,	'add index data_source.account_id',	'CREATE INDEX `IDX_data_source_account_id` ON `data_source` (`account_id`);',	1,	'',	'2023-02-16 06:32:37'),
(97,	'add unique index data_source.account_id_name',	'CREATE UNIQUE INDEX `UQE_data_source_account_id_name` ON `data_source` (`account_id`,`name`);',	1,	'',	'2023-02-16 06:32:37'),
(98,	'drop index IDX_data_source_account_id - v1',	'DROP INDEX `IDX_data_source_account_id` ON `data_source`',	1,	'',	'2023-02-16 06:32:37'),
(99,	'drop index UQE_data_source_account_id_name - v1',	'DROP INDEX `UQE_data_source_account_id_name` ON `data_source`',	1,	'',	'2023-02-16 06:32:37'),
(100,	'Rename table data_source to data_source_v1 - v1',	'ALTER TABLE `data_source` RENAME TO `data_source_v1`',	1,	'',	'2023-02-16 06:32:37'),
(101,	'create data_source table v2',	'CREATE TABLE IF NOT EXISTS `data_source` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `org_id` BIGINT(20) NOT NULL\n, `version` INT NOT NULL\n, `type` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `name` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `access` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `url` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `password` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL\n, `user` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL\n, `database` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL\n, `basic_auth` TINYINT(1) NOT NULL\n, `basic_auth_user` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL\n, `basic_auth_password` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL\n, `is_default` TINYINT(1) NOT NULL\n, `json_data` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:37'),
(102,	'create index IDX_data_source_org_id - v2',	'CREATE INDEX `IDX_data_source_org_id` ON `data_source` (`org_id`);',	1,	'',	'2023-02-16 06:32:37'),
(103,	'create index UQE_data_source_org_id_name - v2',	'CREATE UNIQUE INDEX `UQE_data_source_org_id_name` ON `data_source` (`org_id`,`name`);',	1,	'',	'2023-02-16 06:32:37'),
(104,	'Drop old table data_source_v1 #2',	'DROP TABLE IF EXISTS `data_source_v1`',	1,	'',	'2023-02-16 06:32:37'),
(105,	'Add column with_credentials',	'alter table `data_source` ADD COLUMN `with_credentials` TINYINT(1) NOT NULL DEFAULT 0 ',	1,	'',	'2023-02-16 06:32:37'),
(106,	'Add secure json data column',	'alter table `data_source` ADD COLUMN `secure_json_data` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL ',	1,	'',	'2023-02-16 06:32:37'),
(107,	'Update data_source table charset',	'ALTER TABLE `data_source` DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci, MODIFY `type` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL , MODIFY `name` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL , MODIFY `access` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL , MODIFY `url` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL , MODIFY `password` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL , MODIFY `user` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL , MODIFY `database` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL , MODIFY `basic_auth_user` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL , MODIFY `basic_auth_password` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL , MODIFY `json_data` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL , MODIFY `secure_json_data` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL ;',	1,	'',	'2023-02-16 06:32:37'),
(108,	'Update initial version to 1',	'UPDATE data_source SET version = 1 WHERE version = 0',	1,	'',	'2023-02-16 06:32:37'),
(109,	'Add read_only data column',	'alter table `data_source` ADD COLUMN `read_only` TINYINT(1) NULL ',	1,	'',	'2023-02-16 06:32:37'),
(110,	'Migrate logging ds to loki ds',	'UPDATE data_source SET type = \'loki\' WHERE type = \'logging\'',	1,	'',	'2023-02-16 06:32:37'),
(111,	'Update json_data with nulls',	'UPDATE data_source SET json_data = \'{}\' WHERE json_data is null',	1,	'',	'2023-02-16 06:32:37'),
(112,	'Add uid column',	'alter table `data_source` ADD COLUMN `uid` VARCHAR(40) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 0 ',	1,	'',	'2023-02-16 06:32:37'),
(113,	'Update uid value',	'UPDATE data_source SET uid=lpad(id,9,\'0\');',	1,	'',	'2023-02-16 06:32:37'),
(114,	'Add unique index datasource_org_id_uid',	'CREATE UNIQUE INDEX `UQE_data_source_org_id_uid` ON `data_source` (`org_id`,`uid`);',	1,	'',	'2023-02-16 06:32:37'),
(115,	'add unique index datasource_org_id_is_default',	'CREATE INDEX `IDX_data_source_org_id_is_default` ON `data_source` (`org_id`,`is_default`);',	1,	'',	'2023-02-16 06:32:37'),
(116,	'create api_key table',	'CREATE TABLE IF NOT EXISTS `api_key` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `account_id` BIGINT(20) NOT NULL\n, `name` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `key` VARCHAR(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `role` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:37'),
(117,	'add index api_key.account_id',	'CREATE INDEX `IDX_api_key_account_id` ON `api_key` (`account_id`);',	1,	'',	'2023-02-16 06:32:37'),
(118,	'add index api_key.key',	'CREATE UNIQUE INDEX `UQE_api_key_key` ON `api_key` (`key`);',	1,	'',	'2023-02-16 06:32:37'),
(119,	'add index api_key.account_id_name',	'CREATE UNIQUE INDEX `UQE_api_key_account_id_name` ON `api_key` (`account_id`,`name`);',	1,	'',	'2023-02-16 06:32:37'),
(120,	'drop index IDX_api_key_account_id - v1',	'DROP INDEX `IDX_api_key_account_id` ON `api_key`',	1,	'',	'2023-02-16 06:32:37'),
(121,	'drop index UQE_api_key_key - v1',	'DROP INDEX `UQE_api_key_key` ON `api_key`',	1,	'',	'2023-02-16 06:32:37'),
(122,	'drop index UQE_api_key_account_id_name - v1',	'DROP INDEX `UQE_api_key_account_id_name` ON `api_key`',	1,	'',	'2023-02-16 06:32:37'),
(123,	'Rename table api_key to api_key_v1 - v1',	'ALTER TABLE `api_key` RENAME TO `api_key_v1`',	1,	'',	'2023-02-16 06:32:37'),
(124,	'create api_key table v2',	'CREATE TABLE IF NOT EXISTS `api_key` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `org_id` BIGINT(20) NOT NULL\n, `name` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `key` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `role` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:37'),
(125,	'create index IDX_api_key_org_id - v2',	'CREATE INDEX `IDX_api_key_org_id` ON `api_key` (`org_id`);',	1,	'',	'2023-02-16 06:32:37'),
(126,	'create index UQE_api_key_key - v2',	'CREATE UNIQUE INDEX `UQE_api_key_key` ON `api_key` (`key`);',	1,	'',	'2023-02-16 06:32:37'),
(127,	'create index UQE_api_key_org_id_name - v2',	'CREATE UNIQUE INDEX `UQE_api_key_org_id_name` ON `api_key` (`org_id`,`name`);',	1,	'',	'2023-02-16 06:32:37'),
(128,	'copy api_key v1 to v2',	'INSERT INTO `api_key` (`name`\n, `key`\n, `role`\n, `created`\n, `updated`\n, `id`\n, `org_id`) SELECT `name`\n, `key`\n, `role`\n, `created`\n, `updated`\n, `id`\n, `account_id` FROM `api_key_v1`',	1,	'',	'2023-02-16 06:32:37'),
(129,	'Drop old table api_key_v1',	'DROP TABLE IF EXISTS `api_key_v1`',	1,	'',	'2023-02-16 06:32:37'),
(130,	'Update api_key table charset',	'ALTER TABLE `api_key` DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci, MODIFY `name` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL , MODIFY `key` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL , MODIFY `role` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL ;',	1,	'',	'2023-02-16 06:32:37'),
(131,	'Add expires to api_key table',	'alter table `api_key` ADD COLUMN `expires` BIGINT(20) NULL ',	1,	'',	'2023-02-16 06:32:37'),
(132,	'Add service account foreign key',	'alter table `api_key` ADD COLUMN `service_account_id` BIGINT(20) NULL ',	1,	'',	'2023-02-16 06:32:38'),
(133,	'set service account foreign key to nil if 0',	'UPDATE api_key SET service_account_id = NULL WHERE service_account_id = 0;',	1,	'',	'2023-02-16 06:32:38'),
(134,	'Add last_used_at to api_key table',	'alter table `api_key` ADD COLUMN `last_used_at` DATETIME NULL ',	1,	'',	'2023-02-16 06:32:38'),
(135,	'Add is_revoked column to api_key table',	'alter table `api_key` ADD COLUMN `is_revoked` TINYINT(1) NULL DEFAULT 0 ',	1,	'',	'2023-02-16 06:32:38'),
(136,	'create dashboard_snapshot table v4',	'CREATE TABLE IF NOT EXISTS `dashboard_snapshot` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `name` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `key` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `dashboard` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `expires` DATETIME NOT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:38'),
(137,	'drop table dashboard_snapshot_v4 #1',	'DROP TABLE IF EXISTS `dashboard_snapshot`',	1,	'',	'2023-02-16 06:32:38'),
(138,	'create dashboard_snapshot table v5 #2',	'CREATE TABLE IF NOT EXISTS `dashboard_snapshot` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `name` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `key` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `delete_key` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `org_id` BIGINT(20) NOT NULL\n, `user_id` BIGINT(20) NOT NULL\n, `external` TINYINT(1) NOT NULL\n, `external_url` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `dashboard` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `expires` DATETIME NOT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:38'),
(139,	'create index UQE_dashboard_snapshot_key - v5',	'CREATE UNIQUE INDEX `UQE_dashboard_snapshot_key` ON `dashboard_snapshot` (`key`);',	1,	'',	'2023-02-16 06:32:38'),
(140,	'create index UQE_dashboard_snapshot_delete_key - v5',	'CREATE UNIQUE INDEX `UQE_dashboard_snapshot_delete_key` ON `dashboard_snapshot` (`delete_key`);',	1,	'',	'2023-02-16 06:32:38'),
(141,	'create index IDX_dashboard_snapshot_user_id - v5',	'CREATE INDEX `IDX_dashboard_snapshot_user_id` ON `dashboard_snapshot` (`user_id`);',	1,	'',	'2023-02-16 06:32:38'),
(142,	'alter dashboard_snapshot to mediumtext v2',	'ALTER TABLE dashboard_snapshot MODIFY dashboard MEDIUMTEXT;',	1,	'',	'2023-02-16 06:32:38'),
(143,	'Update dashboard_snapshot table charset',	'ALTER TABLE `dashboard_snapshot` DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci, MODIFY `name` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL , MODIFY `key` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL , MODIFY `delete_key` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL , MODIFY `external_url` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL , MODIFY `dashboard` MEDIUMTEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL ;',	1,	'',	'2023-02-16 06:32:38'),
(144,	'Add column external_delete_url to dashboard_snapshots table',	'alter table `dashboard_snapshot` ADD COLUMN `external_delete_url` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL ',	1,	'',	'2023-02-16 06:32:38'),
(145,	'Add encrypted dashboard json column',	'alter table `dashboard_snapshot` ADD COLUMN `dashboard_encrypted` BLOB NULL ',	1,	'',	'2023-02-16 06:32:38'),
(146,	'Change dashboard_encrypted column to MEDIUMBLOB',	'ALTER TABLE dashboard_snapshot MODIFY dashboard_encrypted MEDIUMBLOB;',	1,	'',	'2023-02-16 06:32:38'),
(147,	'create quota table v1',	'CREATE TABLE IF NOT EXISTS `quota` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `org_id` BIGINT(20) NULL\n, `user_id` BIGINT(20) NULL\n, `target` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `limit` BIGINT(20) NOT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:38'),
(148,	'create index UQE_quota_org_id_user_id_target - v1',	'CREATE UNIQUE INDEX `UQE_quota_org_id_user_id_target` ON `quota` (`org_id`,`user_id`,`target`);',	1,	'',	'2023-02-16 06:32:38'),
(149,	'Update quota table charset',	'ALTER TABLE `quota` DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci, MODIFY `target` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL ;',	1,	'',	'2023-02-16 06:32:38'),
(150,	'create plugin_setting table',	'CREATE TABLE IF NOT EXISTS `plugin_setting` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `org_id` BIGINT(20) NULL\n, `plugin_id` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `enabled` TINYINT(1) NOT NULL\n, `pinned` TINYINT(1) NOT NULL\n, `json_data` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL\n, `secure_json_data` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:38'),
(151,	'create index UQE_plugin_setting_org_id_plugin_id - v1',	'CREATE UNIQUE INDEX `UQE_plugin_setting_org_id_plugin_id` ON `plugin_setting` (`org_id`,`plugin_id`);',	1,	'',	'2023-02-16 06:32:38'),
(152,	'Add column plugin_version to plugin_settings',	'alter table `plugin_setting` ADD COLUMN `plugin_version` VARCHAR(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL ',	1,	'',	'2023-02-16 06:32:38'),
(153,	'Update plugin_setting table charset',	'ALTER TABLE `plugin_setting` DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci, MODIFY `plugin_id` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL , MODIFY `json_data` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL , MODIFY `secure_json_data` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL , MODIFY `plugin_version` VARCHAR(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL ;',	1,	'',	'2023-02-16 06:32:38'),
(154,	'create session table',	'CREATE TABLE IF NOT EXISTS `session` (\n`key` CHAR(16) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci PRIMARY KEY NOT NULL\n, `data` BLOB NOT NULL\n, `expiry` INTEGER(255) NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:38'),
(155,	'Drop old table playlist table',	'DROP TABLE IF EXISTS `playlist`',	1,	'',	'2023-02-16 06:32:38'),
(156,	'Drop old table playlist_item table',	'DROP TABLE IF EXISTS `playlist_item`',	1,	'',	'2023-02-16 06:32:38'),
(157,	'create playlist table v2',	'CREATE TABLE IF NOT EXISTS `playlist` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `name` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `interval` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `org_id` BIGINT(20) NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:38'),
(158,	'create playlist item table v2',	'CREATE TABLE IF NOT EXISTS `playlist_item` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `playlist_id` BIGINT(20) NOT NULL\n, `type` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `value` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `title` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `order` INT NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:38'),
(159,	'Update playlist table charset',	'ALTER TABLE `playlist` DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci, MODIFY `name` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL , MODIFY `interval` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL ;',	1,	'',	'2023-02-16 06:32:38'),
(160,	'Update playlist_item table charset',	'ALTER TABLE `playlist_item` DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci, MODIFY `type` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL , MODIFY `value` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL , MODIFY `title` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL ;',	1,	'',	'2023-02-16 06:32:38'),
(161,	'drop preferences table v2',	'DROP TABLE IF EXISTS `preferences`',	1,	'',	'2023-02-16 06:32:38'),
(162,	'drop preferences table v3',	'DROP TABLE IF EXISTS `preferences`',	1,	'',	'2023-02-16 06:32:38'),
(163,	'create preferences table v3',	'CREATE TABLE IF NOT EXISTS `preferences` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `org_id` BIGINT(20) NOT NULL\n, `user_id` BIGINT(20) NOT NULL\n, `version` INT NOT NULL\n, `home_dashboard_id` BIGINT(20) NOT NULL\n, `timezone` VARCHAR(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `theme` VARCHAR(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:38'),
(164,	'Update preferences table charset',	'ALTER TABLE `preferences` DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci, MODIFY `timezone` VARCHAR(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL , MODIFY `theme` VARCHAR(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL ;',	1,	'',	'2023-02-16 06:32:38'),
(165,	'Add column team_id in preferences',	'alter table `preferences` ADD COLUMN `team_id` BIGINT(20) NULL ',	1,	'',	'2023-02-16 06:32:38'),
(166,	'Update team_id column values in preferences',	'UPDATE preferences SET team_id=0 WHERE team_id IS NULL;',	1,	'',	'2023-02-16 06:32:38'),
(167,	'Add column week_start in preferences',	'alter table `preferences` ADD COLUMN `week_start` VARCHAR(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL ',	1,	'',	'2023-02-16 06:32:38'),
(168,	'Add column preferences.json_data',	'alter table `preferences` ADD COLUMN `json_data` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL ',	1,	'',	'2023-02-16 06:32:38'),
(169,	'alter preferences.json_data to mediumtext v1',	'ALTER TABLE preferences MODIFY json_data MEDIUMTEXT;',	1,	'',	'2023-02-16 06:32:38'),
(170,	'Add preferences index org_id',	'CREATE INDEX `IDX_preferences_org_id` ON `preferences` (`org_id`);',	1,	'',	'2023-02-16 06:32:38'),
(171,	'Add preferences index user_id',	'CREATE INDEX `IDX_preferences_user_id` ON `preferences` (`user_id`);',	1,	'',	'2023-02-16 06:32:38'),
(172,	'create alert table v1',	'CREATE TABLE IF NOT EXISTS `alert` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `version` BIGINT(20) NOT NULL\n, `dashboard_id` BIGINT(20) NOT NULL\n, `panel_id` BIGINT(20) NOT NULL\n, `org_id` BIGINT(20) NOT NULL\n, `name` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `message` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `state` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `settings` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `frequency` BIGINT(20) NOT NULL\n, `handler` BIGINT(20) NOT NULL\n, `severity` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `silenced` TINYINT(1) NOT NULL\n, `execution_error` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `eval_data` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL\n, `eval_date` DATETIME NULL\n, `new_state_date` DATETIME NOT NULL\n, `state_changes` INT NOT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:38'),
(173,	'add index alert org_id & id ',	'CREATE INDEX `IDX_alert_org_id_id` ON `alert` (`org_id`,`id`);',	1,	'',	'2023-02-16 06:32:38'),
(174,	'add index alert state',	'CREATE INDEX `IDX_alert_state` ON `alert` (`state`);',	1,	'',	'2023-02-16 06:32:38'),
(175,	'add index alert dashboard_id',	'CREATE INDEX `IDX_alert_dashboard_id` ON `alert` (`dashboard_id`);',	1,	'',	'2023-02-16 06:32:38'),
(176,	'Create alert_rule_tag table v1',	'CREATE TABLE IF NOT EXISTS `alert_rule_tag` (\n`alert_id` BIGINT(20) NOT NULL\n, `tag_id` BIGINT(20) NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:38'),
(177,	'Add unique index alert_rule_tag.alert_id_tag_id',	'CREATE UNIQUE INDEX `UQE_alert_rule_tag_alert_id_tag_id` ON `alert_rule_tag` (`alert_id`,`tag_id`);',	1,	'',	'2023-02-16 06:32:38'),
(178,	'drop index UQE_alert_rule_tag_alert_id_tag_id - v1',	'DROP INDEX `UQE_alert_rule_tag_alert_id_tag_id` ON `alert_rule_tag`',	1,	'',	'2023-02-16 06:32:38'),
(179,	'Rename table alert_rule_tag to alert_rule_tag_v1 - v1',	'ALTER TABLE `alert_rule_tag` RENAME TO `alert_rule_tag_v1`',	1,	'',	'2023-02-16 06:32:38'),
(180,	'Create alert_rule_tag table v2',	'CREATE TABLE IF NOT EXISTS `alert_rule_tag` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `alert_id` BIGINT(20) NOT NULL\n, `tag_id` BIGINT(20) NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:38'),
(181,	'create index UQE_alert_rule_tag_alert_id_tag_id - Add unique index alert_rule_tag.alert_id_tag_id V2',	'CREATE UNIQUE INDEX `UQE_alert_rule_tag_alert_id_tag_id` ON `alert_rule_tag` (`alert_id`,`tag_id`);',	1,	'',	'2023-02-16 06:32:38'),
(182,	'copy alert_rule_tag v1 to v2',	'INSERT INTO `alert_rule_tag` (`alert_id`\n, `tag_id`) SELECT `alert_id`\n, `tag_id` FROM `alert_rule_tag_v1`',	1,	'',	'2023-02-16 06:32:38'),
(183,	'drop table alert_rule_tag_v1',	'DROP TABLE IF EXISTS `alert_rule_tag_v1`',	1,	'',	'2023-02-16 06:32:38'),
(184,	'create alert_notification table v1',	'CREATE TABLE IF NOT EXISTS `alert_notification` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `org_id` BIGINT(20) NOT NULL\n, `name` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `type` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `settings` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:38'),
(185,	'Add column is_default',	'alter table `alert_notification` ADD COLUMN `is_default` TINYINT(1) NOT NULL DEFAULT 0 ',	1,	'',	'2023-02-16 06:32:38'),
(186,	'Add column frequency',	'alter table `alert_notification` ADD COLUMN `frequency` BIGINT(20) NULL ',	1,	'',	'2023-02-16 06:32:38'),
(187,	'Add column send_reminder',	'alter table `alert_notification` ADD COLUMN `send_reminder` TINYINT(1) NULL DEFAULT 0 ',	1,	'',	'2023-02-16 06:32:38'),
(188,	'Add column disable_resolve_message',	'alter table `alert_notification` ADD COLUMN `disable_resolve_message` TINYINT(1) NOT NULL DEFAULT 0 ',	1,	'',	'2023-02-16 06:32:38'),
(189,	'add index alert_notification org_id & name',	'CREATE UNIQUE INDEX `UQE_alert_notification_org_id_name` ON `alert_notification` (`org_id`,`name`);',	1,	'',	'2023-02-16 06:32:38'),
(190,	'Update alert table charset',	'ALTER TABLE `alert` DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci, MODIFY `name` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL , MODIFY `message` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL , MODIFY `state` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL , MODIFY `settings` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL , MODIFY `severity` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL , MODIFY `execution_error` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL , MODIFY `eval_data` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL ;',	1,	'',	'2023-02-16 06:32:38'),
(191,	'Update alert_notification table charset',	'ALTER TABLE `alert_notification` DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci, MODIFY `name` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL , MODIFY `type` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL , MODIFY `settings` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL ;',	1,	'',	'2023-02-16 06:32:38'),
(192,	'create notification_journal table v1',	'CREATE TABLE IF NOT EXISTS `alert_notification_journal` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `org_id` BIGINT(20) NOT NULL\n, `alert_id` BIGINT(20) NOT NULL\n, `notifier_id` BIGINT(20) NOT NULL\n, `sent_at` BIGINT(20) NOT NULL\n, `success` TINYINT(1) NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:38'),
(193,	'add index notification_journal org_id & alert_id & notifier_id',	'CREATE INDEX `IDX_alert_notification_journal_org_id_alert_id_notifier_id` ON `alert_notification_journal` (`org_id`,`alert_id`,`notifier_id`);',	1,	'',	'2023-02-16 06:32:38'),
(194,	'drop alert_notification_journal',	'DROP TABLE IF EXISTS `alert_notification_journal`',	1,	'',	'2023-02-16 06:32:38'),
(195,	'create alert_notification_state table v1',	'CREATE TABLE IF NOT EXISTS `alert_notification_state` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `org_id` BIGINT(20) NOT NULL\n, `alert_id` BIGINT(20) NOT NULL\n, `notifier_id` BIGINT(20) NOT NULL\n, `state` VARCHAR(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `version` BIGINT(20) NOT NULL\n, `updated_at` BIGINT(20) NOT NULL\n, `alert_rule_state_updated_version` BIGINT(20) NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:38'),
(196,	'add index alert_notification_state org_id & alert_id & notifier_id',	'CREATE UNIQUE INDEX `UQE_alert_notification_state_org_id_alert_id_notifier_id` ON `alert_notification_state` (`org_id`,`alert_id`,`notifier_id`);',	1,	'',	'2023-02-16 06:32:38'),
(197,	'Add for to alert table',	'alter table `alert` ADD COLUMN `for` BIGINT(20) NULL ',	1,	'',	'2023-02-16 06:32:38'),
(198,	'Add column uid in alert_notification',	'alter table `alert_notification` ADD COLUMN `uid` VARCHAR(40) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL ',	1,	'',	'2023-02-16 06:32:38'),
(199,	'Update uid column values in alert_notification',	'UPDATE alert_notification SET uid=lpad(id,9,\'0\') WHERE uid IS NULL;',	1,	'',	'2023-02-16 06:32:38'),
(200,	'Add unique index alert_notification_org_id_uid',	'CREATE UNIQUE INDEX `UQE_alert_notification_org_id_uid` ON `alert_notification` (`org_id`,`uid`);',	1,	'',	'2023-02-16 06:32:38'),
(201,	'Remove unique index org_id_name',	'DROP INDEX `UQE_alert_notification_org_id_name` ON `alert_notification`',	1,	'',	'2023-02-16 06:32:38'),
(202,	'Add column secure_settings in alert_notification',	'alter table `alert_notification` ADD COLUMN `secure_settings` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL ',	1,	'',	'2023-02-16 06:32:38'),
(203,	'alter alert.settings to mediumtext',	'ALTER TABLE alert MODIFY settings MEDIUMTEXT;',	1,	'',	'2023-02-16 06:32:38'),
(204,	'Add non-unique index alert_notification_state_alert_id',	'CREATE INDEX `IDX_alert_notification_state_alert_id` ON `alert_notification_state` (`alert_id`);',	1,	'',	'2023-02-16 06:32:38'),
(205,	'Add non-unique index alert_rule_tag_alert_id',	'CREATE INDEX `IDX_alert_rule_tag_alert_id` ON `alert_rule_tag` (`alert_id`);',	1,	'',	'2023-02-16 06:32:38'),
(206,	'Drop old annotation table v4',	'DROP TABLE IF EXISTS `annotation`',	1,	'',	'2023-02-16 06:32:38'),
(207,	'create annotation table v5',	'CREATE TABLE IF NOT EXISTS `annotation` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `org_id` BIGINT(20) NOT NULL\n, `alert_id` BIGINT(20) NULL\n, `user_id` BIGINT(20) NULL\n, `dashboard_id` BIGINT(20) NULL\n, `panel_id` BIGINT(20) NULL\n, `category_id` BIGINT(20) NULL\n, `type` VARCHAR(25) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `title` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `text` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `metric` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL\n, `prev_state` VARCHAR(25) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `new_state` VARCHAR(25) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `data` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `epoch` BIGINT(20) NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:38'),
(208,	'add index annotation 0 v3',	'CREATE INDEX `IDX_annotation_org_id_alert_id` ON `annotation` (`org_id`,`alert_id`);',	1,	'',	'2023-02-16 06:32:38'),
(209,	'add index annotation 1 v3',	'CREATE INDEX `IDX_annotation_org_id_type` ON `annotation` (`org_id`,`type`);',	1,	'',	'2023-02-16 06:32:38'),
(210,	'add index annotation 2 v3',	'CREATE INDEX `IDX_annotation_org_id_category_id` ON `annotation` (`org_id`,`category_id`);',	1,	'',	'2023-02-16 06:32:38'),
(211,	'add index annotation 3 v3',	'CREATE INDEX `IDX_annotation_org_id_dashboard_id_panel_id_epoch` ON `annotation` (`org_id`,`dashboard_id`,`panel_id`,`epoch`);',	1,	'',	'2023-02-16 06:32:38'),
(212,	'add index annotation 4 v3',	'CREATE INDEX `IDX_annotation_org_id_epoch` ON `annotation` (`org_id`,`epoch`);',	1,	'',	'2023-02-16 06:32:38'),
(213,	'Update annotation table charset',	'ALTER TABLE `annotation` DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci, MODIFY `type` VARCHAR(25) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL , MODIFY `title` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL , MODIFY `text` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL , MODIFY `metric` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL , MODIFY `prev_state` VARCHAR(25) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL , MODIFY `new_state` VARCHAR(25) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL , MODIFY `data` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL ;',	1,	'',	'2023-02-16 06:32:38'),
(214,	'Add column region_id to annotation table',	'alter table `annotation` ADD COLUMN `region_id` BIGINT(20) NULL DEFAULT 0 ',	1,	'',	'2023-02-16 06:32:38'),
(215,	'Drop category_id index',	'DROP INDEX `IDX_annotation_org_id_category_id` ON `annotation`',	1,	'',	'2023-02-16 06:32:38'),
(216,	'Add column tags to annotation table',	'alter table `annotation` ADD COLUMN `tags` VARCHAR(500) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL ',	1,	'',	'2023-02-16 06:32:38'),
(217,	'Create annotation_tag table v2',	'CREATE TABLE IF NOT EXISTS `annotation_tag` (\n`annotation_id` BIGINT(20) NOT NULL\n, `tag_id` BIGINT(20) NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:38'),
(218,	'Add unique index annotation_tag.annotation_id_tag_id',	'CREATE UNIQUE INDEX `UQE_annotation_tag_annotation_id_tag_id` ON `annotation_tag` (`annotation_id`,`tag_id`);',	1,	'',	'2023-02-16 06:32:38'),
(219,	'drop index UQE_annotation_tag_annotation_id_tag_id - v2',	'DROP INDEX `UQE_annotation_tag_annotation_id_tag_id` ON `annotation_tag`',	1,	'',	'2023-02-16 06:32:38'),
(220,	'Rename table annotation_tag to annotation_tag_v2 - v2',	'ALTER TABLE `annotation_tag` RENAME TO `annotation_tag_v2`',	1,	'',	'2023-02-16 06:32:38'),
(221,	'Create annotation_tag table v3',	'CREATE TABLE IF NOT EXISTS `annotation_tag` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `annotation_id` BIGINT(20) NOT NULL\n, `tag_id` BIGINT(20) NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:38'),
(222,	'create index UQE_annotation_tag_annotation_id_tag_id - Add unique index annotation_tag.annotation_id_tag_id V3',	'CREATE UNIQUE INDEX `UQE_annotation_tag_annotation_id_tag_id` ON `annotation_tag` (`annotation_id`,`tag_id`);',	1,	'',	'2023-02-16 06:32:38'),
(223,	'copy annotation_tag v2 to v3',	'INSERT INTO `annotation_tag` (`annotation_id`\n, `tag_id`) SELECT `annotation_id`\n, `tag_id` FROM `annotation_tag_v2`',	1,	'',	'2023-02-16 06:32:38'),
(224,	'drop table annotation_tag_v2',	'DROP TABLE IF EXISTS `annotation_tag_v2`',	1,	'',	'2023-02-16 06:32:38'),
(225,	'Update alert annotations and set TEXT to empty',	'UPDATE annotation SET TEXT = \'\' WHERE alert_id > 0',	1,	'',	'2023-02-16 06:32:38'),
(226,	'Add created time to annotation table',	'alter table `annotation` ADD COLUMN `created` BIGINT(20) NULL DEFAULT 0 ',	1,	'',	'2023-02-16 06:32:38'),
(227,	'Add updated time to annotation table',	'alter table `annotation` ADD COLUMN `updated` BIGINT(20) NULL DEFAULT 0 ',	1,	'',	'2023-02-16 06:32:38'),
(228,	'Add index for created in annotation table',	'CREATE INDEX `IDX_annotation_org_id_created` ON `annotation` (`org_id`,`created`);',	1,	'',	'2023-02-16 06:32:38'),
(229,	'Add index for updated in annotation table',	'CREATE INDEX `IDX_annotation_org_id_updated` ON `annotation` (`org_id`,`updated`);',	1,	'',	'2023-02-16 06:32:38'),
(230,	'Convert existing annotations from seconds to milliseconds',	'UPDATE annotation SET epoch = (epoch*1000) where epoch < 9999999999',	1,	'',	'2023-02-16 06:32:38'),
(231,	'Add epoch_end column',	'alter table `annotation` ADD COLUMN `epoch_end` BIGINT(20) NOT NULL DEFAULT 0 ',	1,	'',	'2023-02-16 06:32:38'),
(232,	'Add index for epoch_end',	'CREATE INDEX `IDX_annotation_org_id_epoch_epoch_end` ON `annotation` (`org_id`,`epoch`,`epoch_end`);',	1,	'',	'2023-02-16 06:32:38'),
(233,	'Make epoch_end the same as epoch',	'UPDATE annotation SET epoch_end = epoch',	1,	'',	'2023-02-16 06:32:38'),
(234,	'Move region to single row',	'code migration',	1,	'',	'2023-02-16 06:32:38'),
(235,	'Remove index org_id_epoch from annotation table',	'DROP INDEX `IDX_annotation_org_id_epoch` ON `annotation`',	1,	'',	'2023-02-16 06:32:38'),
(236,	'Remove index org_id_dashboard_id_panel_id_epoch from annotation table',	'DROP INDEX `IDX_annotation_org_id_dashboard_id_panel_id_epoch` ON `annotation`',	1,	'',	'2023-02-16 06:32:38'),
(237,	'Add index for org_id_dashboard_id_epoch_end_epoch on annotation table',	'CREATE INDEX `IDX_annotation_org_id_dashboard_id_epoch_end_epoch` ON `annotation` (`org_id`,`dashboard_id`,`epoch_end`,`epoch`);',	1,	'',	'2023-02-16 06:32:38'),
(238,	'Add index for org_id_epoch_end_epoch on annotation table',	'CREATE INDEX `IDX_annotation_org_id_epoch_end_epoch` ON `annotation` (`org_id`,`epoch_end`,`epoch`);',	1,	'',	'2023-02-16 06:32:38'),
(239,	'Remove index org_id_epoch_epoch_end from annotation table',	'DROP INDEX `IDX_annotation_org_id_epoch_epoch_end` ON `annotation`',	1,	'',	'2023-02-16 06:32:38'),
(240,	'Add index for alert_id on annotation table',	'CREATE INDEX `IDX_annotation_alert_id` ON `annotation` (`alert_id`);',	1,	'',	'2023-02-16 06:32:38'),
(241,	'Increase tags column to length 4096',	'ALTER TABLE annotation MODIFY tags VARCHAR(4096);',	1,	'',	'2023-02-16 06:32:38'),
(242,	'create test_data table',	'CREATE TABLE IF NOT EXISTS `test_data` (\n`id` INT PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `metric1` VARCHAR(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL\n, `metric2` VARCHAR(150) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL\n, `value_big_int` BIGINT(20) NULL\n, `value_double` DOUBLE NULL\n, `value_float` FLOAT NULL\n, `value_int` INT NULL\n, `time_epoch` BIGINT(20) NOT NULL\n, `time_date_time` DATETIME NOT NULL\n, `time_time_stamp` TIMESTAMP NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:38'),
(243,	'create dashboard_version table v1',	'CREATE TABLE IF NOT EXISTS `dashboard_version` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `dashboard_id` BIGINT(20) NOT NULL\n, `parent_version` INT NOT NULL\n, `restored_from` INT NOT NULL\n, `version` INT NOT NULL\n, `created` DATETIME NOT NULL\n, `created_by` BIGINT(20) NOT NULL\n, `message` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `data` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:38'),
(244,	'add index dashboard_version.dashboard_id',	'CREATE INDEX `IDX_dashboard_version_dashboard_id` ON `dashboard_version` (`dashboard_id`);',	1,	'',	'2023-02-16 06:32:38'),
(245,	'add unique index dashboard_version.dashboard_id and dashboard_version.version',	'CREATE UNIQUE INDEX `UQE_dashboard_version_dashboard_id_version` ON `dashboard_version` (`dashboard_id`,`version`);',	1,	'',	'2023-02-16 06:32:38'),
(246,	'Set dashboard version to 1 where 0',	'UPDATE dashboard SET version = 1 WHERE version = 0',	1,	'',	'2023-02-16 06:32:38'),
(247,	'save existing dashboard data in dashboard_version table v1',	'INSERT INTO dashboard_version\n(\n	dashboard_id,\n	version,\n	parent_version,\n	restored_from,\n	created,\n	created_by,\n	message,\n	data\n)\nSELECT\n	dashboard.id,\n	dashboard.version,\n	dashboard.version,\n	dashboard.version,\n	dashboard.updated,\n	COALESCE(dashboard.updated_by, -1),\n	\'\',\n	dashboard.data\nFROM dashboard;',	1,	'',	'2023-02-16 06:32:38'),
(248,	'alter dashboard_version.data to mediumtext v1',	'ALTER TABLE dashboard_version MODIFY data MEDIUMTEXT;',	1,	'',	'2023-02-16 06:32:38'),
(249,	'create team table',	'CREATE TABLE IF NOT EXISTS `team` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `name` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `org_id` BIGINT(20) NOT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:38'),
(250,	'add index team.org_id',	'CREATE INDEX `IDX_team_org_id` ON `team` (`org_id`);',	1,	'',	'2023-02-16 06:32:38'),
(251,	'add unique index team_org_id_name',	'CREATE UNIQUE INDEX `UQE_team_org_id_name` ON `team` (`org_id`,`name`);',	1,	'',	'2023-02-16 06:32:38'),
(252,	'create team member table',	'CREATE TABLE IF NOT EXISTS `team_member` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `org_id` BIGINT(20) NOT NULL\n, `team_id` BIGINT(20) NOT NULL\n, `user_id` BIGINT(20) NOT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:38'),
(253,	'add index team_member.org_id',	'CREATE INDEX `IDX_team_member_org_id` ON `team_member` (`org_id`);',	1,	'',	'2023-02-16 06:32:38'),
(254,	'add unique index team_member_org_id_team_id_user_id',	'CREATE UNIQUE INDEX `UQE_team_member_org_id_team_id_user_id` ON `team_member` (`org_id`,`team_id`,`user_id`);',	1,	'',	'2023-02-16 06:32:38'),
(255,	'add index team_member.team_id',	'CREATE INDEX `IDX_team_member_team_id` ON `team_member` (`team_id`);',	1,	'',	'2023-02-16 06:32:38'),
(256,	'Add column email to team table',	'alter table `team` ADD COLUMN `email` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL ',	1,	'',	'2023-02-16 06:32:38'),
(257,	'Add column external to team_member table',	'alter table `team_member` ADD COLUMN `external` TINYINT(1) NULL ',	1,	'',	'2023-02-16 06:32:38'),
(258,	'Add column permission to team_member table',	'alter table `team_member` ADD COLUMN `permission` SMALLINT NULL ',	1,	'',	'2023-02-16 06:32:38'),
(259,	'create dashboard acl table',	'CREATE TABLE IF NOT EXISTS `dashboard_acl` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `org_id` BIGINT(20) NOT NULL\n, `dashboard_id` BIGINT(20) NOT NULL\n, `user_id` BIGINT(20) NULL\n, `team_id` BIGINT(20) NULL\n, `permission` SMALLINT NOT NULL DEFAULT 4\n, `role` VARCHAR(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:38'),
(260,	'add index dashboard_acl_dashboard_id',	'CREATE INDEX `IDX_dashboard_acl_dashboard_id` ON `dashboard_acl` (`dashboard_id`);',	1,	'',	'2023-02-16 06:32:38'),
(261,	'add unique index dashboard_acl_dashboard_id_user_id',	'CREATE UNIQUE INDEX `UQE_dashboard_acl_dashboard_id_user_id` ON `dashboard_acl` (`dashboard_id`,`user_id`);',	1,	'',	'2023-02-16 06:32:38'),
(262,	'add unique index dashboard_acl_dashboard_id_team_id',	'CREATE UNIQUE INDEX `UQE_dashboard_acl_dashboard_id_team_id` ON `dashboard_acl` (`dashboard_id`,`team_id`);',	1,	'',	'2023-02-16 06:32:38'),
(263,	'add index dashboard_acl_user_id',	'CREATE INDEX `IDX_dashboard_acl_user_id` ON `dashboard_acl` (`user_id`);',	1,	'',	'2023-02-16 06:32:38'),
(264,	'add index dashboard_acl_team_id',	'CREATE INDEX `IDX_dashboard_acl_team_id` ON `dashboard_acl` (`team_id`);',	1,	'',	'2023-02-16 06:32:38'),
(265,	'add index dashboard_acl_org_id_role',	'CREATE INDEX `IDX_dashboard_acl_org_id_role` ON `dashboard_acl` (`org_id`,`role`);',	1,	'',	'2023-02-16 06:32:38'),
(266,	'add index dashboard_permission',	'CREATE INDEX `IDX_dashboard_acl_permission` ON `dashboard_acl` (`permission`);',	1,	'',	'2023-02-16 06:32:38'),
(267,	'save default acl rules in dashboard_acl table',	'\nINSERT INTO dashboard_acl\n	(\n		org_id,\n		dashboard_id,\n		permission,\n		role,\n		created,\n		updated\n	)\n	VALUES\n		(-1,-1, 1,\'Viewer\',\'2017-06-20\',\'2017-06-20\'),\n		(-1,-1, 2,\'Editor\',\'2017-06-20\',\'2017-06-20\')\n	',	1,	'',	'2023-02-16 06:32:38'),
(268,	'delete acl rules for deleted dashboards and folders',	'DELETE FROM dashboard_acl WHERE dashboard_id NOT IN (SELECT id FROM dashboard) AND dashboard_id != -1',	1,	'',	'2023-02-16 06:32:38'),
(269,	'create tag table',	'CREATE TABLE IF NOT EXISTS `tag` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `key` VARCHAR(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `value` VARCHAR(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:38'),
(270,	'add index tag.key_value',	'CREATE UNIQUE INDEX `UQE_tag_key_value` ON `tag` (`key`,`value`);',	1,	'',	'2023-02-16 06:32:38'),
(271,	'create login attempt table',	'CREATE TABLE IF NOT EXISTS `login_attempt` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `username` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `ip_address` VARCHAR(30) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `created` DATETIME NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:38'),
(272,	'add index login_attempt.username',	'CREATE INDEX `IDX_login_attempt_username` ON `login_attempt` (`username`);',	1,	'',	'2023-02-16 06:32:38'),
(273,	'drop index IDX_login_attempt_username - v1',	'DROP INDEX `IDX_login_attempt_username` ON `login_attempt`',	1,	'',	'2023-02-16 06:32:38'),
(274,	'Rename table login_attempt to login_attempt_tmp_qwerty - v1',	'ALTER TABLE `login_attempt` RENAME TO `login_attempt_tmp_qwerty`',	1,	'',	'2023-02-16 06:32:38'),
(275,	'create login_attempt v2',	'CREATE TABLE IF NOT EXISTS `login_attempt` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `username` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `ip_address` VARCHAR(30) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `created` INT NOT NULL DEFAULT 0\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:38'),
(276,	'create index IDX_login_attempt_username - v2',	'CREATE INDEX `IDX_login_attempt_username` ON `login_attempt` (`username`);',	1,	'',	'2023-02-16 06:32:38'),
(277,	'copy login_attempt v1 to v2',	'INSERT INTO `login_attempt` (`id`\n, `username`\n, `ip_address`) SELECT `id`\n, `username`\n, `ip_address` FROM `login_attempt_tmp_qwerty`',	1,	'',	'2023-02-16 06:32:38'),
(278,	'drop login_attempt_tmp_qwerty',	'DROP TABLE IF EXISTS `login_attempt_tmp_qwerty`',	1,	'',	'2023-02-16 06:32:38'),
(279,	'create user auth table',	'CREATE TABLE IF NOT EXISTS `user_auth` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `user_id` BIGINT(20) NOT NULL\n, `auth_module` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `auth_id` VARCHAR(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `created` DATETIME NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:38'),
(280,	'create index IDX_user_auth_auth_module_auth_id - v1',	'CREATE INDEX `IDX_user_auth_auth_module_auth_id` ON `user_auth` (`auth_module`,`auth_id`);',	1,	'',	'2023-02-16 06:32:38'),
(281,	'alter user_auth.auth_id to length 190',	'ALTER TABLE user_auth MODIFY auth_id VARCHAR(190);',	1,	'',	'2023-02-16 06:32:38'),
(282,	'Add OAuth access token to user_auth',	'alter table `user_auth` ADD COLUMN `o_auth_access_token` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL ',	1,	'',	'2023-02-16 06:32:38'),
(283,	'Add OAuth refresh token to user_auth',	'alter table `user_auth` ADD COLUMN `o_auth_refresh_token` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL ',	1,	'',	'2023-02-16 06:32:38'),
(284,	'Add OAuth token type to user_auth',	'alter table `user_auth` ADD COLUMN `o_auth_token_type` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL ',	1,	'',	'2023-02-16 06:32:38'),
(285,	'Add OAuth expiry to user_auth',	'alter table `user_auth` ADD COLUMN `o_auth_expiry` DATETIME NULL ',	1,	'',	'2023-02-16 06:32:38'),
(286,	'Add index to user_id column in user_auth',	'CREATE INDEX `IDX_user_auth_user_id` ON `user_auth` (`user_id`);',	1,	'',	'2023-02-16 06:32:38'),
(287,	'Add OAuth ID token to user_auth',	'alter table `user_auth` ADD COLUMN `o_auth_id_token` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL ',	1,	'',	'2023-02-16 06:32:38'),
(288,	'create server_lock table',	'CREATE TABLE IF NOT EXISTS `server_lock` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `operation_uid` VARCHAR(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `version` BIGINT(20) NOT NULL\n, `last_execution` BIGINT(20) NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:38'),
(289,	'add index server_lock.operation_uid',	'CREATE UNIQUE INDEX `UQE_server_lock_operation_uid` ON `server_lock` (`operation_uid`);',	1,	'',	'2023-02-16 06:32:38'),
(290,	'create user auth token table',	'CREATE TABLE IF NOT EXISTS `user_auth_token` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `user_id` BIGINT(20) NOT NULL\n, `auth_token` VARCHAR(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `prev_auth_token` VARCHAR(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `user_agent` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `client_ip` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `auth_token_seen` TINYINT(1) NOT NULL\n, `seen_at` INT NULL\n, `rotated_at` INT NOT NULL\n, `created_at` INT NOT NULL\n, `updated_at` INT NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:38'),
(291,	'add unique index user_auth_token.auth_token',	'CREATE UNIQUE INDEX `UQE_user_auth_token_auth_token` ON `user_auth_token` (`auth_token`);',	1,	'',	'2023-02-16 06:32:38'),
(292,	'add unique index user_auth_token.prev_auth_token',	'CREATE UNIQUE INDEX `UQE_user_auth_token_prev_auth_token` ON `user_auth_token` (`prev_auth_token`);',	1,	'',	'2023-02-16 06:32:38'),
(293,	'add index user_auth_token.user_id',	'CREATE INDEX `IDX_user_auth_token_user_id` ON `user_auth_token` (`user_id`);',	1,	'',	'2023-02-16 06:32:38'),
(294,	'Add revoked_at to the user auth token',	'alter table `user_auth_token` ADD COLUMN `revoked_at` INT NULL ',	1,	'',	'2023-02-16 06:32:38'),
(295,	'create cache_data table',	'CREATE TABLE IF NOT EXISTS `cache_data` (\n`cache_key` VARCHAR(168) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci PRIMARY KEY NOT NULL\n, `data` BLOB NOT NULL\n, `expires` INTEGER(255) NOT NULL\n, `created_at` INTEGER(255) NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:38'),
(296,	'add unique index cache_data.cache_key',	'CREATE UNIQUE INDEX `UQE_cache_data_cache_key` ON `cache_data` (`cache_key`);',	1,	'',	'2023-02-16 06:32:38'),
(297,	'create short_url table v1',	'CREATE TABLE IF NOT EXISTS `short_url` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `org_id` BIGINT(20) NOT NULL\n, `uid` VARCHAR(40) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `path` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `created_by` INT NOT NULL\n, `created_at` INT NOT NULL\n, `last_seen_at` INT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:38'),
(298,	'add index short_url.org_id-uid',	'CREATE UNIQUE INDEX `UQE_short_url_org_id_uid` ON `short_url` (`org_id`,`uid`);',	1,	'',	'2023-02-16 06:32:38'),
(299,	'alter table short_url alter column created_by type to bigint',	'ALTER TABLE short_url MODIFY created_by BIGINT;',	1,	'',	'2023-02-16 06:32:38'),
(300,	'delete alert_definition table',	'DROP TABLE IF EXISTS `alert_definition`',	1,	'',	'2023-02-16 06:32:38'),
(301,	'recreate alert_definition table',	'CREATE TABLE IF NOT EXISTS `alert_definition` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `org_id` BIGINT(20) NOT NULL\n, `title` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `condition` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `data` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `updated` DATETIME NOT NULL\n, `interval_seconds` BIGINT(20) NOT NULL DEFAULT 60\n, `version` INT NOT NULL DEFAULT 0\n, `uid` VARCHAR(40) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 0\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:38'),
(302,	'add index in alert_definition on org_id and title columns',	'CREATE INDEX `IDX_alert_definition_org_id_title` ON `alert_definition` (`org_id`,`title`);',	1,	'',	'2023-02-16 06:32:39'),
(303,	'add index in alert_definition on org_id and uid columns',	'CREATE INDEX `IDX_alert_definition_org_id_uid` ON `alert_definition` (`org_id`,`uid`);',	1,	'',	'2023-02-16 06:32:39'),
(304,	'alter alert_definition table data column to mediumtext in mysql',	'ALTER TABLE alert_definition MODIFY data MEDIUMTEXT;',	1,	'',	'2023-02-16 06:32:39'),
(305,	'drop index in alert_definition on org_id and title columns',	'DROP INDEX `IDX_alert_definition_org_id_title` ON `alert_definition`',	1,	'',	'2023-02-16 06:32:39'),
(306,	'drop index in alert_definition on org_id and uid columns',	'DROP INDEX `IDX_alert_definition_org_id_uid` ON `alert_definition`',	1,	'',	'2023-02-16 06:32:39'),
(307,	'add unique index in alert_definition on org_id and title columns',	'CREATE UNIQUE INDEX `UQE_alert_definition_org_id_title` ON `alert_definition` (`org_id`,`title`);',	1,	'',	'2023-02-16 06:32:39'),
(308,	'add unique index in alert_definition on org_id and uid columns',	'CREATE UNIQUE INDEX `UQE_alert_definition_org_id_uid` ON `alert_definition` (`org_id`,`uid`);',	1,	'',	'2023-02-16 06:32:39'),
(309,	'Add column paused in alert_definition',	'alter table `alert_definition` ADD COLUMN `paused` TINYINT(1) NOT NULL DEFAULT 0 ',	1,	'',	'2023-02-16 06:32:39'),
(310,	'drop alert_definition table',	'DROP TABLE IF EXISTS `alert_definition`',	1,	'',	'2023-02-16 06:32:39'),
(311,	'delete alert_definition_version table',	'DROP TABLE IF EXISTS `alert_definition_version`',	1,	'',	'2023-02-16 06:32:39'),
(312,	'recreate alert_definition_version table',	'CREATE TABLE IF NOT EXISTS `alert_definition_version` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `alert_definition_id` BIGINT(20) NOT NULL\n, `alert_definition_uid` VARCHAR(40) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 0\n, `parent_version` INT NOT NULL\n, `restored_from` INT NOT NULL\n, `version` INT NOT NULL\n, `created` DATETIME NOT NULL\n, `title` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `condition` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `data` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `interval_seconds` BIGINT(20) NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:39'),
(313,	'add index in alert_definition_version table on alert_definition_id and version columns',	'CREATE UNIQUE INDEX `UQE_alert_definition_version_alert_definition_id_version` ON `alert_definition_version` (`alert_definition_id`,`version`);',	1,	'',	'2023-02-16 06:32:39'),
(314,	'add index in alert_definition_version table on alert_definition_uid and version columns',	'CREATE UNIQUE INDEX `UQE_alert_definition_version_alert_definition_uid_version` ON `alert_definition_version` (`alert_definition_uid`,`version`);',	1,	'',	'2023-02-16 06:32:39'),
(315,	'alter alert_definition_version table data column to mediumtext in mysql',	'ALTER TABLE alert_definition_version MODIFY data MEDIUMTEXT;',	1,	'',	'2023-02-16 06:32:39'),
(316,	'drop alert_definition_version table',	'DROP TABLE IF EXISTS `alert_definition_version`',	1,	'',	'2023-02-16 06:32:39'),
(317,	'create alert_instance table',	'CREATE TABLE IF NOT EXISTS `alert_instance` (\n`def_org_id` BIGINT(20) NOT NULL\n, `def_uid` VARCHAR(40) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 0\n, `labels` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `labels_hash` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `current_state` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `current_state_since` BIGINT(20) NOT NULL\n, `last_eval_time` BIGINT(20) NOT NULL\n, PRIMARY KEY ( `def_org_id`,`def_uid`,`labels_hash` )) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:39'),
(318,	'add index in alert_instance table on def_org_id, def_uid and current_state columns',	'CREATE INDEX `IDX_alert_instance_def_org_id_def_uid_current_state` ON `alert_instance` (`def_org_id`,`def_uid`,`current_state`);',	1,	'',	'2023-02-16 06:32:39'),
(319,	'add index in alert_instance table on def_org_id, current_state columns',	'CREATE INDEX `IDX_alert_instance_def_org_id_current_state` ON `alert_instance` (`def_org_id`,`current_state`);',	1,	'',	'2023-02-16 06:32:39'),
(320,	'add column current_state_end to alert_instance',	'alter table `alert_instance` ADD COLUMN `current_state_end` BIGINT(20) NOT NULL DEFAULT 0 ',	1,	'',	'2023-02-16 06:32:39'),
(321,	'remove index def_org_id, def_uid, current_state on alert_instance',	'DROP INDEX `IDX_alert_instance_def_org_id_def_uid_current_state` ON `alert_instance`',	1,	'',	'2023-02-16 06:32:39'),
(322,	'remove index def_org_id, current_state on alert_instance',	'DROP INDEX `IDX_alert_instance_def_org_id_current_state` ON `alert_instance`',	1,	'',	'2023-02-16 06:32:39'),
(323,	'rename def_org_id to rule_org_id in alert_instance',	'ALTER TABLE alert_instance CHANGE def_org_id rule_org_id BIGINT;',	1,	'',	'2023-02-16 06:32:39'),
(324,	'rename def_uid to rule_uid in alert_instance',	'ALTER TABLE alert_instance CHANGE def_uid rule_uid VARCHAR(40);',	1,	'',	'2023-02-16 06:32:39'),
(325,	'add index rule_org_id, rule_uid, current_state on alert_instance',	'CREATE INDEX `IDX_alert_instance_rule_org_id_rule_uid_current_state` ON `alert_instance` (`rule_org_id`,`rule_uid`,`current_state`);',	1,	'',	'2023-02-16 06:32:39'),
(326,	'add index rule_org_id, current_state on alert_instance',	'CREATE INDEX `IDX_alert_instance_rule_org_id_current_state` ON `alert_instance` (`rule_org_id`,`current_state`);',	1,	'',	'2023-02-16 06:32:39'),
(327,	'add current_reason column related to current_state',	'alter table `alert_instance` ADD COLUMN `current_reason` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL ',	1,	'',	'2023-02-16 06:32:39'),
(328,	'create alert_rule table',	'CREATE TABLE IF NOT EXISTS `alert_rule` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `org_id` BIGINT(20) NOT NULL\n, `title` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `condition` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `data` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `updated` DATETIME NOT NULL\n, `interval_seconds` BIGINT(20) NOT NULL DEFAULT 60\n, `version` INT NOT NULL DEFAULT 0\n, `uid` VARCHAR(40) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 0\n, `namespace_uid` VARCHAR(40) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `rule_group` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `no_data_state` VARCHAR(15) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT \'NoData\'\n, `exec_err_state` VARCHAR(15) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT \'Alerting\'\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:39'),
(329,	'add index in alert_rule on org_id and title columns',	'CREATE UNIQUE INDEX `UQE_alert_rule_org_id_title` ON `alert_rule` (`org_id`,`title`);',	1,	'',	'2023-02-16 06:32:39'),
(330,	'add index in alert_rule on org_id and uid columns',	'CREATE UNIQUE INDEX `UQE_alert_rule_org_id_uid` ON `alert_rule` (`org_id`,`uid`);',	1,	'',	'2023-02-16 06:32:39'),
(331,	'add index in alert_rule on org_id, namespace_uid, group_uid columns',	'CREATE INDEX `IDX_alert_rule_org_id_namespace_uid_rule_group` ON `alert_rule` (`org_id`,`namespace_uid`,`rule_group`);',	1,	'',	'2023-02-16 06:32:39'),
(332,	'alter alert_rule table data column to mediumtext in mysql',	'ALTER TABLE alert_rule MODIFY data MEDIUMTEXT;',	1,	'',	'2023-02-16 06:32:39'),
(333,	'add column for to alert_rule',	'alter table `alert_rule` ADD COLUMN `for` BIGINT(20) NOT NULL DEFAULT 0 ',	1,	'',	'2023-02-16 06:32:39'),
(334,	'add column annotations to alert_rule',	'alter table `alert_rule` ADD COLUMN `annotations` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL ',	1,	'',	'2023-02-16 06:32:39'),
(335,	'add column labels to alert_rule',	'alter table `alert_rule` ADD COLUMN `labels` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL ',	1,	'',	'2023-02-16 06:32:39'),
(336,	'remove unique index from alert_rule on org_id, title columns',	'DROP INDEX `UQE_alert_rule_org_id_title` ON `alert_rule`',	1,	'',	'2023-02-16 06:32:39'),
(337,	'add index in alert_rule on org_id, namespase_uid and title columns',	'CREATE UNIQUE INDEX `UQE_alert_rule_org_id_namespace_uid_title` ON `alert_rule` (`org_id`,`namespace_uid`,`title`);',	1,	'',	'2023-02-16 06:32:39'),
(338,	'add dashboard_uid column to alert_rule',	'alter table `alert_rule` ADD COLUMN `dashboard_uid` VARCHAR(40) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL ',	1,	'',	'2023-02-16 06:32:39'),
(339,	'add panel_id column to alert_rule',	'alter table `alert_rule` ADD COLUMN `panel_id` BIGINT(20) NULL ',	1,	'',	'2023-02-16 06:32:39'),
(340,	'add index in alert_rule on org_id, dashboard_uid and panel_id columns',	'CREATE INDEX `IDX_alert_rule_org_id_dashboard_uid_panel_id` ON `alert_rule` (`org_id`,`dashboard_uid`,`panel_id`);',	1,	'',	'2023-02-16 06:32:39'),
(341,	'add rule_group_idx column to alert_rule',	'alter table `alert_rule` ADD COLUMN `rule_group_idx` INT NOT NULL DEFAULT 1 ',	1,	'',	'2023-02-16 06:32:39'),
(342,	'create alert_rule_version table',	'CREATE TABLE IF NOT EXISTS `alert_rule_version` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `rule_org_id` BIGINT(20) NOT NULL\n, `rule_uid` VARCHAR(40) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 0\n, `rule_namespace_uid` VARCHAR(40) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `rule_group` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `parent_version` INT NOT NULL\n, `restored_from` INT NOT NULL\n, `version` INT NOT NULL\n, `created` DATETIME NOT NULL\n, `title` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `condition` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `data` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `interval_seconds` BIGINT(20) NOT NULL\n, `no_data_state` VARCHAR(15) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT \'NoData\'\n, `exec_err_state` VARCHAR(15) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT \'Alerting\'\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:39'),
(343,	'add index in alert_rule_version table on rule_org_id, rule_uid and version columns',	'CREATE UNIQUE INDEX `UQE_alert_rule_version_rule_org_id_rule_uid_version` ON `alert_rule_version` (`rule_org_id`,`rule_uid`,`version`);',	1,	'',	'2023-02-16 06:32:39'),
(344,	'add index in alert_rule_version table on rule_org_id, rule_namespace_uid and rule_group columns',	'CREATE INDEX `IDX_alert_rule_version_rule_org_id_rule_namespace_uid_rule_group` ON `alert_rule_version` (`rule_org_id`,`rule_namespace_uid`,`rule_group`);',	1,	'',	'2023-02-16 06:32:39'),
(345,	'alter alert_rule_version table data column to mediumtext in mysql',	'ALTER TABLE alert_rule_version MODIFY data MEDIUMTEXT;',	1,	'',	'2023-02-16 06:32:39'),
(346,	'add column for to alert_rule_version',	'alter table `alert_rule_version` ADD COLUMN `for` BIGINT(20) NOT NULL DEFAULT 0 ',	1,	'',	'2023-02-16 06:32:39'),
(347,	'add column annotations to alert_rule_version',	'alter table `alert_rule_version` ADD COLUMN `annotations` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL ',	1,	'',	'2023-02-16 06:32:39'),
(348,	'add column labels to alert_rule_version',	'alter table `alert_rule_version` ADD COLUMN `labels` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL ',	1,	'',	'2023-02-16 06:32:39'),
(349,	'add rule_group_idx column to alert_rule_version',	'alter table `alert_rule_version` ADD COLUMN `rule_group_idx` INT NOT NULL DEFAULT 1 ',	1,	'',	'2023-02-16 06:32:39'),
(350,	'create_alert_configuration_table',	'CREATE TABLE IF NOT EXISTS `alert_configuration` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `alertmanager_configuration` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `configuration_version` VARCHAR(3) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `created_at` INT NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:39'),
(351,	'Add column default in alert_configuration',	'alter table `alert_configuration` ADD COLUMN `default` TINYINT(1) NOT NULL DEFAULT 0 ',	1,	'',	'2023-02-16 06:32:39'),
(352,	'alert alert_configuration alertmanager_configuration column from TEXT to MEDIUMTEXT if mysql',	'ALTER TABLE alert_configuration MODIFY alertmanager_configuration MEDIUMTEXT;',	1,	'',	'2023-02-16 06:32:39'),
(353,	'add column org_id in alert_configuration',	'alter table `alert_configuration` ADD COLUMN `org_id` BIGINT(20) NOT NULL DEFAULT 0 ',	1,	'',	'2023-02-16 06:32:39'),
(354,	'add index in alert_configuration table on org_id column',	'CREATE INDEX `IDX_alert_configuration_org_id` ON `alert_configuration` (`org_id`);',	1,	'',	'2023-02-16 06:32:39'),
(355,	'add configuration_hash column to alert_configuration',	'alter table `alert_configuration` ADD COLUMN `configuration_hash` VARCHAR(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT \'not-yet-calculated\' ',	1,	'',	'2023-02-16 06:32:39'),
(356,	'create_ngalert_configuration_table',	'CREATE TABLE IF NOT EXISTS `ngalert_configuration` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `org_id` BIGINT(20) NOT NULL\n, `alertmanagers` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL\n, `created_at` INT NOT NULL\n, `updated_at` INT NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:39'),
(357,	'add index in ngalert_configuration on org_id column',	'CREATE UNIQUE INDEX `UQE_ngalert_configuration_org_id` ON `ngalert_configuration` (`org_id`);',	1,	'',	'2023-02-16 06:32:39'),
(358,	'add column send_alerts_to in ngalert_configuration',	'alter table `ngalert_configuration` ADD COLUMN `send_alerts_to` SMALLINT NOT NULL DEFAULT 0 ',	1,	'',	'2023-02-16 06:32:39'),
(359,	'create provenance_type table',	'CREATE TABLE IF NOT EXISTS `provenance_type` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `org_id` BIGINT(20) NOT NULL\n, `record_key` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `record_type` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `provenance` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:39'),
(360,	'add index to uniquify (record_key, record_type, org_id) columns',	'CREATE UNIQUE INDEX `UQE_provenance_type_record_type_record_key_org_id` ON `provenance_type` (`record_type`,`record_key`,`org_id`);',	1,	'',	'2023-02-16 06:32:39'),
(361,	'create alert_image table',	'CREATE TABLE IF NOT EXISTS `alert_image` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `token` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `path` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `url` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `created_at` DATETIME NOT NULL\n, `expires_at` DATETIME NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:39'),
(362,	'add unique index on token to alert_image table',	'CREATE UNIQUE INDEX `UQE_alert_image_token` ON `alert_image` (`token`);',	1,	'',	'2023-02-16 06:32:39'),
(363,	'support longer URLs in alert_image table',	'ALTER TABLE alert_image MODIFY url VARCHAR(2048) NOT NULL;',	1,	'',	'2023-02-16 06:32:39'),
(364,	'move dashboard alerts to unified alerting',	'code migration',	1,	'',	'2023-02-16 06:32:39'),
(365,	'create library_element table v1',	'CREATE TABLE IF NOT EXISTS `library_element` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `org_id` BIGINT(20) NOT NULL\n, `folder_id` BIGINT(20) NOT NULL\n, `uid` VARCHAR(40) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `name` VARCHAR(150) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `kind` BIGINT(20) NOT NULL\n, `type` VARCHAR(40) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `description` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `model` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `created` DATETIME NOT NULL\n, `created_by` BIGINT(20) NOT NULL\n, `updated` DATETIME NOT NULL\n, `updated_by` BIGINT(20) NOT NULL\n, `version` BIGINT(20) NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:39'),
(366,	'add index library_element org_id-folder_id-name-kind',	'CREATE UNIQUE INDEX `UQE_library_element_org_id_folder_id_name_kind` ON `library_element` (`org_id`,`folder_id`,`name`,`kind`);',	1,	'',	'2023-02-16 06:32:39'),
(367,	'create library_element_connection table v1',	'CREATE TABLE IF NOT EXISTS `library_element_connection` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `element_id` BIGINT(20) NOT NULL\n, `kind` BIGINT(20) NOT NULL\n, `connection_id` BIGINT(20) NOT NULL\n, `created` DATETIME NOT NULL\n, `created_by` BIGINT(20) NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:39'),
(368,	'add index library_element_connection element_id-kind-connection_id',	'CREATE UNIQUE INDEX `UQE_library_element_connection_element_id_kind_connection_id` ON `library_element_connection` (`element_id`,`kind`,`connection_id`);',	1,	'',	'2023-02-16 06:32:39'),
(369,	'add unique index library_element org_id_uid',	'CREATE UNIQUE INDEX `UQE_library_element_org_id_uid` ON `library_element` (`org_id`,`uid`);',	1,	'',	'2023-02-16 06:32:39'),
(370,	'increase max description length to 2048',	'ALTER TABLE `library_element` DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci, MODIFY `description` VARCHAR(2048) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL ;',	1,	'',	'2023-02-16 06:32:39'),
(371,	'clone move dashboard alerts to unified alerting',	'code migration',	1,	'',	'2023-02-16 06:32:39'),
(372,	'create data_keys table',	'CREATE TABLE IF NOT EXISTS `data_keys` (\n`name` VARCHAR(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci PRIMARY KEY NOT NULL\n, `active` TINYINT(1) NOT NULL\n, `scope` VARCHAR(30) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `provider` VARCHAR(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `encrypted_data` BLOB NOT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:39'),
(373,	'create secrets table',	'CREATE TABLE IF NOT EXISTS `secrets` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `org_id` BIGINT(20) NOT NULL\n, `namespace` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `type` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `value` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:39'),
(374,	'rename data_keys name column to id',	'ALTER TABLE `data_keys` CHANGE `name` `id` VARCHAR(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci',	1,	'',	'2023-02-16 06:32:39'),
(375,	'add name column into data_keys',	'alter table `data_keys` ADD COLUMN `name` VARCHAR(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT \'\' ',	1,	'',	'2023-02-16 06:32:39'),
(376,	'copy data_keys id column values into name',	'UPDATE data_keys SET name = id',	1,	'',	'2023-02-16 06:32:39'),
(377,	'rename data_keys name column to label',	'ALTER TABLE `data_keys` CHANGE `name` `label` VARCHAR(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci',	1,	'',	'2023-02-16 06:32:39'),
(378,	'rename data_keys id column back to name',	'ALTER TABLE `data_keys` CHANGE `id` `name` VARCHAR(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci',	1,	'',	'2023-02-16 06:32:39'),
(379,	'create kv_store table v1',	'CREATE TABLE IF NOT EXISTS `kv_store` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `org_id` BIGINT(20) NOT NULL\n, `namespace` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `key` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `value` MEDIUMTEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:39'),
(380,	'add index kv_store.org_id-namespace-key',	'CREATE UNIQUE INDEX `UQE_kv_store_org_id_namespace_key` ON `kv_store` (`org_id`,`namespace`,`key`);',	1,	'',	'2023-02-16 06:32:39'),
(381,	'update dashboard_uid and panel_id from existing annotations',	'set dashboard_uid and panel_id migration',	1,	'',	'2023-02-16 06:32:39'),
(382,	'create permission table',	'CREATE TABLE IF NOT EXISTS `permission` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `role_id` BIGINT(20) NOT NULL\n, `action` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `scope` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:39'),
(383,	'add unique index permission.role_id',	'CREATE INDEX `IDX_permission_role_id` ON `permission` (`role_id`);',	1,	'',	'2023-02-16 06:32:39'),
(384,	'add unique index role_id_action_scope',	'CREATE UNIQUE INDEX `UQE_permission_role_id_action_scope` ON `permission` (`role_id`,`action`,`scope`);',	1,	'',	'2023-02-16 06:32:39'),
(385,	'create role table',	'CREATE TABLE IF NOT EXISTS `role` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `name` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `description` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL\n, `version` BIGINT(20) NOT NULL\n, `org_id` BIGINT(20) NOT NULL\n, `uid` VARCHAR(40) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:39'),
(386,	'add column display_name',	'alter table `role` ADD COLUMN `display_name` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL ',	1,	'',	'2023-02-16 06:32:39'),
(387,	'add column group_name',	'alter table `role` ADD COLUMN `group_name` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL ',	1,	'',	'2023-02-16 06:32:39'),
(388,	'add index role.org_id',	'CREATE INDEX `IDX_role_org_id` ON `role` (`org_id`);',	1,	'',	'2023-02-16 06:32:39'),
(389,	'add unique index role_org_id_name',	'CREATE UNIQUE INDEX `UQE_role_org_id_name` ON `role` (`org_id`,`name`);',	1,	'',	'2023-02-16 06:32:39'),
(390,	'add index role_org_id_uid',	'CREATE UNIQUE INDEX `UQE_role_org_id_uid` ON `role` (`org_id`,`uid`);',	1,	'',	'2023-02-16 06:32:39'),
(391,	'create team role table',	'CREATE TABLE IF NOT EXISTS `team_role` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `org_id` BIGINT(20) NOT NULL\n, `team_id` BIGINT(20) NOT NULL\n, `role_id` BIGINT(20) NOT NULL\n, `created` DATETIME NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:39'),
(392,	'add index team_role.org_id',	'CREATE INDEX `IDX_team_role_org_id` ON `team_role` (`org_id`);',	1,	'',	'2023-02-16 06:32:39'),
(393,	'add unique index team_role_org_id_team_id_role_id',	'CREATE UNIQUE INDEX `UQE_team_role_org_id_team_id_role_id` ON `team_role` (`org_id`,`team_id`,`role_id`);',	1,	'',	'2023-02-16 06:32:39'),
(394,	'add index team_role.team_id',	'CREATE INDEX `IDX_team_role_team_id` ON `team_role` (`team_id`);',	1,	'',	'2023-02-16 06:32:39'),
(395,	'create user role table',	'CREATE TABLE IF NOT EXISTS `user_role` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `org_id` BIGINT(20) NOT NULL\n, `user_id` BIGINT(20) NOT NULL\n, `role_id` BIGINT(20) NOT NULL\n, `created` DATETIME NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:39'),
(396,	'add index user_role.org_id',	'CREATE INDEX `IDX_user_role_org_id` ON `user_role` (`org_id`);',	1,	'',	'2023-02-16 06:32:39'),
(397,	'add unique index user_role_org_id_user_id_role_id',	'CREATE UNIQUE INDEX `UQE_user_role_org_id_user_id_role_id` ON `user_role` (`org_id`,`user_id`,`role_id`);',	1,	'',	'2023-02-16 06:32:39'),
(398,	'add index user_role.user_id',	'CREATE INDEX `IDX_user_role_user_id` ON `user_role` (`user_id`);',	1,	'',	'2023-02-16 06:32:39'),
(399,	'create builtin role table',	'CREATE TABLE IF NOT EXISTS `builtin_role` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `role` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `role_id` BIGINT(20) NOT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:39'),
(400,	'add index builtin_role.role_id',	'CREATE INDEX `IDX_builtin_role_role_id` ON `builtin_role` (`role_id`);',	1,	'',	'2023-02-16 06:32:39'),
(401,	'add index builtin_role.name',	'CREATE INDEX `IDX_builtin_role_role` ON `builtin_role` (`role`);',	1,	'',	'2023-02-16 06:32:39'),
(402,	'Add column org_id to builtin_role table',	'alter table `builtin_role` ADD COLUMN `org_id` BIGINT(20) NOT NULL DEFAULT 0 ',	1,	'',	'2023-02-16 06:32:39'),
(403,	'add index builtin_role.org_id',	'CREATE INDEX `IDX_builtin_role_org_id` ON `builtin_role` (`org_id`);',	1,	'',	'2023-02-16 06:32:39'),
(404,	'add unique index builtin_role_org_id_role_id_role',	'CREATE UNIQUE INDEX `UQE_builtin_role_org_id_role_id_role` ON `builtin_role` (`org_id`,`role_id`,`role`);',	1,	'',	'2023-02-16 06:32:39'),
(405,	'Remove unique index role_org_id_uid',	'DROP INDEX `UQE_role_org_id_uid` ON `role`',	1,	'',	'2023-02-16 06:32:39'),
(406,	'add unique index role.uid',	'CREATE UNIQUE INDEX `UQE_role_uid` ON `role` (`uid`);',	1,	'',	'2023-02-16 06:32:39'),
(407,	'create seed assignment table',	'CREATE TABLE IF NOT EXISTS `seed_assignment` (\n`builtin_role` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `role_name` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:39'),
(408,	'add unique index builtin_role_role_name',	'CREATE UNIQUE INDEX `UQE_seed_assignment_builtin_role_role_name` ON `seed_assignment` (`builtin_role`,`role_name`);',	1,	'',	'2023-02-16 06:32:39'),
(409,	'add column hidden to role table',	'alter table `role` ADD COLUMN `hidden` TINYINT(1) NOT NULL DEFAULT 0 ',	1,	'',	'2023-02-16 06:32:39'),
(410,	'create query_history table v1',	'CREATE TABLE IF NOT EXISTS `query_history` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `uid` VARCHAR(40) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `org_id` BIGINT(20) NOT NULL\n, `datasource_uid` VARCHAR(40) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `created_by` INT NOT NULL\n, `created_at` INT NOT NULL\n, `comment` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `queries` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:39'),
(411,	'add index query_history.org_id-created_by-datasource_uid',	'CREATE INDEX `IDX_query_history_org_id_created_by_datasource_uid` ON `query_history` (`org_id`,`created_by`,`datasource_uid`);',	1,	'',	'2023-02-16 06:32:39'),
(412,	'alter table query_history alter column created_by type to bigint',	'ALTER TABLE query_history MODIFY created_by BIGINT;',	1,	'',	'2023-02-16 06:32:39'),
(413,	'teams permissions migration',	'code migration',	1,	'',	'2023-02-16 06:32:39'),
(414,	'dashboard permissions',	'code migration',	1,	'',	'2023-02-16 06:32:39'),
(415,	'dashboard permissions uid scopes',	'code migration',	1,	'',	'2023-02-16 06:32:39'),
(416,	'drop managed folder create actions',	'code migration',	1,	'',	'2023-02-16 06:32:39'),
(417,	'alerting notification permissions',	'code migration',	1,	'',	'2023-02-16 06:32:39'),
(418,	'create query_history_star table v1',	'CREATE TABLE IF NOT EXISTS `query_history_star` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `query_uid` VARCHAR(40) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `user_id` INT NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:39'),
(419,	'add index query_history.user_id-query_uid',	'CREATE UNIQUE INDEX `UQE_query_history_star_user_id_query_uid` ON `query_history_star` (`user_id`,`query_uid`);',	1,	'',	'2023-02-16 06:32:39'),
(420,	'add column org_id in query_history_star',	'alter table `query_history_star` ADD COLUMN `org_id` BIGINT(20) NOT NULL DEFAULT 1 ',	1,	'',	'2023-02-16 06:32:39'),
(421,	'alter table query_history_star_mig column user_id type to bigint',	'ALTER TABLE query_history_star MODIFY user_id BIGINT;',	1,	'',	'2023-02-16 06:32:39'),
(422,	'create correlation table v1',	'CREATE TABLE IF NOT EXISTS `correlation` (\n`uid` VARCHAR(40) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `source_uid` VARCHAR(40) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `target_uid` VARCHAR(40) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL\n, `label` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `description` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, PRIMARY KEY ( `uid`,`source_uid` )) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:39'),
(423,	'add index correlations.uid',	'CREATE INDEX `IDX_correlation_uid` ON `correlation` (`uid`);',	1,	'',	'2023-02-16 06:32:39'),
(424,	'add index correlations.source_uid',	'CREATE INDEX `IDX_correlation_source_uid` ON `correlation` (`source_uid`);',	1,	'',	'2023-02-16 06:32:39'),
(425,	'add correlation config column',	'alter table `correlation` ADD COLUMN `config` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL ',	1,	'',	'2023-02-16 06:32:39'),
(426,	'create entity_events table',	'CREATE TABLE IF NOT EXISTS `entity_event` (\n`id` BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL\n, `entity_id` VARCHAR(1024) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `event_type` VARCHAR(8) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `created` BIGINT(20) NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:39'),
(427,	'create dashboard public config v1',	'CREATE TABLE IF NOT EXISTS `dashboard_public_config` (\n`uid` VARCHAR(40) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci PRIMARY KEY NOT NULL\n, `dashboard_uid` VARCHAR(40) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `org_id` BIGINT(20) NOT NULL\n, `time_settings` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `refresh_rate` INT NOT NULL DEFAULT 30\n, `template_variables` MEDIUMTEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:39'),
(428,	'drop index UQE_dashboard_public_config_uid - v1',	'DROP INDEX `UQE_dashboard_public_config_uid` ON `dashboard_public_config`',	1,	'',	'2023-02-16 06:32:39'),
(429,	'drop index IDX_dashboard_public_config_org_id_dashboard_uid - v1',	'DROP INDEX `IDX_dashboard_public_config_org_id_dashboard_uid` ON `dashboard_public_config`',	1,	'',	'2023-02-16 06:32:39'),
(430,	'Drop old dashboard public config table',	'DROP TABLE IF EXISTS `dashboard_public_config`',	1,	'',	'2023-02-16 06:32:39'),
(431,	'recreate dashboard public config v1',	'CREATE TABLE IF NOT EXISTS `dashboard_public_config` (\n`uid` VARCHAR(40) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci PRIMARY KEY NOT NULL\n, `dashboard_uid` VARCHAR(40) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `org_id` BIGINT(20) NOT NULL\n, `time_settings` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `refresh_rate` INT NOT NULL DEFAULT 30\n, `template_variables` MEDIUMTEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:39'),
(432,	'create index UQE_dashboard_public_config_uid - v1',	'CREATE UNIQUE INDEX `UQE_dashboard_public_config_uid` ON `dashboard_public_config` (`uid`);',	1,	'',	'2023-02-16 06:32:39'),
(433,	'create index IDX_dashboard_public_config_org_id_dashboard_uid - v1',	'CREATE INDEX `IDX_dashboard_public_config_org_id_dashboard_uid` ON `dashboard_public_config` (`org_id`,`dashboard_uid`);',	1,	'',	'2023-02-16 06:32:39'),
(434,	'drop index UQE_dashboard_public_config_uid - v2',	'DROP INDEX `UQE_dashboard_public_config_uid` ON `dashboard_public_config`',	1,	'',	'2023-02-16 06:32:39'),
(435,	'drop index IDX_dashboard_public_config_org_id_dashboard_uid - v2',	'DROP INDEX `IDX_dashboard_public_config_org_id_dashboard_uid` ON `dashboard_public_config`',	1,	'',	'2023-02-16 06:32:39'),
(436,	'Drop public config table',	'DROP TABLE IF EXISTS `dashboard_public_config`',	1,	'',	'2023-02-16 06:32:39'),
(437,	'Recreate dashboard public config v2',	'CREATE TABLE IF NOT EXISTS `dashboard_public_config` (\n`uid` VARCHAR(40) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci PRIMARY KEY NOT NULL\n, `dashboard_uid` VARCHAR(40) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `org_id` BIGINT(20) NOT NULL\n, `time_settings` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL\n, `template_variables` MEDIUMTEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL\n, `access_token` VARCHAR(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `created_by` INT NOT NULL\n, `updated_by` INT NULL\n, `created_at` DATETIME NOT NULL\n, `updated_at` DATETIME NULL\n, `is_enabled` TINYINT(1) NOT NULL DEFAULT 0\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:39'),
(438,	'create index UQE_dashboard_public_config_uid - v2',	'CREATE UNIQUE INDEX `UQE_dashboard_public_config_uid` ON `dashboard_public_config` (`uid`);',	1,	'',	'2023-02-16 06:32:39'),
(439,	'create index IDX_dashboard_public_config_org_id_dashboard_uid - v2',	'CREATE INDEX `IDX_dashboard_public_config_org_id_dashboard_uid` ON `dashboard_public_config` (`org_id`,`dashboard_uid`);',	1,	'',	'2023-02-16 06:32:39'),
(440,	'create index UQE_dashboard_public_config_access_token - v2',	'CREATE UNIQUE INDEX `UQE_dashboard_public_config_access_token` ON `dashboard_public_config` (`access_token`);',	1,	'',	'2023-02-16 06:32:39'),
(441,	'Rename table dashboard_public_config to dashboard_public - v2',	'ALTER TABLE `dashboard_public_config` RENAME TO `dashboard_public`',	1,	'',	'2023-02-16 06:32:39'),
(442,	'add annotations_enabled column',	'alter table `dashboard_public` ADD COLUMN `annotations_enabled` TINYINT(1) NOT NULL DEFAULT 0 ',	1,	'',	'2023-02-16 06:32:39'),
(443,	'create default alerting folders',	'code migration',	1,	'',	'2023-02-16 06:32:39'),
(444,	'create file table',	'CREATE TABLE IF NOT EXISTS `file` (\n`path` VARCHAR(1024) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `path_hash` VARCHAR(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `parent_folder_path_hash` VARCHAR(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `contents` BLOB NOT NULL\n, `etag` VARCHAR(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `cache_control` VARCHAR(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `content_disposition` VARCHAR(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `updated` DATETIME NOT NULL\n, `created` DATETIME NOT NULL\n, `size` BIGINT(20) NOT NULL\n, `mime_type` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:39'),
(445,	'file table idx: path natural pk',	'CREATE UNIQUE INDEX `UQE_file_path_hash` ON `file` (`path_hash`);',	1,	'',	'2023-02-16 06:32:39'),
(446,	'file table idx: parent_folder_path_hash fast folder retrieval',	'CREATE INDEX `IDX_file_parent_folder_path_hash` ON `file` (`parent_folder_path_hash`);',	1,	'',	'2023-02-16 06:32:39'),
(447,	'create file_meta table',	'CREATE TABLE IF NOT EXISTS `file_meta` (\n`path_hash` VARCHAR(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `key` VARCHAR(191) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n, `value` VARCHAR(1024) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci;',	1,	'',	'2023-02-16 06:32:39'),
(448,	'file table idx: path key',	'CREATE UNIQUE INDEX `UQE_file_meta_path_hash_key` ON `file_meta` (`path_hash`,`key`);',	1,	'',	'2023-02-16 06:32:39'),
(449,	'set path collation in file table',	'SELECT 0;',	1,	'',	'2023-02-16 06:32:39'),
(450,	'managed permissions migration',	'code migration',	1,	'',	'2023-02-16 06:32:39'),
(451,	'managed folder permissions alert actions migration',	'code migration',	1,	'',	'2023-02-16 06:32:39'),
(452,	'RBAC action name migrator',	'code migration',	1,	'',	'2023-02-16 06:32:39'),
(453,	'Add UID column to playlist',	'alter table `playlist` ADD COLUMN `uid` VARCHAR(80) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 0 ',	1,	'',	'2023-02-16 06:32:39'),
(454,	'Update uid column values in playlist',	'UPDATE playlist SET uid=id;',	1,	'',	'2023-02-16 06:32:39'),
(455,	'Add index for uid in playlist',	'CREATE UNIQUE INDEX `UQE_playlist_org_id_uid` ON `playlist` (`org_id`,`uid`);',	1,	'',	'2023-02-16 06:32:39'),
(456,	'update group index for alert rules',	'code migration',	1,	'',	'2023-02-16 06:32:39'),
(457,	'managed folder permissions alert actions repeated migration',	'code migration',	1,	'',	'2023-02-16 06:32:39'),
(458,	'admin only folder/dashboard permission',	'code migration',	1,	'',	'2023-02-16 06:32:39'),
(459,	'add action column to seed_assignment',	'alter table `seed_assignment` ADD COLUMN `action` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL ',	1,	'',	'2023-02-16 06:32:39'),
(460,	'add scope column to seed_assignment',	'alter table `seed_assignment` ADD COLUMN `scope` VARCHAR(190) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL ',	1,	'',	'2023-02-16 06:32:39'),
(461,	'remove unique index builtin_role_role_name before nullable update',	'DROP INDEX `UQE_seed_assignment_builtin_role_role_name` ON `seed_assignment`',	1,	'',	'2023-02-16 06:32:39'),
(462,	'update seed_assignment role_name column to nullable',	'ALTER TABLE seed_assignment MODIFY role_name VARCHAR(190) DEFAULT NULL;',	1,	'',	'2023-02-16 06:32:39'),
(463,	'add unique index builtin_role_name back',	'CREATE UNIQUE INDEX `UQE_seed_assignment_builtin_role_role_name` ON `seed_assignment` (`builtin_role`,`role_name`);',	1,	'',	'2023-02-16 06:32:39'),
(464,	'add unique index builtin_role_action_scope',	'CREATE UNIQUE INDEX `UQE_seed_assignment_builtin_role_action_scope` ON `seed_assignment` (`builtin_role`,`action`,`scope`);',	1,	'',	'2023-02-16 06:32:39'),
(465,	'add primary key to seed_assigment',	'code migration',	1,	'',	'2023-02-16 06:32:39'),
(466,	'managed folder permissions alert actions repeated fixed migration',	'code migration',	1,	'',	'2023-02-16 06:32:39'),
(467,	'migrate external alertmanagers to datsourcse',	'migrate external alertmanagers to datasource',	1,	'',	'2023-02-16 06:32:39');

DROP TABLE IF EXISTS `ngalert_configuration`;
CREATE TABLE `ngalert_configuration` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `org_id` bigint(20) NOT NULL,
  `alertmanagers` text COLLATE utf8mb4_unicode_ci,
  `created_at` int(11) NOT NULL,
  `updated_at` int(11) NOT NULL,
  `send_alerts_to` smallint(6) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  UNIQUE KEY `UQE_ngalert_configuration_org_id` (`org_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


DROP TABLE IF EXISTS `org`;
CREATE TABLE `org` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `version` int(11) NOT NULL,
  `name` varchar(190) COLLATE utf8mb4_unicode_ci NOT NULL,
  `address1` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `address2` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `city` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `state` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `zip_code` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `country` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `billing_email` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `created` datetime NOT NULL,
  `updated` datetime NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `UQE_org_name` (`name`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

INSERT INTO `org` (`id`, `version`, `name`, `address1`, `address2`, `city`, `state`, `zip_code`, `country`, `billing_email`, `created`, `updated`) VALUES
(1,	0,	'Main Org.',	'',	'',	'',	'',	'',	'',	NULL,	'2023-02-16 06:32:39',	'2023-02-16 06:32:39');

DROP TABLE IF EXISTS `org_user`;
CREATE TABLE `org_user` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `org_id` bigint(20) NOT NULL,
  `user_id` bigint(20) NOT NULL,
  `role` varchar(20) COLLATE utf8mb4_unicode_ci NOT NULL,
  `created` datetime NOT NULL,
  `updated` datetime NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `UQE_org_user_org_id_user_id` (`org_id`,`user_id`),
  KEY `IDX_org_user_org_id` (`org_id`),
  KEY `IDX_org_user_user_id` (`user_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

INSERT INTO `org_user` (`id`, `org_id`, `user_id`, `role`, `created`, `updated`) VALUES
(1,	1,	1,	'Admin',	'2023-02-16 06:32:39',	'2023-02-16 06:32:39');

DROP TABLE IF EXISTS `permission`;
CREATE TABLE `permission` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `role_id` bigint(20) NOT NULL,
  `action` varchar(190) COLLATE utf8mb4_unicode_ci NOT NULL,
  `scope` varchar(190) COLLATE utf8mb4_unicode_ci NOT NULL,
  `created` datetime NOT NULL,
  `updated` datetime NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `UQE_permission_role_id_action_scope` (`role_id`,`action`,`scope`),
  KEY `IDX_permission_role_id` (`role_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

INSERT INTO `permission` (`id`, `role_id`, `action`, `scope`, `created`, `updated`) VALUES
(1,	1,	'dashboards:read',	'dashboards:uid:api',	'2023-02-16 07:45:32',	'2023-02-16 07:45:32'),
(2,	1,	'dashboards:write',	'dashboards:uid:api',	'2023-02-16 07:45:32',	'2023-02-16 07:45:32'),
(3,	1,	'dashboards:delete',	'dashboards:uid:api',	'2023-02-16 07:45:32',	'2023-02-16 07:45:32'),
(4,	1,	'dashboards.permissions:read',	'dashboards:uid:api',	'2023-02-16 07:45:32',	'2023-02-16 07:45:32'),
(5,	1,	'dashboards.permissions:write',	'dashboards:uid:api',	'2023-02-16 07:45:32',	'2023-02-16 07:45:32'),
(6,	2,	'dashboards:read',	'dashboards:uid:api',	'2023-02-16 07:45:32',	'2023-02-16 07:45:32'),
(7,	2,	'dashboards:write',	'dashboards:uid:api',	'2023-02-16 07:45:32',	'2023-02-16 07:45:32'),
(8,	2,	'dashboards:delete',	'dashboards:uid:api',	'2023-02-16 07:45:32',	'2023-02-16 07:45:32'),
(9,	3,	'dashboards:read',	'dashboards:uid:api',	'2023-02-16 07:45:32',	'2023-02-16 07:45:32'),
(10,	1,	'dashboards:write',	'dashboards:uid:instance',	'2023-02-16 07:45:54',	'2023-02-16 07:45:54'),
(11,	1,	'dashboards:delete',	'dashboards:uid:instance',	'2023-02-16 07:45:54',	'2023-02-16 07:45:54'),
(12,	1,	'dashboards.permissions:read',	'dashboards:uid:instance',	'2023-02-16 07:45:54',	'2023-02-16 07:45:54'),
(13,	1,	'dashboards.permissions:write',	'dashboards:uid:instance',	'2023-02-16 07:45:54',	'2023-02-16 07:45:54'),
(14,	1,	'dashboards:read',	'dashboards:uid:instance',	'2023-02-16 07:45:54',	'2023-02-16 07:45:54'),
(15,	2,	'dashboards:read',	'dashboards:uid:instance',	'2023-02-16 07:45:54',	'2023-02-16 07:45:54'),
(16,	2,	'dashboards:write',	'dashboards:uid:instance',	'2023-02-16 07:45:54',	'2023-02-16 07:45:54'),
(17,	2,	'dashboards:delete',	'dashboards:uid:instance',	'2023-02-16 07:45:54',	'2023-02-16 07:45:54'),
(18,	3,	'dashboards:read',	'dashboards:uid:instance',	'2023-02-16 07:45:54',	'2023-02-16 07:45:54'),
(19,	1,	'dashboards:read',	'dashboards:uid:overview',	'2023-02-16 07:46:21',	'2023-02-16 07:46:21'),
(20,	1,	'dashboards:write',	'dashboards:uid:overview',	'2023-02-16 07:46:21',	'2023-02-16 07:46:21'),
(21,	1,	'dashboards:delete',	'dashboards:uid:overview',	'2023-02-16 07:46:21',	'2023-02-16 07:46:21'),
(22,	1,	'dashboards.permissions:read',	'dashboards:uid:overview',	'2023-02-16 07:46:21',	'2023-02-16 07:46:21'),
(23,	1,	'dashboards.permissions:write',	'dashboards:uid:overview',	'2023-02-16 07:46:21',	'2023-02-16 07:46:21'),
(24,	2,	'dashboards:read',	'dashboards:uid:overview',	'2023-02-16 07:46:21',	'2023-02-16 07:46:21'),
(25,	2,	'dashboards:write',	'dashboards:uid:overview',	'2023-02-16 07:46:21',	'2023-02-16 07:46:21'),
(26,	2,	'dashboards:delete',	'dashboards:uid:overview',	'2023-02-16 07:46:21',	'2023-02-16 07:46:21'),
(27,	3,	'dashboards:read',	'dashboards:uid:overview',	'2023-02-16 07:46:21',	'2023-02-16 07:46:21');

DROP TABLE IF EXISTS `playlist`;
CREATE TABLE `playlist` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `interval` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `org_id` bigint(20) NOT NULL,
  `uid` varchar(80) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  UNIQUE KEY `UQE_playlist_org_id_uid` (`org_id`,`uid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


DROP TABLE IF EXISTS `playlist_item`;
CREATE TABLE `playlist_item` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `playlist_id` bigint(20) NOT NULL,
  `type` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `value` text COLLATE utf8mb4_unicode_ci NOT NULL,
  `title` text COLLATE utf8mb4_unicode_ci NOT NULL,
  `order` int(11) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


DROP TABLE IF EXISTS `plugin_setting`;
CREATE TABLE `plugin_setting` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `org_id` bigint(20) DEFAULT NULL,
  `plugin_id` varchar(190) COLLATE utf8mb4_unicode_ci NOT NULL,
  `enabled` tinyint(1) NOT NULL,
  `pinned` tinyint(1) NOT NULL,
  `json_data` text COLLATE utf8mb4_unicode_ci,
  `secure_json_data` text COLLATE utf8mb4_unicode_ci,
  `created` datetime NOT NULL,
  `updated` datetime NOT NULL,
  `plugin_version` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `UQE_plugin_setting_org_id_plugin_id` (`org_id`,`plugin_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


DROP TABLE IF EXISTS `preferences`;
CREATE TABLE `preferences` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `org_id` bigint(20) NOT NULL,
  `user_id` bigint(20) NOT NULL,
  `version` int(11) NOT NULL,
  `home_dashboard_id` bigint(20) NOT NULL,
  `timezone` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL,
  `theme` varchar(20) COLLATE utf8mb4_unicode_ci NOT NULL,
  `created` datetime NOT NULL,
  `updated` datetime NOT NULL,
  `team_id` bigint(20) DEFAULT NULL,
  `week_start` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `json_data` mediumtext COLLATE utf8mb4_unicode_ci,
  PRIMARY KEY (`id`),
  KEY `IDX_preferences_org_id` (`org_id`),
  KEY `IDX_preferences_user_id` (`user_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

INSERT INTO `preferences` (`id`, `org_id`, `user_id`, `version`, `home_dashboard_id`, `timezone`, `theme`, `created`, `updated`, `team_id`, `week_start`, `json_data`) VALUES
(1,	1,	1,	0,	0,	'',	'light',	'2023-02-16 07:44:26',	'2023-02-16 07:44:26',	0,	'',	'{\"locale\":\"\",\"navbar\":{\"savedItems\":null},\"queryHistory\":{\"homeTab\":\"\"}}');

DROP TABLE IF EXISTS `provenance_type`;
CREATE TABLE `provenance_type` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `org_id` bigint(20) NOT NULL,
  `record_key` varchar(190) COLLATE utf8mb4_unicode_ci NOT NULL,
  `record_type` varchar(190) COLLATE utf8mb4_unicode_ci NOT NULL,
  `provenance` varchar(190) COLLATE utf8mb4_unicode_ci NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `UQE_provenance_type_record_type_record_key_org_id` (`record_type`,`record_key`,`org_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


DROP TABLE IF EXISTS `query_history`;
CREATE TABLE `query_history` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `uid` varchar(40) COLLATE utf8mb4_unicode_ci NOT NULL,
  `org_id` bigint(20) NOT NULL,
  `datasource_uid` varchar(40) COLLATE utf8mb4_unicode_ci NOT NULL,
  `created_by` bigint(20) DEFAULT NULL,
  `created_at` int(11) NOT NULL,
  `comment` text COLLATE utf8mb4_unicode_ci NOT NULL,
  `queries` text COLLATE utf8mb4_unicode_ci NOT NULL,
  PRIMARY KEY (`id`),
  KEY `IDX_query_history_org_id_created_by_datasource_uid` (`org_id`,`created_by`,`datasource_uid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


DROP TABLE IF EXISTS `query_history_star`;
CREATE TABLE `query_history_star` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `query_uid` varchar(40) COLLATE utf8mb4_unicode_ci NOT NULL,
  `user_id` bigint(20) DEFAULT NULL,
  `org_id` bigint(20) NOT NULL DEFAULT '1',
  PRIMARY KEY (`id`),
  UNIQUE KEY `UQE_query_history_star_user_id_query_uid` (`user_id`,`query_uid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


DROP TABLE IF EXISTS `quota`;
CREATE TABLE `quota` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `org_id` bigint(20) DEFAULT NULL,
  `user_id` bigint(20) DEFAULT NULL,
  `target` varchar(190) COLLATE utf8mb4_unicode_ci NOT NULL,
  `limit` bigint(20) NOT NULL,
  `created` datetime NOT NULL,
  `updated` datetime NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `UQE_quota_org_id_user_id_target` (`org_id`,`user_id`,`target`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


DROP TABLE IF EXISTS `role`;
CREATE TABLE `role` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `name` varchar(190) COLLATE utf8mb4_unicode_ci NOT NULL,
  `description` text COLLATE utf8mb4_unicode_ci,
  `version` bigint(20) NOT NULL,
  `org_id` bigint(20) NOT NULL,
  `uid` varchar(40) COLLATE utf8mb4_unicode_ci NOT NULL,
  `created` datetime NOT NULL,
  `updated` datetime NOT NULL,
  `display_name` varchar(190) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `group_name` varchar(190) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `hidden` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  UNIQUE KEY `UQE_role_org_id_name` (`org_id`,`name`),
  UNIQUE KEY `UQE_role_uid` (`uid`),
  KEY `IDX_role_org_id` (`org_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

INSERT INTO `role` (`id`, `name`, `description`, `version`, `org_id`, `uid`, `created`, `updated`, `display_name`, `group_name`, `hidden`) VALUES
(1,	'managed:users:1:permissions',	'',	0,	1,	'zXOSKTJVz',	'2023-02-16 07:45:32',	'2023-02-16 07:45:32',	'',	'',	0),
(2,	'managed:builtins:editor:permissions',	'',	0,	1,	'ZuOSKT1Vk',	'2023-02-16 07:45:32',	'2023-02-16 07:45:32',	'',	'',	0),
(3,	'managed:builtins:viewer:permissions',	'',	0,	1,	'GXdIFT14z',	'2023-02-16 07:45:32',	'2023-02-16 07:45:32',	'',	'',	0);

DROP TABLE IF EXISTS `secrets`;
CREATE TABLE `secrets` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `org_id` bigint(20) NOT NULL,
  `namespace` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `type` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `value` text COLLATE utf8mb4_unicode_ci,
  `created` datetime NOT NULL,
  `updated` datetime NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

INSERT INTO `secrets` (`id`, `org_id`, `namespace`, `type`, `value`, `created`, `updated`) VALUES
(1,	1,	'Prometheus',	'datasource',	'I2VYaFRSRXRVU2xaNiMqWVdWekxXTm1ZZyowRzViSGNLR+OGfdfRJpWOw/T8bfNU+nxvvdK4',	'2023-02-16 07:46:34',	'2023-02-16 07:46:34'),
(2,	1,	'dev.cn-wuhan-guanggu-f1.jupiter1.0',	'datasource',	'I2VYaFRSRXRVU2xaNiMqWVdWekxXTm1ZZypEOFFYV3dvN9TAMOpFmgWAWs6on8qdTmx4lw',	'2023-02-16 07:46:38',	'2023-02-16 07:47:55');

DROP TABLE IF EXISTS `seed_assignment`;
CREATE TABLE `seed_assignment` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `builtin_role` varchar(190) COLLATE utf8mb4_unicode_ci NOT NULL,
  `role_name` varchar(190) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `action` varchar(190) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `scope` varchar(190) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `UQE_seed_assignment_builtin_role_role_name` (`builtin_role`,`role_name`),
  UNIQUE KEY `UQE_seed_assignment_builtin_role_action_scope` (`builtin_role`,`action`,`scope`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


DROP TABLE IF EXISTS `server_lock`;
CREATE TABLE `server_lock` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `operation_uid` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL,
  `version` bigint(20) NOT NULL,
  `last_execution` bigint(20) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `UQE_server_lock_operation_uid` (`operation_uid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

INSERT INTO `server_lock` (`id`, `operation_uid`, `version`, `last_execution`) VALUES
(2,	'cleanup expired auth tokens',	1,	1676529160),
(3,	'delete old login attempts',	9,	1676534902);

DROP TABLE IF EXISTS `session`;
CREATE TABLE `session` (
  `key` char(16) COLLATE utf8mb4_unicode_ci NOT NULL,
  `data` blob NOT NULL,
  `expiry` int(255) NOT NULL,
  PRIMARY KEY (`key`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


DROP TABLE IF EXISTS `short_url`;
CREATE TABLE `short_url` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `org_id` bigint(20) NOT NULL,
  `uid` varchar(40) COLLATE utf8mb4_unicode_ci NOT NULL,
  `path` text COLLATE utf8mb4_unicode_ci NOT NULL,
  `created_by` bigint(20) DEFAULT NULL,
  `created_at` int(11) NOT NULL,
  `last_seen_at` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `UQE_short_url_org_id_uid` (`org_id`,`uid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


DROP TABLE IF EXISTS `star`;
CREATE TABLE `star` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `user_id` bigint(20) NOT NULL,
  `dashboard_id` bigint(20) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `UQE_star_user_id_dashboard_id` (`user_id`,`dashboard_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


DROP TABLE IF EXISTS `tag`;
CREATE TABLE `tag` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `key` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL,
  `value` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `UQE_tag_key_value` (`key`,`value`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


DROP TABLE IF EXISTS `team`;
CREATE TABLE `team` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `name` varchar(190) COLLATE utf8mb4_unicode_ci NOT NULL,
  `org_id` bigint(20) NOT NULL,
  `created` datetime NOT NULL,
  `updated` datetime NOT NULL,
  `email` varchar(190) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `UQE_team_org_id_name` (`org_id`,`name`),
  KEY `IDX_team_org_id` (`org_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


DROP TABLE IF EXISTS `team_member`;
CREATE TABLE `team_member` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `org_id` bigint(20) NOT NULL,
  `team_id` bigint(20) NOT NULL,
  `user_id` bigint(20) NOT NULL,
  `created` datetime NOT NULL,
  `updated` datetime NOT NULL,
  `external` tinyint(1) DEFAULT NULL,
  `permission` smallint(6) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `UQE_team_member_org_id_team_id_user_id` (`org_id`,`team_id`,`user_id`),
  KEY `IDX_team_member_org_id` (`org_id`),
  KEY `IDX_team_member_team_id` (`team_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


DROP TABLE IF EXISTS `team_role`;
CREATE TABLE `team_role` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `org_id` bigint(20) NOT NULL,
  `team_id` bigint(20) NOT NULL,
  `role_id` bigint(20) NOT NULL,
  `created` datetime NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `UQE_team_role_org_id_team_id_role_id` (`org_id`,`team_id`,`role_id`),
  KEY `IDX_team_role_org_id` (`org_id`),
  KEY `IDX_team_role_team_id` (`team_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


DROP TABLE IF EXISTS `temp_user`;
CREATE TABLE `temp_user` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `org_id` bigint(20) NOT NULL,
  `version` int(11) NOT NULL,
  `email` varchar(190) COLLATE utf8mb4_unicode_ci NOT NULL,
  `name` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `role` varchar(20) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `code` varchar(190) COLLATE utf8mb4_unicode_ci NOT NULL,
  `status` varchar(20) COLLATE utf8mb4_unicode_ci NOT NULL,
  `invited_by_user_id` bigint(20) DEFAULT NULL,
  `email_sent` tinyint(1) NOT NULL,
  `email_sent_on` datetime DEFAULT NULL,
  `remote_addr` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `created` int(11) NOT NULL DEFAULT '0',
  `updated` int(11) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  KEY `IDX_temp_user_email` (`email`),
  KEY `IDX_temp_user_org_id` (`org_id`),
  KEY `IDX_temp_user_code` (`code`),
  KEY `IDX_temp_user_status` (`status`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


DROP TABLE IF EXISTS `test_data`;
CREATE TABLE `test_data` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `metric1` varchar(20) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `metric2` varchar(150) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `value_big_int` bigint(20) DEFAULT NULL,
  `value_double` double DEFAULT NULL,
  `value_float` float DEFAULT NULL,
  `value_int` int(11) DEFAULT NULL,
  `time_epoch` bigint(20) NOT NULL,
  `time_date_time` datetime NOT NULL,
  `time_time_stamp` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


DROP TABLE IF EXISTS `user`;
CREATE TABLE `user` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `version` int(11) NOT NULL,
  `login` varchar(190) COLLATE utf8mb4_unicode_ci NOT NULL,
  `email` varchar(190) COLLATE utf8mb4_unicode_ci NOT NULL,
  `name` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `password` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `salt` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `rands` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `company` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `org_id` bigint(20) NOT NULL,
  `is_admin` tinyint(1) NOT NULL,
  `email_verified` tinyint(1) DEFAULT NULL,
  `theme` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `created` datetime NOT NULL,
  `updated` datetime NOT NULL,
  `help_flags1` bigint(20) NOT NULL DEFAULT '0',
  `last_seen_at` datetime DEFAULT NULL,
  `is_disabled` tinyint(1) NOT NULL DEFAULT '0',
  `is_service_account` tinyint(1) DEFAULT '0',
  PRIMARY KEY (`id`),
  UNIQUE KEY `UQE_user_login` (`login`),
  UNIQUE KEY `UQE_user_email` (`email`),
  KEY `IDX_user_login_email` (`login`,`email`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

INSERT INTO `user` (`id`, `version`, `login`, `email`, `name`, `password`, `salt`, `rands`, `company`, `org_id`, `is_admin`, `email_verified`, `theme`, `created`, `updated`, `help_flags1`, `last_seen_at`, `is_disabled`, `is_service_account`) VALUES
(1,	0,	'admin',	'admin@localhost',	'',	'4afa09586c5fcf6bde350c256562d7d49f939ace3e0b6796ba0f7bc4e718bd3057751a4c38eb42fe388ecd81d718f40c2a9d',	'PEiBMkovci',	'MCFDduOlZh',	'',	1,	1,	0,	'',	'2023-02-16 06:32:39',	'2023-02-16 06:32:39',	0,	'2023-02-16 08:08:20',	0,	0);

DROP TABLE IF EXISTS `user_auth`;
CREATE TABLE `user_auth` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `user_id` bigint(20) NOT NULL,
  `auth_module` varchar(190) COLLATE utf8mb4_unicode_ci NOT NULL,
  `auth_id` varchar(190) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `created` datetime NOT NULL,
  `o_auth_access_token` text COLLATE utf8mb4_unicode_ci,
  `o_auth_refresh_token` text COLLATE utf8mb4_unicode_ci,
  `o_auth_token_type` text COLLATE utf8mb4_unicode_ci,
  `o_auth_expiry` datetime DEFAULT NULL,
  `o_auth_id_token` text COLLATE utf8mb4_unicode_ci,
  PRIMARY KEY (`id`),
  KEY `IDX_user_auth_auth_module_auth_id` (`auth_module`,`auth_id`),
  KEY `IDX_user_auth_user_id` (`user_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

INSERT INTO `user_auth` (`id`, `user_id`, `auth_module`, `auth_id`, `created`, `o_auth_access_token`, `o_auth_refresh_token`, `o_auth_token_type`, `o_auth_expiry`, `o_auth_id_token`) VALUES
(1,	1,	'authproxy',	'admin',	'2023-02-16 07:50:39',	'',	'',	'',	NULL,	'');

DROP TABLE IF EXISTS `user_auth_token`;
CREATE TABLE `user_auth_token` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `user_id` bigint(20) NOT NULL,
  `auth_token` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL,
  `prev_auth_token` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL,
  `user_agent` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `client_ip` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `auth_token_seen` tinyint(1) NOT NULL,
  `seen_at` int(11) DEFAULT NULL,
  `rotated_at` int(11) NOT NULL,
  `created_at` int(11) NOT NULL,
  `updated_at` int(11) NOT NULL,
  `revoked_at` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `UQE_user_auth_token_auth_token` (`auth_token`),
  UNIQUE KEY `UQE_user_auth_token_prev_auth_token` (`prev_auth_token`),
  KEY `IDX_user_auth_token_user_id` (`user_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


DROP TABLE IF EXISTS `user_role`;
CREATE TABLE `user_role` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `org_id` bigint(20) NOT NULL,
  `user_id` bigint(20) NOT NULL,
  `role_id` bigint(20) NOT NULL,
  `created` datetime NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `UQE_user_role_org_id_user_id_role_id` (`org_id`,`user_id`,`role_id`),
  KEY `IDX_user_role_org_id` (`org_id`),
  KEY `IDX_user_role_user_id` (`user_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

INSERT INTO `user_role` (`id`, `org_id`, `user_id`, `role_id`, `created`) VALUES
(1,	1,	1,	1,	'2023-02-16 07:45:32');

-- 2023-02-16 08:10:59