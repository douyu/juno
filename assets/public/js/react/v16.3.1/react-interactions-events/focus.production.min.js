/** @license React vundefined
 * react-interactions-events/focus.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
'use strict';(function(l,n){"object"===typeof exports&&"undefined"!==typeof module?module.exports=n(require("react")):"function"===typeof define&&define.amd?define(["react"],n):(l=l||self,l.ReactEventsFocus=n(l.React))})(this,function(l){function n(a,c,d){a.forEach(function(b){window.addEventListener(b,c,d)})}function y(){z||(z=!0,n(A,H,t?{capture:!0,passive:!0}:!0))}function H(a){switch(a.type){case "pointermove":case "pointerdown":case "pointerup":h=!1;p=a.pointerType;break;case "keydown":case "keyup":var c=
a.altKey,d=a.ctrlKey;a.metaKey||!B&&c||d||(p="keyboard",h=!0);break;case "touchmove":case "touchstart":case "touchend":m=!0;h=!1;p="touch";break;case "mousedown":m?m=!1:(h=!1,p="mouse")}}function k(a){return"function"===typeof a}function q(a,c,d,b,e){return{isTargetAttached:e,target:d,type:c,pointerType:b,timeStamp:a.getTimeStamp(),continuePropagation:function(){a.continuePropagation()}}}function u(a,c,d,b){a=a.type;h=!1;null===d.focusTarget||"mousedown"!==a&&"touchstart"!==a&&"pointerdown"!==a||
b(!1)}function C(a,c,d,b){var e=a.type;d.pointerType=p;switch(e){case "pointermove":case "pointerdown":case "pointerup":u(a,c,d,b);break;case "keydown":case "keyup":c=d.focusTarget;a=a.nativeEvent;d=a.altKey;e=a.ctrlKey;a.metaKey||!B&&d||e||null!==c&&b(!0);break;case "touchmove":case "touchstart":case "touchend":u(a,c,d,b);break;case "mousedown":m||u(a,c,d,b)}}function I(a,c,d){var b=d.pointerType,e=d.focusTarget,f=c.onFocus;k(f)&&(b=q(a,"focus",e,b,!0),a.dispatchEvent(b,f,0));f=c.onFocusChange;k(f)&&
a.dispatchEvent(!0,f,0);d.isFocusVisible&&v(a,c,!0)}function w(a,c,d){var b=d.pointerType,e=d.focusTarget,f=c.onBlur;k(f)&&(b=q(a,"blur",e,b,!0),a.dispatchEvent(b,f,0));f=c.onFocusChange;k(f)&&a.dispatchEvent(!1,f,0);d.isFocusVisible&&v(a,c,!1)}function J(a,c,d,b){var e=b.pointerType;c=b.focusTarget||c.target;d=d.onFocusWithin;k(d)&&(e=q(a,"focuswithin",c,e,!0),a.dispatchEvent(e,d,0))}function D(a,c,d,b){var e=b.pointerType;c=b.focusTarget||c.target;d=d.onBlurWithin;b=null===b.detachedTarget;k(d)&&
(e=q(a,"blurwithin",c,e,b),a.dispatchEvent(e,d,0))}function v(a,c,d){c=c.onFocusVisibleChange;k(c)&&a.dispatchEvent(d,c,0)}function r(a,c,d,b){var e=c.onFocusWithinChange;k(e)&&a.dispatchEvent(b,e,0);d.isFocusVisible&&x(a,c,d,b)}function x(a,c,d,b){c=c.onFocusWithinVisibleChange;k(c)&&a.dispatchEvent(b,c,0)}var h=!0,z=!1,p="",m=!1,B="undefined"!==typeof window&&null!=window.navigator?/^Mac/.test(window.navigator.platform):!1,t=!1;if("undefined"!==typeof window&&"undefined"!==typeof window.document&&
"undefined"!==typeof window.document.createElement)try{var g={};Object.defineProperty(g,"passive",{get:function(){t=!0}});window.addEventListener("test",g,g);window.removeEventListener("test",g,g)}catch(a){t=!1}var A="undefined"!==typeof window&&null!=window.PointerEvent?["keydown","keyup","pointermove","pointerdown","pointerup"]:"keydown keyup mousedown touchmove touchstart touchend".split(" ");g=["focus","blur","beforeblur"].concat(A);var E=["blur"],F=l.DEPRECATED_createResponder("Focus",{targetEventTypes:g,
targetPortalPropagation:!0,getInitialState:function(){return{detachedTarget:null,focusTarget:null,isFocused:!1,isFocusVisible:!1,pointerType:"",addedRootEvents:!1}},onMount:function(){y()},onEvent:function(a,c,d,b){var e=a.type,f=a.target;if(d.disabled)b.isFocused&&(w(c,d,b),b.isFocused=!1,b.focusTarget=null);else switch(e){case "focus":b.focusTarget=c.getResponderNode();b.isFocused||b.focusTarget!==f||(b.isFocused=!0,b.isFocusVisible=h,I(c,d,b));m=!1;break;case "blur":b.isFocused&&(w(c,d,b),b.isFocusVisible=
h,b.isFocused=!1);null==a.nativeEvent.relatedTarget&&(b.pointerType="");m=!1;break;default:C(a,c,b,function(a){b.isFocused&&b.isFocusVisible!==a&&(b.isFocusVisible=a,v(c,d,a))})}},onUnmount:function(a,c,d){d.isFocused&&w(a,c,d)}}),G=l.DEPRECATED_createResponder("FocusWithin",{targetEventTypes:g,targetPortalPropagation:!0,getInitialState:function(){return{detachedTarget:null,focusTarget:null,isFocused:!1,isFocusVisible:!1,pointerType:""}},onMount:function(){y()},onEvent:function(a,c,d,b){var e=a.type,
f=a.nativeEvent.relatedTarget;if(d.disabled)b.isFocused&&(r(c,d,b,!1),b.isFocused=!1,b.focusTarget=null);else switch(e){case "focus":b.focusTarget=c.getResponderNode();b.isFocused||(b.isFocused=!0,b.isFocusVisible=h,r(c,d,b,!0));!b.isFocusVisible&&h&&(b.isFocusVisible=h,x(c,d,b,!0));J(c,a,d,b);break;case "blur":b.isFocused&&!c.isTargetWithinResponder(f)&&(r(c,d,b,!1),D(c,a,d,b),b.isFocused=!1);break;case "beforeblur":e=d.onBeforeBlurWithin;k(e)?(f=q(c,"beforeblurwithin",a.target,b.pointerType,!0),
b.detachedTarget=a.target,c.dispatchEvent(f,e,0),b.addedRootEvents||(b.addedRootEvents=!0,c.addRootEventTypes(E))):c.continuePropagation();break;default:C(a,c,b,function(a){b.isFocused&&b.isFocusVisible!==a&&(b.isFocusVisible=a,x(c,d,b,a))})}},onRootEvent:function(a,c,d,b){if("blur"===a.type){var e=b.detachedTarget;null!==e&&e===a.target&&(D(c,a,d,b),b.detachedTarget=null,b.addedRootEvents&&(b.addedRootEvents=!1,c.removeRootEventTypes(E)))}},onUnmount:function(a,c,d){d.isFocused&&r(a,c,d,!1)}});return(g=
{__proto__:null,FocusResponder:F,useFocus:function(a){return l.DEPRECATED_useResponder(F,a)},FocusWithinResponder:G,useFocusWithin:function(a){return l.DEPRECATED_useResponder(G,a)}},g["default"])||g});
